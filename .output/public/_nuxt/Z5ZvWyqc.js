const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CWewLsqj.js","./CSSBGNrS.js","./error-404.DqZyKpgk.css","./DxEWWFyx.js","./error-500.CZqNkBuR.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ua(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ge={},tr=[],mt=()=>{},Af=()=>!1,sn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),da=t=>t.startsWith("onUpdate:"),He=Object.assign,fa=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Pf=Object.prototype.hasOwnProperty,de=(t,e)=>Pf.call(t,e),Y=Array.isArray,sr=t=>po(t)==="[object Map]",Gc=t=>po(t)==="[object Set]",J=t=>typeof t=="function",Se=t=>typeof t=="string",os=t=>typeof t=="symbol",we=t=>t!==null&&typeof t=="object",zc=t=>(we(t)||J(t))&&J(t.then)&&J(t.catch),Jc=Object.prototype.toString,po=t=>Jc.call(t),Rf=t=>po(t).slice(8,-1),Yc=t=>po(t)==="[object Object]",ha=t=>Se(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,rr=ua(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),go=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},If=/-(\w)/g,dt=go(t=>t.replace(If,(e,s)=>s?s.toUpperCase():"")),$f=/\B([A-Z])/g,is=go(t=>t.replace($f,"-$1").toLowerCase()),mo=go(t=>t.charAt(0).toUpperCase()+t.slice(1)),jo=go(t=>t?`on${mo(t)}`:""),ns=(t,e)=>!Object.is(t,e),jn=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},_i=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},wi=t=>{const e=parseFloat(t);return isNaN(e)?t:e},jf=t=>{const e=Se(t)?Number(t):NaN;return isNaN(e)?t:e};let nl;const yo=()=>nl||(nl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vo(t){if(Y(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=Se(r)?Nf(r):vo(r);if(n)for(const o in n)e[o]=n[o]}return e}else if(Se(t)||we(t))return t}const Lf=/;(?![^(]*\))/g,Mf=/:([^]+)/,Df=/\/\*[^]*?\*\//g;function Nf(t){const e={};return t.replace(Df,"").split(Lf).forEach(s=>{if(s){const r=s.split(Mf);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function bt(t){let e="";if(Se(t))e=t;else if(Y(t))for(let s=0;s<t.length;s++){const r=bt(t[s]);r&&(e+=r+" ")}else if(we(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}function Uf(t){if(!t)return null;let{class:e,style:s}=t;return e&&!Se(e)&&(t.class=bt(e)),s&&(t.style=vo(s)),t}const Bf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ff=ua(Bf);function Xc(t){return!!t||t===""}const Qc=t=>!!(t&&t.__v_isRef===!0),me=t=>Se(t)?t:t==null?"":Y(t)||we(t)&&(t.toString===Jc||!J(t.toString))?Qc(t)?me(t.value):JSON.stringify(t,Zc,2):String(t),Zc=(t,e)=>Qc(e)?Zc(t,e.value):sr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],o)=>(s[Lo(r,o)+" =>"]=n,s),{})}:Gc(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Lo(s))}:os(e)?Lo(e):we(e)&&!Y(e)&&!Yc(e)?String(e):e,Lo=(t,e="")=>{var s;return os(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};function Hf(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ue;class eu{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ue,!e&&Ue&&(this.index=(Ue.scopes||(Ue.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Ue;try{return Ue=this,e()}finally{Ue=s}}}on(){++this._on===1&&(this.prevScope=Ue,Ue=this)}off(){this._on>0&&--this._on===0&&(Ue=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function pa(t){return new eu(t)}function ga(){return Ue}function qf(t,e=!1){Ue&&Ue.cleanups.push(t)}let be;const Mo=new WeakSet;class tu{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ue&&Ue.active&&Ue.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Mo.has(this)&&(Mo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ru(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ol(this),nu(this);const e=be,s=yt;be=this,yt=!0;try{return this.fn()}finally{ou(this),be=e,yt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)va(e);this.deps=this.depsTail=void 0,ol(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Mo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ei(this)&&this.run()}get dirty(){return Ei(this)}}let su=0,Lr,Mr;function ru(t,e=!1){if(t.flags|=8,e){t.next=Mr,Mr=t;return}t.next=Lr,Lr=t}function ma(){su++}function ya(){if(--su>0)return;if(Mr){let e=Mr;for(Mr=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Lr;){let e=Lr;for(Lr=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function nu(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ou(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),va(r),Wf(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Ei(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(iu(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function iu(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Yr)||(t.globalVersion=Yr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ei(t))))return;t.flags|=2;const e=t.dep,s=be,r=yt;be=t,yt=!0;try{nu(t);const n=t.fn(t._value);(e.version===0||ns(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{be=s,yt=r,ou(t),t.flags&=-3}}function va(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)va(o,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Wf(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let yt=!0;const au=[];function Ut(){au.push(yt),yt=!1}function Bt(){const t=au.pop();yt=t===void 0?!0:t}function ol(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=be;be=void 0;try{e()}finally{be=s}}}let Yr=0;class Vf{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ba{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!be||!yt||be===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==be)s=this.activeLink=new Vf(be,this),be.deps?(s.prevDep=be.depsTail,be.depsTail.nextDep=s,be.depsTail=s):be.deps=be.depsTail=s,lu(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=be.depsTail,s.nextDep=void 0,be.depsTail.nextDep=s,be.depsTail=s,be.deps===s&&(be.deps=r)}return s}trigger(e){this.version++,Yr++,this.notify(e)}notify(e){ma();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ya()}}}function lu(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)lu(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Wn=new WeakMap,bs=Symbol(""),Si=Symbol(""),Xr=Symbol("");function Be(t,e,s){if(yt&&be){let r=Wn.get(t);r||Wn.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new ba),n.map=r,n.key=s),n.track()}}function Lt(t,e,s,r,n,o){const i=Wn.get(t);if(!i){Yr++;return}const a=l=>{l&&l.trigger()};if(ma(),e==="clear")i.forEach(a);else{const l=Y(t),u=l&&ha(s);if(l&&s==="length"){const c=Number(r);i.forEach((d,f)=>{(f==="length"||f===Xr||!os(f)&&f>=c)&&a(d)})}else switch((s!==void 0||i.has(void 0))&&a(i.get(s)),u&&a(i.get(Xr)),e){case"add":l?u&&a(i.get("length")):(a(i.get(bs)),sr(t)&&a(i.get(Si)));break;case"delete":l||(a(i.get(bs)),sr(t)&&a(i.get(Si)));break;case"set":sr(t)&&a(i.get(bs));break}}ya()}function Kf(t,e){const s=Wn.get(t);return s&&s.get(e)}function Ps(t){const e=le(t);return e===t?e:(Be(e,"iterate",Xr),ut(t)?e:e.map(je))}function bo(t){return Be(t=le(t),"iterate",Xr),t}const Gf={__proto__:null,[Symbol.iterator](){return Do(this,Symbol.iterator,je)},concat(...t){return Ps(this).concat(...t.map(e=>Y(e)?Ps(e):e))},entries(){return Do(this,"entries",t=>(t[1]=je(t[1]),t))},every(t,e){return Rt(this,"every",t,e,void 0,arguments)},filter(t,e){return Rt(this,"filter",t,e,s=>s.map(je),arguments)},find(t,e){return Rt(this,"find",t,e,je,arguments)},findIndex(t,e){return Rt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Rt(this,"findLast",t,e,je,arguments)},findLastIndex(t,e){return Rt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Rt(this,"forEach",t,e,void 0,arguments)},includes(...t){return No(this,"includes",t)},indexOf(...t){return No(this,"indexOf",t)},join(t){return Ps(this).join(t)},lastIndexOf(...t){return No(this,"lastIndexOf",t)},map(t,e){return Rt(this,"map",t,e,void 0,arguments)},pop(){return Cr(this,"pop")},push(...t){return Cr(this,"push",t)},reduce(t,...e){return il(this,"reduce",t,e)},reduceRight(t,...e){return il(this,"reduceRight",t,e)},shift(){return Cr(this,"shift")},some(t,e){return Rt(this,"some",t,e,void 0,arguments)},splice(...t){return Cr(this,"splice",t)},toReversed(){return Ps(this).toReversed()},toSorted(t){return Ps(this).toSorted(t)},toSpliced(...t){return Ps(this).toSpliced(...t)},unshift(...t){return Cr(this,"unshift",t)},values(){return Do(this,"values",je)}};function Do(t,e,s){const r=bo(t),n=r[e]();return r!==t&&!ut(t)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.value&&(o.value=s(o.value)),o}),n}const zf=Array.prototype;function Rt(t,e,s,r,n,o){const i=bo(t),a=i!==t&&!ut(t),l=i[e];if(l!==zf[e]){const d=l.apply(t,o);return a?je(d):d}let u=s;i!==t&&(a?u=function(d,f){return s.call(this,je(d),f,t)}:s.length>2&&(u=function(d,f){return s.call(this,d,f,t)}));const c=l.call(i,u,r);return a&&n?n(c):c}function il(t,e,s,r){const n=bo(t);let o=s;return n!==t&&(ut(t)?s.length>3&&(o=function(i,a,l){return s.call(this,i,a,l,t)}):o=function(i,a,l){return s.call(this,i,je(a),l,t)}),n[e](o,...r)}function No(t,e,s){const r=le(t);Be(r,"iterate",Xr);const n=r[e](...s);return(n===-1||n===!1)&&Ea(s[0])?(s[0]=le(s[0]),r[e](...s)):n}function Cr(t,e,s=[]){Ut(),ma();const r=le(t)[e].apply(t,s);return ya(),Bt(),r}const Jf=ua("__proto__,__v_isRef,__isVue"),cu=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(os));function Yf(t){os(t)||(t=String(t));const e=le(this);return Be(e,"has",t),e.hasOwnProperty(t)}class uu{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return o;if(s==="__v_raw")return r===(n?o?ih:pu:o?hu:fu).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const i=Y(e);if(!n){let l;if(i&&(l=Gf[s]))return l;if(s==="hasOwnProperty")return Yf}const a=Reflect.get(e,s,_e(e)?e:r);return(os(s)?cu.has(s):Jf(s))||(n||Be(e,"get",s),o)?a:_e(a)?i&&ha(s)?a:a.value:we(a)?n?_o(a):Ft(a):a}}class du extends uu{constructor(e=!1){super(!1,e)}set(e,s,r,n){let o=e[s];if(!this._isShallow){const l=Ht(o);if(!ut(r)&&!Ht(r)&&(o=le(o),r=le(r)),!Y(e)&&_e(o)&&!_e(r))return l?!1:(o.value=r,!0)}const i=Y(e)&&ha(s)?Number(s)<e.length:de(e,s),a=Reflect.set(e,s,r,_e(e)?e:n);return e===le(n)&&(i?ns(r,o)&&Lt(e,"set",s,r):Lt(e,"add",s,r)),a}deleteProperty(e,s){const r=de(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&Lt(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!os(s)||!cu.has(s))&&Be(e,"has",s),r}ownKeys(e){return Be(e,"iterate",Y(e)?"length":bs),Reflect.ownKeys(e)}}class Xf extends uu{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Qf=new du,Zf=new Xf,eh=new du(!0);const Ti=t=>t,mn=t=>Reflect.getPrototypeOf(t);function th(t,e,s){return function(...r){const n=this.__v_raw,o=le(n),i=sr(o),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,u=n[t](...r),c=s?Ti:e?Vn:je;return!e&&Be(o,"iterate",l?Si:bs),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function yn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function sh(t,e){const s={get(n){const o=this.__v_raw,i=le(o),a=le(n);t||(ns(n,a)&&Be(i,"get",n),Be(i,"get",a));const{has:l}=mn(i),u=e?Ti:t?Vn:je;if(l.call(i,n))return u(o.get(n));if(l.call(i,a))return u(o.get(a));o!==i&&o.get(n)},get size(){const n=this.__v_raw;return!t&&Be(le(n),"iterate",bs),Reflect.get(n,"size",n)},has(n){const o=this.__v_raw,i=le(o),a=le(n);return t||(ns(n,a)&&Be(i,"has",n),Be(i,"has",a)),n===a?o.has(n):o.has(n)||o.has(a)},forEach(n,o){const i=this,a=i.__v_raw,l=le(a),u=e?Ti:t?Vn:je;return!t&&Be(l,"iterate",bs),a.forEach((c,d)=>n.call(o,u(c),u(d),i))}};return He(s,t?{add:yn("add"),set:yn("set"),delete:yn("delete"),clear:yn("clear")}:{add(n){!e&&!ut(n)&&!Ht(n)&&(n=le(n));const o=le(this);return mn(o).has.call(o,n)||(o.add(n),Lt(o,"add",n,n)),this},set(n,o){!e&&!ut(o)&&!Ht(o)&&(o=le(o));const i=le(this),{has:a,get:l}=mn(i);let u=a.call(i,n);u||(n=le(n),u=a.call(i,n));const c=l.call(i,n);return i.set(n,o),u?ns(o,c)&&Lt(i,"set",n,o):Lt(i,"add",n,o),this},delete(n){const o=le(this),{has:i,get:a}=mn(o);let l=i.call(o,n);l||(n=le(n),l=i.call(o,n)),a&&a.call(o,n);const u=o.delete(n);return l&&Lt(o,"delete",n,void 0),u},clear(){const n=le(this),o=n.size!==0,i=n.clear();return o&&Lt(n,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=th(n,t,e)}),s}function _a(t,e){const s=sh(t,e);return(r,n,o)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(de(s,n)&&n in r?s:r,n,o)}const rh={get:_a(!1,!1)},nh={get:_a(!1,!0)},oh={get:_a(!0,!1)};const fu=new WeakMap,hu=new WeakMap,pu=new WeakMap,ih=new WeakMap;function ah(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function lh(t){return t.__v_skip||!Object.isExtensible(t)?0:ah(Rf(t))}function Ft(t){return Ht(t)?t:wa(t,!1,Qf,rh,fu)}function Xs(t){return wa(t,!1,eh,nh,hu)}function _o(t){return wa(t,!0,Zf,oh,pu)}function wa(t,e,s,r,n){if(!we(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=lh(t);if(o===0)return t;const i=n.get(t);if(i)return i;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function kt(t){return Ht(t)?kt(t.__v_raw):!!(t&&t.__v_isReactive)}function Ht(t){return!!(t&&t.__v_isReadonly)}function ut(t){return!!(t&&t.__v_isShallow)}function Ea(t){return t?!!t.__v_raw:!1}function le(t){const e=t&&t.__v_raw;return e?le(e):t}function Sa(t){return!de(t,"__v_skip")&&Object.isExtensible(t)&&_i(t,"__v_skip",!0),t}const je=t=>we(t)?Ft(t):t,Vn=t=>we(t)?_o(t):t;function _e(t){return t?t.__v_isRef===!0:!1}function ie(t){return gu(t,!1)}function al(t){return gu(t,!0)}function gu(t,e){return _e(t)?t:new ch(t,e)}class ch{constructor(e,s){this.dep=new ba,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:le(e),this._value=s?e:je(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||ut(e)||Ht(e);e=r?e:le(e),ns(e,s)&&(this._rawValue=e,this._value=r?e:je(e),this.dep.trigger())}}function H(t){return _e(t)?t.value:t}function uh(t){return J(t)?t():H(t)}const dh={get:(t,e,s)=>e==="__v_raw"?t:H(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return _e(n)&&!_e(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function mu(t){return kt(t)?t:new Proxy(t,dh)}function fh(t){const e=Y(t)?new Array(t.length):{};for(const s in t)e[s]=vu(t,s);return e}class hh{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Kf(le(this._object),this._key)}}class ph{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function yu(t,e,s){return _e(t)?t:J(t)?new ph(t):we(t)&&arguments.length>1?vu(t,e,s):ie(t)}function vu(t,e,s){const r=t[e];return _e(r)?r:new hh(t,e,s)}class gh{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new ba(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&be!==this)return ru(this,!0),!0}get value(){const e=this.dep.track();return iu(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function mh(t,e,s=!1){let r,n;return J(t)?r=t:(r=t.get,n=t.set),new gh(r,n,s)}const vn={},Kn=new WeakMap;let gs;function yh(t,e=!1,s=gs){if(s){let r=Kn.get(s);r||Kn.set(s,r=[]),r.push(t)}}function vh(t,e,s=ge){const{immediate:r,deep:n,once:o,scheduler:i,augmentJob:a,call:l}=s,u=b=>n?b:ut(b)||n===!1||n===0?Mt(b,1):Mt(b);let c,d,f,h,p=!1,g=!1;if(_e(t)?(d=()=>t.value,p=ut(t)):kt(t)?(d=()=>u(t),p=!0):Y(t)?(g=!0,p=t.some(b=>kt(b)||ut(b)),d=()=>t.map(b=>{if(_e(b))return b.value;if(kt(b))return u(b);if(J(b))return l?l(b,2):b()})):J(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Ut();try{f()}finally{Bt()}}const b=gs;gs=c;try{return l?l(t,3,[h]):t(h)}finally{gs=b}}:d=mt,e&&n){const b=d,E=n===!0?1/0:n;d=()=>Mt(b(),E)}const _=ga(),w=()=>{c.stop(),_&&_.active&&fa(_.effects,c)};if(o&&e){const b=e;e=(...E)=>{b(...E),w()}}let T=g?new Array(t.length).fill(vn):vn;const y=b=>{if(!(!(c.flags&1)||!c.dirty&&!b))if(e){const E=c.run();if(n||p||(g?E.some((x,R)=>ns(x,T[R])):ns(E,T))){f&&f();const x=gs;gs=c;try{const R=[E,T===vn?void 0:g&&T[0]===vn?[]:T,h];T=E,l?l(e,3,R):e(...R)}finally{gs=x}}}else c.run()};return a&&a(y),c=new tu(d),c.scheduler=i?()=>i(y,!1):y,h=b=>yh(b,!1,c),f=c.onStop=()=>{const b=Kn.get(c);if(b){if(l)l(b,4);else for(const E of b)E();Kn.delete(c)}},e?r?y(!0):T=c.run():i?i(y.bind(null,!0),!0):c.run(),w.pause=c.pause.bind(c),w.resume=c.resume.bind(c),w.stop=w,w}function Mt(t,e=1/0,s){if(e<=0||!we(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,_e(t))Mt(t.value,e,s);else if(Y(t))for(let r=0;r<t.length;r++)Mt(t[r],e,s);else if(Gc(t)||sr(t))t.forEach(r=>{Mt(r,e,s)});else if(Yc(t)){for(const r in t)Mt(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Mt(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rn(t,e,s,r){try{return r?t(...r):t()}catch(n){vr(n,e,s)}}function At(t,e,s,r){if(J(t)){const n=rn(t,e,s,r);return n&&zc(n)&&n.catch(o=>{vr(o,e,s)}),n}if(Y(t)){const n=[];for(let o=0;o<t.length;o++)n.push(At(t[o],e,s,r));return n}}function vr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||ge;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(o){Ut(),rn(o,null,10,[t,l,u]),Bt();return}}bh(t,s,n,r,i)}function bh(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const Ke=[];let St=-1;const nr=[];let Yt=null,Ks=0;const bu=Promise.resolve();let Gn=null;function nn(t){const e=Gn||bu;return t?e.then(this?t.bind(this):t):e}function _h(t){let e=St+1,s=Ke.length;for(;e<s;){const r=e+s>>>1,n=Ke[r],o=Qr(n);o<t||o===t&&n.flags&2?e=r+1:s=r}return e}function Ta(t){if(!(t.flags&1)){const e=Qr(t),s=Ke[Ke.length-1];!s||!(t.flags&2)&&e>=Qr(s)?Ke.push(t):Ke.splice(_h(e),0,t),t.flags|=1,_u()}}function _u(){Gn||(Gn=bu.then(wu))}function zn(t){Y(t)?nr.push(...t):Yt&&t.id===-1?Yt.splice(Ks+1,0,t):t.flags&1||(nr.push(t),t.flags|=1),_u()}function ll(t,e,s=St+1){for(;s<Ke.length;s++){const r=Ke[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ke.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Jn(t){if(nr.length){const e=[...new Set(nr)].sort((s,r)=>Qr(s)-Qr(r));if(nr.length=0,Yt){Yt.push(...e);return}for(Yt=e,Ks=0;Ks<Yt.length;Ks++){const s=Yt[Ks];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Yt=null,Ks=0}}const Qr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function wu(t){try{for(St=0;St<Ke.length;St++){const e=Ke[St];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),rn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;St<Ke.length;St++){const e=Ke[St];e&&(e.flags&=-2)}St=-1,Ke.length=0,Jn(),Gn=null,(Ke.length||nr.length)&&wu()}}let it=null,Eu=null;function Yn(t){const e=it;return it=t,Eu=t&&t.type.__scopeId||null,e}function wo(t,e=it,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&wl(-1);const o=Yn(e);let i;try{i=t(...n)}finally{Yn(o),r._d&&wl(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function ur(t,e){if(it===null)return t;const s=xo(it),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[o,i,a,l=ge]=e[n];o&&(J(o)&&(o={mounted:o,updated:o}),o.deep&&Mt(i),r.push({dir:o,instance:s,value:i,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ct(t,e,s,r){const n=t.dirs,o=e&&e.dirs;for(let i=0;i<n.length;i++){const a=n[i];o&&(a.oldValue=o[i].value);let l=a.dir[r];l&&(Ut(),At(l,s,8,[t.el,a,t,e]),Bt())}}const wh=Symbol("_vte"),Eh=t=>t.__isTeleport;function Ca(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ca(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Xe(t,e){return J(t)?He({name:t.name},e,{setup:t}):t}function xa(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function or(t,e,s,r,n=!1){if(Y(t)){t.forEach((p,g)=>or(p,e&&(Y(e)?e[g]:e),s,r,n));return}if(ir(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&or(t,e,s,r.component.subTree);return}const o=r.shapeFlag&4?xo(r.component):r.el,i=n?null:o,{i:a,r:l}=t,u=e&&e.r,c=a.refs===ge?a.refs={}:a.refs,d=a.setupState,f=le(d),h=d===ge?()=>!1:p=>de(f,p);if(u!=null&&u!==l&&(Se(u)?(c[u]=null,h(u)&&(d[u]=null)):_e(u)&&(u.value=null)),J(l))rn(l,a,12,[i,c]);else{const p=Se(l),g=_e(l);if(p||g){const _=()=>{if(t.f){const w=p?h(l)?d[l]:c[l]:l.value;n?Y(w)&&fa(w,o):Y(w)?w.includes(o)||w.push(o):p?(c[l]=[o],h(l)&&(d[l]=c[l])):(l.value=[o],t.k&&(c[t.k]=l.value))}else p?(c[l]=i,h(l)&&(d[l]=i)):g&&(l.value=i,t.k&&(c[t.k]=i))};i?(_.id=-1,tt(_,s)):_()}}}let cl=!1;const Rs=()=>{cl||(console.error("Hydration completed but contains mismatches."),cl=!0)},Sh=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",Th=t=>t.namespaceURI.includes("MathML"),bn=t=>{if(t.nodeType===1){if(Sh(t))return"svg";if(Th(t))return"mathml"}},Qs=t=>t.nodeType===8;function Ch(t){const{mt:e,p:s,o:{patchProp:r,createText:n,nextSibling:o,parentNode:i,remove:a,insert:l,createComment:u}}=t,c=(y,b)=>{if(!b.hasChildNodes()){s(null,y,b),Jn(),b._vnode=y;return}d(b.firstChild,y,null,null,null),Jn(),b._vnode=y},d=(y,b,E,x,R,D=!1)=>{D=D||!!b.dynamicChildren;const P=Qs(y)&&y.data==="[",M=()=>g(y,b,E,x,R,P),{type:X,ref:Z,shapeFlag:ee,patchFlag:fe}=b;let pe=y.nodeType;b.el=y,fe===-2&&(D=!1,b.dynamicChildren=null);let B=null;switch(X){case Es:pe!==3?b.children===""?(l(b.el=n(""),i(y),y),B=y):B=M():(y.data!==b.children&&(Rs(),y.data=b.children),B=o(y));break;case vt:T(y)?(B=o(y),w(b.el=y.content.firstChild,y,E)):pe!==8||P?B=M():B=o(y);break;case lr:if(P&&(y=o(y),pe=y.nodeType),pe===1||pe===3){B=y;const W=!b.children.length;for(let F=0;F<b.staticCount;F++)W&&(b.children+=B.nodeType===1?B.outerHTML:B.data),F===b.staticCount-1&&(b.anchor=B),B=o(B);return P?o(B):B}else M();break;case Fe:P?B=p(y,b,E,x,R,D):B=M();break;default:if(ee&1)(pe!==1||b.type.toLowerCase()!==y.tagName.toLowerCase())&&!T(y)?B=M():B=f(y,b,E,x,R,D);else if(ee&6){b.slotScopeIds=R;const W=i(y);if(P?B=_(y):Qs(y)&&y.data==="teleport start"?B=_(y,y.data,"teleport end"):B=o(y),e(b,W,null,E,x,bn(W),D),ir(b)&&!b.type.__asyncResolved){let F;P?(F=ce(Fe),F.anchor=B?B.previousSibling:W.lastChild):F=y.nodeType===3?Ia(""):ce("div"),F.el=y,b.component.subTree=F}}else ee&64?pe!==8?B=M():B=b.type.hydrate(y,b,E,x,R,D,t,h):ee&128&&(B=b.type.hydrate(y,b,E,x,bn(i(y)),R,D,t,d))}return Z!=null&&or(Z,null,x,b),B},f=(y,b,E,x,R,D)=>{D=D||!!b.dynamicChildren;const{type:P,props:M,patchFlag:X,shapeFlag:Z,dirs:ee,transition:fe}=b,pe=P==="input"||P==="option";if(pe||X!==-1){ee&&Ct(b,null,E,"created");let B=!1;if(T(y)){B=Vu(null,fe)&&E&&E.vnode.props&&E.vnode.props.appear;const F=y.content.firstChild;if(B){const Te=F.getAttribute("class");Te&&(F.$cls=Te),fe.beforeEnter(F)}w(F,y,E),b.el=y=F}if(Z&16&&!(M&&(M.innerHTML||M.textContent))){let F=h(y.firstChild,b,y,E,x,R,D);for(;F;){_n(y,1)||Rs();const Te=F;F=F.nextSibling,a(Te)}}else if(Z&8){let F=b.children;F[0]===`
`&&(y.tagName==="PRE"||y.tagName==="TEXTAREA")&&(F=F.slice(1)),y.textContent!==F&&(_n(y,0)||Rs(),y.textContent=b.children)}if(M){if(pe||!D||X&48){const F=y.tagName.includes("-");for(const Te in M)(pe&&(Te.endsWith("value")||Te==="indeterminate")||sn(Te)&&!rr(Te)||Te[0]==="."||F)&&r(y,Te,null,M[Te],void 0,E)}else if(M.onClick)r(y,"onClick",null,M.onClick,void 0,E);else if(X&4&&kt(M.style))for(const F in M.style)M.style[F]}let W;(W=M&&M.onVnodeBeforeMount)&&lt(W,E,b),ee&&Ct(b,null,E,"beforeMount"),((W=M&&M.onVnodeMounted)||ee||B)&&Qu(()=>{W&&lt(W,E,b),B&&fe.enter(y),ee&&Ct(b,null,E,"mounted")},x)}return y.nextSibling},h=(y,b,E,x,R,D,P)=>{P=P||!!b.dynamicChildren;const M=b.children,X=M.length;for(let Z=0;Z<X;Z++){const ee=P?M[Z]:M[Z]=rt(M[Z]),fe=ee.type===Es;y?(fe&&!P&&Z+1<X&&rt(M[Z+1]).type===Es&&(l(n(y.data.slice(ee.children.length)),E,o(y)),y.data=ee.children),y=d(y,ee,x,R,D,P)):fe&&!ee.children?l(ee.el=n(""),E):(_n(E,1)||Rs(),s(null,ee,E,null,x,R,bn(E),D))}return y},p=(y,b,E,x,R,D)=>{const{slotScopeIds:P}=b;P&&(R=R?R.concat(P):P);const M=i(y),X=h(o(y),b,M,E,x,R,D);return X&&Qs(X)&&X.data==="]"?o(b.anchor=X):(Rs(),l(b.anchor=u("]"),M,X),X)},g=(y,b,E,x,R,D)=>{if(_n(y.parentElement,1)||Rs(),b.el=null,D){const X=_(y);for(;;){const Z=o(y);if(Z&&Z!==X)a(Z);else break}}const P=o(y),M=i(y);return a(y),s(null,b,M,P,E,x,bn(M),R),E&&(E.vnode.el=b.el,Co(E,b.el)),P},_=(y,b="[",E="]")=>{let x=0;for(;y;)if(y=o(y),y&&Qs(y)&&(y.data===b&&x++,y.data===E)){if(x===0)return o(y);x--}return y},w=(y,b,E)=>{const x=b.parentNode;x&&x.replaceChild(y,b);let R=E;for(;R;)R.vnode.el===b&&(R.vnode.el=R.subTree.el=y),R=R.parent},T=y=>y.nodeType===1&&y.tagName==="TEMPLATE";return[c,d]}const ul="data-allow-mismatch",xh={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function _n(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(ul);)t=t.parentElement;const s=t&&t.getAttribute(ul);if(s==null)return!1;if(s==="")return!0;{const r=s.split(",");return e===0&&r.includes("children")?!0:r.includes(xh[e])}}yo().requestIdleCallback;yo().cancelIdleCallback;function kh(t,e){if(Qs(t)&&t.data==="["){let s=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(Qs(r))if(r.data==="]"){if(--s===0)break}else r.data==="["&&s++;r=r.nextSibling}}else e(t)}const ir=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function dl(t){J(t)&&(t={loader:t});const{loader:e,loadingComponent:s,errorComponent:r,delay:n=200,hydrate:o,timeout:i,suspensible:a=!0,onError:l}=t;let u=null,c,d=0;const f=()=>(d++,u=null,h()),h=()=>{let p;return u||(p=u=e().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),l)return new Promise((_,w)=>{l(g,()=>_(f()),()=>w(g),d+1)});throw g}).then(g=>p!==u&&u?u:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),c=g,g)))};return Xe({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(p,g,_){let w=!1;(g.bu||(g.bu=[])).push(()=>w=!0);const T=()=>{w||_()},y=o?()=>{const b=o(T,E=>kh(p,E));b&&(g.bum||(g.bum=[])).push(b)}:T;c?y():h().then(()=>!g.isUnmounted&&y())},get __asyncResolved(){return c},setup(){const p=Le;if(xa(p),c)return()=>Uo(c,p);const g=y=>{u=null,vr(y,p,13,!r)};if(a&&p.suspense||hr)return h().then(y=>()=>Uo(y,p)).catch(y=>(g(y),()=>r?ce(r,{error:y}):null));const _=ie(!1),w=ie(),T=ie(!!n);return n&&setTimeout(()=>{T.value=!1},n),i!=null&&setTimeout(()=>{if(!_.value&&!w.value){const y=new Error(`Async component timed out after ${i}ms.`);g(y),w.value=y}},i),h().then(()=>{_.value=!0,p.parent&&ka(p.parent.vnode)&&p.parent.update()}).catch(y=>{g(y),w.value=y}),()=>{if(_.value&&c)return Uo(c,p);if(w.value&&r)return ce(r,{error:w.value});if(s&&!T.value)return ce(s)}}})}function Uo(t,e){const{ref:s,props:r,children:n,ce:o}=e.vnode,i=ce(t,r,n);return i.ref=s,i.ce=o,delete e.vnode.ce,i}const ka=t=>t.type.__isKeepAlive;function Su(t,e){Cu(t,"a",e)}function Tu(t,e){Cu(t,"da",e)}function Cu(t,e,s=Le){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Eo(e,r,s),s){let n=s.parent;for(;n&&n.parent;)ka(n.parent.vnode)&&Oh(r,e,s,n),n=n.parent}}function Oh(t,e,s,r){const n=Eo(e,t,r,!0);ks(()=>{fa(r[e],n)},s)}function Eo(t,e,s=Le,r=!1){if(s){const n=s[t]||(s[t]=[]),o=e.__weh||(e.__weh=(...i)=>{Ut();const a=an(s),l=At(e,s,t,i);return a(),Bt(),l});return r?n.unshift(o):n.push(o),o}}const Wt=t=>(e,s=Le)=>{(!hr||t==="sp")&&Eo(t,(...r)=>e(...r),s)},Ah=Wt("bm"),br=Wt("m"),xu=Wt("bu"),Ph=Wt("u"),ku=Wt("bum"),ks=Wt("um"),Rh=Wt("sp"),Ih=Wt("rtg"),$h=Wt("rtc");function Ou(t,e=Le){Eo("ec",t,e)}const Au="components";function jh(t,e){return Ru(Au,t,!0,e)||t}const Pu=Symbol.for("v-ndc");function Lh(t){return Se(t)?Ru(Au,t,!1)||t:t||Pu}function Ru(t,e,s=!0,r=!1){const n=it||Le;if(n){const o=n.type;{const a=xp(o,!1);if(a&&(a===e||a===dt(e)||a===mo(dt(e))))return o}const i=fl(n[t]||o[t],e)||fl(n.appContext[t],e);return!i&&r?o:i}}function fl(t,e){return t&&(t[e]||t[dt(e)]||t[mo(dt(e))])}function Oa(t,e,s,r){let n;const o=s,i=Y(t);if(i||Se(t)){const a=i&&kt(t);let l=!1,u=!1;a&&(l=!ut(t),u=Ht(t),t=bo(t)),n=new Array(t.length);for(let c=0,d=t.length;c<d;c++)n[c]=e(l?u?Vn(je(t[c])):je(t[c]):t[c],c,void 0,o)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,o)}else if(we(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,o));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,o)}}else n=[];return n}const Ci=t=>t?rd(t)?xo(t):Ci(t.parent):null,Dr=He(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ci(t.parent),$root:t=>Ci(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>$u(t),$forceUpdate:t=>t.f||(t.f=()=>{Ta(t.update)}),$nextTick:t=>t.n||(t.n=nn.bind(t.proxy)),$watch:t=>sp.bind(t)}),Bo=(t,e)=>t!==ge&&!t.__isScriptSetup&&de(t,e),Mh={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:o,accessCache:i,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const h=i[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return o[e]}else{if(Bo(r,e))return i[e]=1,r[e];if(n!==ge&&de(n,e))return i[e]=2,n[e];if((u=t.propsOptions[0])&&de(u,e))return i[e]=3,o[e];if(s!==ge&&de(s,e))return i[e]=4,s[e];xi&&(i[e]=0)}}const c=Dr[e];let d,f;if(c)return e==="$attrs"&&Be(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==ge&&de(s,e))return i[e]=4,s[e];if(f=l.config.globalProperties,de(f,e))return f[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:o}=t;return Bo(n,e)?(n[e]=s,!0):r!==ge&&de(r,e)?(r[e]=s,!0):de(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:o}},i){let a;return!!s[i]||t!==ge&&de(t,i)||Bo(e,i)||(a=o[0])&&de(a,i)||de(r,i)||de(Dr,i)||de(n.config.globalProperties,i)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:de(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function hl(t){return Y(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let xi=!0;function Dh(t){const e=$u(t),s=t.proxy,r=t.ctx;xi=!1,e.beforeCreate&&pl(e.beforeCreate,t,"bc");const{data:n,computed:o,methods:i,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:g,deactivated:_,beforeDestroy:w,beforeUnmount:T,destroyed:y,unmounted:b,render:E,renderTracked:x,renderTriggered:R,errorCaptured:D,serverPrefetch:P,expose:M,inheritAttrs:X,components:Z,directives:ee,filters:fe}=e;if(u&&Nh(u,r,null),i)for(const W in i){const F=i[W];J(F)&&(r[W]=F.bind(s))}if(n){const W=n.call(s,s);we(W)&&(t.data=Ft(W))}if(xi=!0,o)for(const W in o){const F=o[W],Te=J(F)?F.bind(s,s):J(F.get)?F.get.bind(s,s):mt,Er=!J(F)&&J(F.set)?F.set.bind(s):mt,wt=ln({get:Te,set:Er});Object.defineProperty(r,W,{enumerable:!0,configurable:!0,get:()=>wt.value,set:at=>wt.value=at})}if(a)for(const W in a)Iu(a[W],r,s,W);if(l){const W=J(l)?l.call(s):l;Reflect.ownKeys(W).forEach(F=>{Lu(F,W[F])})}c&&pl(c,t,"c");function B(W,F){Y(F)?F.forEach(Te=>W(Te.bind(s))):F&&W(F.bind(s))}if(B(Ah,d),B(br,f),B(xu,h),B(Ph,p),B(Su,g),B(Tu,_),B(Ou,D),B($h,x),B(Ih,R),B(ku,T),B(ks,b),B(Rh,P),Y(M))if(M.length){const W=t.exposed||(t.exposed={});M.forEach(F=>{Object.defineProperty(W,F,{get:()=>s[F],set:Te=>s[F]=Te,enumerable:!0})})}else t.exposed||(t.exposed={});E&&t.render===mt&&(t.render=E),X!=null&&(t.inheritAttrs=X),Z&&(t.components=Z),ee&&(t.directives=ee),P&&xa(t)}function Nh(t,e,s=mt){Y(t)&&(t=ki(t));for(const r in t){const n=t[r];let o;we(n)?"default"in n?o=ws(n.from||r,n.default,!0):o=ws(n.from||r):o=ws(n),_e(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[r]=o}}function pl(t,e,s){At(Y(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Iu(t,e,s,r){let n=r.includes(".")?zu(s,r):()=>s[r];if(Se(t)){const o=e[t];J(o)&&Dt(n,o)}else if(J(t))Dt(n,t.bind(s));else if(we(t))if(Y(t))t.forEach(o=>Iu(o,e,s,r));else{const o=J(t.handler)?t.handler.bind(s):e[t.handler];J(o)&&Dt(n,o,t)}}function $u(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,a=o.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Xn(l,u,i,!0)),Xn(l,e,i)),we(e)&&o.set(e,l),l}function Xn(t,e,s,r=!1){const{mixins:n,extends:o}=e;o&&Xn(t,o,s,!0),n&&n.forEach(i=>Xn(t,i,s,!0));for(const i in e)if(!(r&&i==="expose")){const a=Uh[i]||s&&s[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const Uh={data:gl,props:ml,emits:ml,methods:Pr,computed:Pr,beforeCreate:We,created:We,beforeMount:We,mounted:We,beforeUpdate:We,updated:We,beforeDestroy:We,beforeUnmount:We,destroyed:We,unmounted:We,activated:We,deactivated:We,errorCaptured:We,serverPrefetch:We,components:Pr,directives:Pr,watch:Fh,provide:gl,inject:Bh};function gl(t,e){return e?t?function(){return He(J(t)?t.call(this,this):t,J(e)?e.call(this,this):e)}:e:t}function Bh(t,e){return Pr(ki(t),ki(e))}function ki(t){if(Y(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function We(t,e){return t?[...new Set([].concat(t,e))]:e}function Pr(t,e){return t?He(Object.create(null),t,e):e}function ml(t,e){return t?Y(t)&&Y(e)?[...new Set([...t,...e])]:He(Object.create(null),hl(t),hl(e??{})):e}function Fh(t,e){if(!t)return e;if(!e)return t;const s=He(Object.create(null),t);for(const r in e)s[r]=We(t[r],e[r]);return s}function ju(){return{app:null,config:{isNativeTag:Af,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hh=0;function qh(t,e){return function(r,n=null){J(r)||(r=He({},r)),n!=null&&!we(n)&&(n=null);const o=ju(),i=new WeakSet,a=[];let l=!1;const u=o.app={_uid:Hh++,_component:r,_props:n,_container:null,_context:o,_instance:null,version:Op,get config(){return o.config},set config(c){},use(c,...d){return i.has(c)||(c&&J(c.install)?(i.add(c),c.install(u,...d)):J(c)&&(i.add(c),c(u,...d))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,d){return d?(o.components[c]=d,u):o.components[c]},directive(c,d){return d?(o.directives[c]=d,u):o.directives[c]},mount(c,d,f){if(!l){const h=u._ceVNode||ce(r,n);return h.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),d&&e?e(h,c):t(h,c,f),l=!0,u._container=c,c.__vue_app__=u,xo(h.component)}},onUnmount(c){a.push(c)},unmount(){l&&(At(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return o.provides[c]=d,u},runWithContext(c){const d=_s;_s=u;try{return c()}finally{_s=d}}};return u}}let _s=null;function Lu(t,e){if(Le){let s=Le.provides;const r=Le.parent&&Le.parent.provides;r===s&&(s=Le.provides=Object.create(r)),s[t]=e}}function ws(t,e,s=!1){const r=on();if(r||_s){let n=_s?_s._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&J(e)?e.call(r&&r.proxy):e}}function So(){return!!(on()||_s)}const Mu={},Du=()=>Object.create(Mu),Nu=t=>Object.getPrototypeOf(t)===Mu;function Wh(t,e,s,r=!1){const n={},o=Du();t.propsDefaults=Object.create(null),Uu(t,e,n,o);for(const i in t.propsOptions[0])i in n||(n[i]=void 0);s?t.props=r?n:Xs(n):t.type.props?t.props=n:t.props=o,t.attrs=o}function Vh(t,e,s,r){const{props:n,attrs:o,vnode:{patchFlag:i}}=t,a=le(n),[l]=t.propsOptions;let u=!1;if((r||i>0)&&!(i&16)){if(i&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(To(t.emitsOptions,f))continue;const h=e[f];if(l)if(de(o,f))h!==o[f]&&(o[f]=h,u=!0);else{const p=dt(f);n[p]=Oi(l,a,p,h,t,!1)}else h!==o[f]&&(o[f]=h,u=!0)}}}else{Uu(t,e,n,o)&&(u=!0);let c;for(const d in a)(!e||!de(e,d)&&((c=is(d))===d||!de(e,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(n[d]=Oi(l,a,d,void 0,t,!0)):delete n[d]);if(o!==a)for(const d in o)(!e||!de(e,d))&&(delete o[d],u=!0)}u&&Lt(t.attrs,"set","")}function Uu(t,e,s,r){const[n,o]=t.propsOptions;let i=!1,a;if(e)for(let l in e){if(rr(l))continue;const u=e[l];let c;n&&de(n,c=dt(l))?!o||!o.includes(c)?s[c]=u:(a||(a={}))[c]=u:To(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,i=!0)}if(o){const l=le(s),u=a||ge;for(let c=0;c<o.length;c++){const d=o[c];s[d]=Oi(n,l,d,u[d],t,!de(u,d))}}return i}function Oi(t,e,s,r,n,o){const i=t[s];if(i!=null){const a=de(i,"default");if(a&&r===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&J(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=an(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}i[0]&&(o&&!a?r=!1:i[1]&&(r===""||r===is(s))&&(r=!0))}return r}const Kh=new WeakMap;function Bu(t,e,s=!1){const r=s?Kh:e.propsCache,n=r.get(t);if(n)return n;const o=t.props,i={},a=[];let l=!1;if(!J(t)){const c=d=>{l=!0;const[f,h]=Bu(d,e,!0);He(i,f),h&&a.push(...h)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!l)return we(t)&&r.set(t,tr),tr;if(Y(o))for(let c=0;c<o.length;c++){const d=dt(o[c]);yl(d)&&(i[d]=ge)}else if(o)for(const c in o){const d=dt(c);if(yl(d)){const f=o[c],h=i[d]=Y(f)||J(f)?{type:f}:He({},f),p=h.type;let g=!1,_=!0;if(Y(p))for(let w=0;w<p.length;++w){const T=p[w],y=J(T)&&T.name;if(y==="Boolean"){g=!0;break}else y==="String"&&(_=!1)}else g=J(p)&&p.name==="Boolean";h[0]=g,h[1]=_,(g||de(h,"default"))&&a.push(d)}}const u=[i,a];return we(t)&&r.set(t,u),u}function yl(t){return t[0]!=="$"&&!rr(t)}const Aa=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",Pa=t=>Y(t)?t.map(rt):[rt(t)],Gh=(t,e,s)=>{if(e._n)return e;const r=wo((...n)=>Pa(e(...n)),s);return r._c=!1,r},Fu=(t,e,s)=>{const r=t._ctx;for(const n in t){if(Aa(n))continue;const o=t[n];if(J(o))e[n]=Gh(n,o,r);else if(o!=null){const i=Pa(o);e[n]=()=>i}}},Hu=(t,e)=>{const s=Pa(e);t.slots.default=()=>s},qu=(t,e,s)=>{for(const r in e)(s||!Aa(r))&&(t[r]=e[r])},zh=(t,e,s)=>{const r=t.slots=Du();if(t.vnode.shapeFlag&32){const n=e.__;n&&_i(r,"__",n,!0);const o=e._;o?(qu(r,e,s),s&&_i(r,"_",o,!0)):Fu(e,r)}else e&&Hu(t,e)},Jh=(t,e,s)=>{const{vnode:r,slots:n}=t;let o=!0,i=ge;if(r.shapeFlag&32){const a=e._;a?s&&a===1?o=!1:qu(n,e,s):(o=!e.$stable,Fu(e,n)),i=e}else e&&(Hu(t,e),i={default:1});if(o)for(const a in n)!Aa(a)&&i[a]==null&&delete n[a]},tt=Qu;function Yh(t){return Wu(t)}function Xh(t){return Wu(t,Ch)}function Wu(t,e){const s=yo();s.__VUE__=!0;const{insert:r,remove:n,patchProp:o,createElement:i,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=mt,insertStaticContent:p}=t,g=(m,v,S,O=null,C=null,k=null,N=void 0,j=null,I=!!v.dynamicChildren)=>{if(m===v)return;m&&!es(m,v)&&(O=gn(m),at(m,C,k,!0),m=null),v.patchFlag===-2&&(I=!1,v.dynamicChildren=null);const{type:A,ref:V,shapeFlag:U}=v;switch(A){case Es:_(m,v,S,O);break;case vt:w(m,v,S,O);break;case lr:m==null&&T(v,S,O,N);break;case Fe:Z(m,v,S,O,C,k,N,j,I);break;default:U&1?E(m,v,S,O,C,k,N,j,I):U&6?ee(m,v,S,O,C,k,N,j,I):(U&64||U&128)&&A.process(m,v,S,O,C,k,N,j,I,As)}V!=null&&C?or(V,m&&m.ref,k,v||m,!v):V==null&&m&&m.ref!=null&&or(m.ref,null,k,m,!0)},_=(m,v,S,O)=>{if(m==null)r(v.el=a(v.children),S,O);else{const C=v.el=m.el;v.children!==m.children&&u(C,v.children)}},w=(m,v,S,O)=>{m==null?r(v.el=l(v.children||""),S,O):v.el=m.el},T=(m,v,S,O)=>{[m.el,m.anchor]=p(m.children,v,S,O,m.el,m.anchor)},y=({el:m,anchor:v},S,O)=>{let C;for(;m&&m!==v;)C=f(m),r(m,S,O),m=C;r(v,S,O)},b=({el:m,anchor:v})=>{let S;for(;m&&m!==v;)S=f(m),n(m),m=S;n(v)},E=(m,v,S,O,C,k,N,j,I)=>{v.type==="svg"?N="svg":v.type==="math"&&(N="mathml"),m==null?x(v,S,O,C,k,N,j,I):P(m,v,C,k,N,j,I)},x=(m,v,S,O,C,k,N,j)=>{let I,A;const{props:V,shapeFlag:U,transition:q,dirs:Q}=m;if(I=m.el=i(m.type,k,V&&V.is,V),U&8?c(I,m.children):U&16&&D(m.children,I,null,O,C,Fo(m,k),N,j),Q&&Ct(m,null,O,"created"),R(I,m,m.scopeId,N,O),V){for(const ye in V)ye!=="value"&&!rr(ye)&&o(I,ye,null,V[ye],k,O);"value"in V&&o(I,"value",null,V.value,k),(A=V.onVnodeBeforeMount)&&lt(A,O,m)}Q&&Ct(m,null,O,"beforeMount");const oe=Vu(C,q);oe&&q.beforeEnter(I),r(I,v,S),((A=V&&V.onVnodeMounted)||oe||Q)&&tt(()=>{A&&lt(A,O,m),oe&&q.enter(I),Q&&Ct(m,null,O,"mounted")},C)},R=(m,v,S,O,C)=>{if(S&&h(m,S),O)for(let k=0;k<O.length;k++)h(m,O[k]);if(C){let k=C.subTree;if(v===k||Yu(k.type)&&(k.ssContent===v||k.ssFallback===v)){const N=C.vnode;R(m,N,N.scopeId,N.slotScopeIds,C.parent)}}},D=(m,v,S,O,C,k,N,j,I=0)=>{for(let A=I;A<m.length;A++){const V=m[A]=j?Xt(m[A]):rt(m[A]);g(null,V,v,S,O,C,k,N,j)}},P=(m,v,S,O,C,k,N)=>{const j=v.el=m.el;let{patchFlag:I,dynamicChildren:A,dirs:V}=v;I|=m.patchFlag&16;const U=m.props||ge,q=v.props||ge;let Q;if(S&&ls(S,!1),(Q=q.onVnodeBeforeUpdate)&&lt(Q,S,v,m),V&&Ct(v,m,S,"beforeUpdate"),S&&ls(S,!0),(U.innerHTML&&q.innerHTML==null||U.textContent&&q.textContent==null)&&c(j,""),A?M(m.dynamicChildren,A,j,S,O,Fo(v,C),k):N||F(m,v,j,null,S,O,Fo(v,C),k,!1),I>0){if(I&16)X(j,U,q,S,C);else if(I&2&&U.class!==q.class&&o(j,"class",null,q.class,C),I&4&&o(j,"style",U.style,q.style,C),I&8){const oe=v.dynamicProps;for(let ye=0;ye<oe.length;ye++){const he=oe[ye],ze=U[he],Me=q[he];(Me!==ze||he==="value")&&o(j,he,ze,Me,C,S)}}I&1&&m.children!==v.children&&c(j,v.children)}else!N&&A==null&&X(j,U,q,S,C);((Q=q.onVnodeUpdated)||V)&&tt(()=>{Q&&lt(Q,S,v,m),V&&Ct(v,m,S,"updated")},O)},M=(m,v,S,O,C,k,N)=>{for(let j=0;j<v.length;j++){const I=m[j],A=v[j],V=I.el&&(I.type===Fe||!es(I,A)||I.shapeFlag&198)?d(I.el):S;g(I,A,V,null,O,C,k,N,!0)}},X=(m,v,S,O,C)=>{if(v!==S){if(v!==ge)for(const k in v)!rr(k)&&!(k in S)&&o(m,k,v[k],null,C,O);for(const k in S){if(rr(k))continue;const N=S[k],j=v[k];N!==j&&k!=="value"&&o(m,k,j,N,C,O)}"value"in S&&o(m,"value",v.value,S.value,C)}},Z=(m,v,S,O,C,k,N,j,I)=>{const A=v.el=m?m.el:a(""),V=v.anchor=m?m.anchor:a("");let{patchFlag:U,dynamicChildren:q,slotScopeIds:Q}=v;Q&&(j=j?j.concat(Q):Q),m==null?(r(A,S,O),r(V,S,O),D(v.children||[],S,V,C,k,N,j,I)):U>0&&U&64&&q&&m.dynamicChildren?(M(m.dynamicChildren,q,S,C,k,N,j),(v.key!=null||C&&v===C.subTree)&&Ku(m,v,!0)):F(m,v,S,V,C,k,N,j,I)},ee=(m,v,S,O,C,k,N,j,I)=>{v.slotScopeIds=j,m==null?v.shapeFlag&512?C.ctx.activate(v,S,O,N,I):fe(v,S,O,C,k,N,I):pe(m,v,I)},fe=(m,v,S,O,C,k,N)=>{const j=m.component=wp(m,O,C);if(ka(m)&&(j.ctx.renderer=As),Ep(j,!1,N),j.asyncDep){if(C&&C.registerDep(j,B,N),!m.el){const I=j.subTree=ce(vt);w(null,I,v,S),m.placeholder=I.el}}else B(j,m,v,S,C,k,N)},pe=(m,v,S)=>{const O=v.component=m.component;if(lp(m,v,S))if(O.asyncDep&&!O.asyncResolved){W(O,v,S);return}else O.next=v,O.update();else v.el=m.el,O.vnode=v},B=(m,v,S,O,C,k,N)=>{const j=()=>{if(m.isMounted){let{next:U,bu:q,u:Q,parent:oe,vnode:ye}=m;{const Qe=Gu(m);if(Qe){U&&(U.el=ye.el,W(m,U,N)),Qe.asyncDep.then(()=>{m.isUnmounted||j()});return}}let he=U,ze;ls(m,!1),U?(U.el=ye.el,W(m,U,N)):U=ye,q&&jn(q),(ze=U.props&&U.props.onVnodeBeforeUpdate)&&lt(ze,oe,U,ye),ls(m,!0);const Me=Ho(m),ft=m.subTree;m.subTree=Me,g(ft,Me,d(ft.el),gn(ft),m,C,k),U.el=Me.el,he===null&&Co(m,Me.el),Q&&tt(Q,C),(ze=U.props&&U.props.onVnodeUpdated)&&tt(()=>lt(ze,oe,U,ye),C)}else{let U;const{el:q,props:Q}=v,{bm:oe,m:ye,parent:he,root:ze,type:Me}=m,ft=ir(v);if(ls(m,!1),oe&&jn(oe),!ft&&(U=Q&&Q.onVnodeBeforeMount)&&lt(U,he,v),ls(m,!0),q&&$o){const Qe=()=>{m.subTree=Ho(m),$o(q,m.subTree,m,C,null)};ft&&Me.__asyncHydrate?Me.__asyncHydrate(q,m,Qe):Qe()}else{ze.ce&&ze.ce._def.shadowRoot!==!1&&ze.ce._injectChildStyle(Me);const Qe=m.subTree=Ho(m);g(null,Qe,S,O,m,C,k),v.el=Qe.el}if(ye&&tt(ye,C),!ft&&(U=Q&&Q.onVnodeMounted)){const Qe=v;tt(()=>lt(U,he,Qe),C)}(v.shapeFlag&256||he&&ir(he.vnode)&&he.vnode.shapeFlag&256)&&m.a&&tt(m.a,C),m.isMounted=!0,v=S=O=null}};m.scope.on();const I=m.effect=new tu(j);m.scope.off();const A=m.update=I.run.bind(I),V=m.job=I.runIfDirty.bind(I);V.i=m,V.id=m.uid,I.scheduler=()=>Ta(V),ls(m,!0),A()},W=(m,v,S)=>{v.component=m;const O=m.vnode.props;m.vnode=v,m.next=null,Vh(m,v.props,O,S),Jh(m,v.children,S),Ut(),ll(m),Bt()},F=(m,v,S,O,C,k,N,j,I=!1)=>{const A=m&&m.children,V=m?m.shapeFlag:0,U=v.children,{patchFlag:q,shapeFlag:Q}=v;if(q>0){if(q&128){Er(A,U,S,O,C,k,N,j,I);return}else if(q&256){Te(A,U,S,O,C,k,N,j,I);return}}Q&8?(V&16&&Sr(A,C,k),U!==A&&c(S,U)):V&16?Q&16?Er(A,U,S,O,C,k,N,j,I):Sr(A,C,k,!0):(V&8&&c(S,""),Q&16&&D(U,S,O,C,k,N,j,I))},Te=(m,v,S,O,C,k,N,j,I)=>{m=m||tr,v=v||tr;const A=m.length,V=v.length,U=Math.min(A,V);let q;for(q=0;q<U;q++){const Q=v[q]=I?Xt(v[q]):rt(v[q]);g(m[q],Q,S,null,C,k,N,j,I)}A>V?Sr(m,C,k,!0,!1,U):D(v,S,O,C,k,N,j,I,U)},Er=(m,v,S,O,C,k,N,j,I)=>{let A=0;const V=v.length;let U=m.length-1,q=V-1;for(;A<=U&&A<=q;){const Q=m[A],oe=v[A]=I?Xt(v[A]):rt(v[A]);if(es(Q,oe))g(Q,oe,S,null,C,k,N,j,I);else break;A++}for(;A<=U&&A<=q;){const Q=m[U],oe=v[q]=I?Xt(v[q]):rt(v[q]);if(es(Q,oe))g(Q,oe,S,null,C,k,N,j,I);else break;U--,q--}if(A>U){if(A<=q){const Q=q+1,oe=Q<V?v[Q].el:O;for(;A<=q;)g(null,v[A]=I?Xt(v[A]):rt(v[A]),S,oe,C,k,N,j,I),A++}}else if(A>q)for(;A<=U;)at(m[A],C,k,!0),A++;else{const Q=A,oe=A,ye=new Map;for(A=oe;A<=q;A++){const Ze=v[A]=I?Xt(v[A]):rt(v[A]);Ze.key!=null&&ye.set(Ze.key,A)}let he,ze=0;const Me=q-oe+1;let ft=!1,Qe=0;const Tr=new Array(Me);for(A=0;A<Me;A++)Tr[A]=0;for(A=Q;A<=U;A++){const Ze=m[A];if(ze>=Me){at(Ze,C,k,!0);continue}let Et;if(Ze.key!=null)Et=ye.get(Ze.key);else for(he=oe;he<=q;he++)if(Tr[he-oe]===0&&es(Ze,v[he])){Et=he;break}Et===void 0?at(Ze,C,k,!0):(Tr[Et-oe]=A+1,Et>=Qe?Qe=Et:ft=!0,g(Ze,v[Et],S,null,C,k,N,j,I),ze++)}const tl=ft?Qh(Tr):tr;for(he=tl.length-1,A=Me-1;A>=0;A--){const Ze=oe+A,Et=v[Ze],sl=v[Ze+1],rl=Ze+1<V?sl.el||sl.placeholder:O;Tr[A]===0?g(null,Et,S,rl,C,k,N,j,I):ft&&(he<0||A!==tl[he]?wt(Et,S,rl,2):he--)}}},wt=(m,v,S,O,C=null)=>{const{el:k,type:N,transition:j,children:I,shapeFlag:A}=m;if(A&6){wt(m.component.subTree,v,S,O);return}if(A&128){m.suspense.move(v,S,O);return}if(A&64){N.move(m,v,S,As);return}if(N===Fe){r(k,v,S);for(let U=0;U<I.length;U++)wt(I[U],v,S,O);r(m.anchor,v,S);return}if(N===lr){y(m,v,S);return}if(O!==2&&A&1&&j)if(O===0)j.beforeEnter(k),r(k,v,S),tt(()=>j.enter(k),C);else{const{leave:U,delayLeave:q,afterLeave:Q}=j,oe=()=>{m.ctx.isUnmounted?n(k):r(k,v,S)},ye=()=>{U(k,()=>{oe(),Q&&Q()})};q?q(k,oe,ye):ye()}else r(k,v,S)},at=(m,v,S,O=!1,C=!1)=>{const{type:k,props:N,ref:j,children:I,dynamicChildren:A,shapeFlag:V,patchFlag:U,dirs:q,cacheIndex:Q}=m;if(U===-2&&(C=!1),j!=null&&(Ut(),or(j,null,S,m,!0),Bt()),Q!=null&&(v.renderCache[Q]=void 0),V&256){v.ctx.deactivate(m);return}const oe=V&1&&q,ye=!ir(m);let he;if(ye&&(he=N&&N.onVnodeBeforeUnmount)&&lt(he,v,m),V&6)Of(m.component,S,O);else{if(V&128){m.suspense.unmount(S,O);return}oe&&Ct(m,null,v,"beforeUnmount"),V&64?m.type.remove(m,v,S,As,O):A&&!A.hasOnce&&(k!==Fe||U>0&&U&64)?Sr(A,v,S,!1,!0):(k===Fe&&U&384||!C&&V&16)&&Sr(I,v,S),O&&Za(m)}(ye&&(he=N&&N.onVnodeUnmounted)||oe)&&tt(()=>{he&&lt(he,v,m),oe&&Ct(m,null,v,"unmounted")},S)},Za=m=>{const{type:v,el:S,anchor:O,transition:C}=m;if(v===Fe){kf(S,O);return}if(v===lr){b(m);return}const k=()=>{n(S),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(m.shapeFlag&1&&C&&!C.persisted){const{leave:N,delayLeave:j}=C,I=()=>N(S,k);j?j(m.el,k,I):I()}else k()},kf=(m,v)=>{let S;for(;m!==v;)S=f(m),n(m),m=S;n(v)},Of=(m,v,S)=>{const{bum:O,scope:C,job:k,subTree:N,um:j,m:I,a:A,parent:V,slots:{__:U}}=m;vl(I),vl(A),O&&jn(O),V&&Y(U)&&U.forEach(q=>{V.renderCache[q]=void 0}),C.stop(),k&&(k.flags|=8,at(N,m,v,S)),j&&tt(j,v),tt(()=>{m.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},Sr=(m,v,S,O=!1,C=!1,k=0)=>{for(let N=k;N<m.length;N++)at(m[N],v,S,O,C)},gn=m=>{if(m.shapeFlag&6)return gn(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const v=f(m.anchor||m.el),S=v&&v[wh];return S?f(S):v};let Ro=!1;const el=(m,v,S)=>{m==null?v._vnode&&at(v._vnode,null,null,!0):g(v._vnode||null,m,v,null,null,null,S),v._vnode=m,Ro||(Ro=!0,ll(),Jn(),Ro=!1)},As={p:g,um:at,m:wt,r:Za,mt:fe,mc:D,pc:F,pbc:M,n:gn,o:t};let Io,$o;return e&&([Io,$o]=e(As)),{render:el,hydrate:Io,createApp:qh(el,Io)}}function Fo({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function ls({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Vu(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ku(t,e,s=!1){const r=t.children,n=e.children;if(Y(r)&&Y(n))for(let o=0;o<r.length;o++){const i=r[o];let a=n[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[o]=Xt(n[o]),a.el=i.el),!s&&a.patchFlag!==-2&&Ku(i,a)),a.type===Es&&(a.el=i.el),a.type===vt&&!a.el&&(a.el=i.el)}}function Qh(t){const e=t.slice(),s=[0];let r,n,o,i,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(o=0,i=s.length-1;o<i;)a=o+i>>1,t[s[a]]<u?o=a+1:i=a;u<t[s[o]]&&(o>0&&(e[r]=s[o-1]),s[o]=r)}}for(o=s.length,i=s[o-1];o-- >0;)s[o]=i,i=e[i];return s}function Gu(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Gu(e)}function vl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Zh=Symbol.for("v-scx"),ep=()=>ws(Zh);function tp(t,e){return Ra(t,null,e)}function Dt(t,e,s){return Ra(t,e,s)}function Ra(t,e,s=ge){const{immediate:r,deep:n,flush:o,once:i}=s,a=He({},s),l=e&&r||!e&&o!=="post";let u;if(hr){if(o==="sync"){const h=ep();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=mt,h.resume=mt,h.pause=mt,h}}const c=Le;a.call=(h,p,g)=>At(h,c,p,g);let d=!1;o==="post"?a.scheduler=h=>{tt(h,c&&c.suspense)}:o!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():Ta(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=vh(t,e,a);return hr&&(u?u.push(f):l&&f()),f}function sp(t,e,s){const r=this.proxy,n=Se(t)?t.includes(".")?zu(r,t):()=>r[t]:t.bind(r,r);let o;J(e)?o=e:(o=e.handler,s=e);const i=an(this),a=Ra(n,o.bind(r),s);return i(),a}function zu(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const rp=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${dt(e)}Modifiers`]||t[`${is(e)}Modifiers`];function np(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||ge;let n=s;const o=e.startsWith("update:"),i=o&&rp(r,e.slice(7));i&&(i.trim&&(n=s.map(c=>Se(c)?c.trim():c)),i.number&&(n=s.map(wi)));let a,l=r[a=jo(e)]||r[a=jo(dt(e))];!l&&o&&(l=r[a=jo(is(e))]),l&&At(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,At(u,t,6,n)}}function Ju(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const o=t.emits;let i={},a=!1;if(!J(t)){const l=u=>{const c=Ju(u,e,!0);c&&(a=!0,He(i,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(we(t)&&r.set(t,null),null):(Y(o)?o.forEach(l=>i[l]=null):He(i,o),we(t)&&r.set(t,i),i)}function To(t,e){return!t||!sn(e)?!1:(e=e.slice(2).replace(/Once$/,""),de(t,e[0].toLowerCase()+e.slice(1))||de(t,is(e))||de(t,e))}function Ho(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[o],slots:i,attrs:a,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:p,inheritAttrs:g}=t,_=Yn(t);let w,T;try{if(s.shapeFlag&4){const b=n||r,E=b;w=rt(u.call(E,b,c,d,h,f,p)),T=a}else{const b=e;w=rt(b.length>1?b(d,{attrs:a,slots:i,emit:l}):b(d,null)),T=e.props?a:ip(a)}}catch(b){Nr.length=0,vr(b,t,1),w=ce(vt)}let y=w;if(T&&g!==!1){const b=Object.keys(T),{shapeFlag:E}=y;b.length&&E&7&&(o&&b.some(da)&&(T=ap(T,o)),y=fr(y,T,!1,!0))}return s.dirs&&(y=fr(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(s.dirs):s.dirs),s.transition&&Ca(y,s.transition),w=y,Yn(_),w}function op(t,e=!0){let s;for(let r=0;r<t.length;r++){const n=t[r];if(en(n)){if(n.type!==vt||n.children==="v-if"){if(s)return;s=n}}else return}return s}const ip=t=>{let e;for(const s in t)(s==="class"||s==="style"||sn(s))&&((e||(e={}))[s]=t[s]);return e},ap=(t,e)=>{const s={};for(const r in t)(!da(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function lp(t,e,s){const{props:r,children:n,component:o}=t,{props:i,children:a,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?bl(r,i,u):!!i;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(i[f]!==r[f]&&!To(u,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===i?!1:r?i?bl(r,i,u):!0:!!i;return!1}function bl(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const o=r[n];if(e[o]!==t[o]&&!To(s,o))return!0}return!1}function Co({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Yu=t=>t.__isSuspense;let Ai=0;const cp={name:"Suspense",__isSuspense:!0,process(t,e,s,r,n,o,i,a,l,u){if(t==null)dp(e,s,r,n,o,i,a,l,u);else{if(o&&o.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}fp(t,e,s,r,n,i,a,l,u)}},hydrate:hp,normalize:pp},up=cp;function Zr(t,e){const s=t.props&&t.props[e];J(s)&&s()}function dp(t,e,s,r,n,o,i,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),f=t.suspense=Xu(t,n,r,e,d,s,o,i,a,l);u(null,f.pendingBranch=t.ssContent,d,null,r,f,o,i),f.deps>0?(Zr(t,"onPending"),Zr(t,"onFallback"),u(null,t.ssFallback,e,s,r,null,o,i),ar(f,t.ssFallback)):f.resolve(!1,!0)}function fp(t,e,s,r,n,o,i,a,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,h=e.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:_,isHydrating:w}=d;if(g)d.pendingBranch=f,es(f,g)?(l(g,f,d.hiddenContainer,null,n,d,o,i,a),d.deps<=0?d.resolve():_&&(w||(l(p,h,s,r,n,null,o,i,a),ar(d,h)))):(d.pendingId=Ai++,w?(d.isHydrating=!1,d.activeBranch=g):u(g,n,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),_?(l(null,f,d.hiddenContainer,null,n,d,o,i,a),d.deps<=0?d.resolve():(l(p,h,s,r,n,null,o,i,a),ar(d,h))):p&&es(f,p)?(l(p,f,s,r,n,d,o,i,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,n,d,o,i,a),d.deps<=0&&d.resolve()));else if(p&&es(f,p))l(p,f,s,r,n,d,o,i,a),ar(d,f);else if(Zr(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=Ai++,l(null,f,d.hiddenContainer,null,n,d,o,i,a),d.deps<=0)d.resolve();else{const{timeout:T,pendingId:y}=d;T>0?setTimeout(()=>{d.pendingId===y&&d.fallback(h)},T):T===0&&d.fallback(h)}}function Xu(t,e,s,r,n,o,i,a,l,u,c=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:g,remove:_}}=u;let w;const T=gp(t);T&&e&&e.pendingBranch&&(w=e.pendingId,e.deps++);const y=t.props?jf(t.props.timeout):void 0,b=o,E={vnode:t,parent:e,parentComponent:s,namespace:i,container:r,hiddenContainer:n,deps:0,pendingId:Ai++,timeout:typeof y=="number"?y:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(x=!1,R=!1){const{vnode:D,activeBranch:P,pendingBranch:M,pendingId:X,effects:Z,parentComponent:ee,container:fe}=E;let pe=!1;E.isHydrating?E.isHydrating=!1:x||(pe=P&&M.transition&&M.transition.mode==="out-in",pe&&(P.transition.afterLeave=()=>{X===E.pendingId&&(f(M,fe,o===b?p(P):o,0),zn(Z))}),P&&(g(P.el)===fe&&(o=p(P)),h(P,ee,E,!0)),pe||f(M,fe,o,0)),ar(E,M),E.pendingBranch=null,E.isInFallback=!1;let B=E.parent,W=!1;for(;B;){if(B.pendingBranch){B.effects.push(...Z),W=!0;break}B=B.parent}!W&&!pe&&zn(Z),E.effects=[],T&&e&&e.pendingBranch&&w===e.pendingId&&(e.deps--,e.deps===0&&!R&&e.resolve()),Zr(D,"onResolve")},fallback(x){if(!E.pendingBranch)return;const{vnode:R,activeBranch:D,parentComponent:P,container:M,namespace:X}=E;Zr(R,"onFallback");const Z=p(D),ee=()=>{E.isInFallback&&(d(null,x,M,Z,P,null,X,a,l),ar(E,x))},fe=x.transition&&x.transition.mode==="out-in";fe&&(D.transition.afterLeave=ee),E.isInFallback=!0,h(D,P,null,!0),fe||ee()},move(x,R,D){E.activeBranch&&f(E.activeBranch,x,R,D),E.container=x},next(){return E.activeBranch&&p(E.activeBranch)},registerDep(x,R,D){const P=!!E.pendingBranch;P&&E.deps++;const M=x.vnode.el;x.asyncDep.catch(X=>{vr(X,x,0)}).then(X=>{if(x.isUnmounted||E.isUnmounted||E.pendingId!==x.suspenseId)return;x.asyncResolved=!0;const{vnode:Z}=x;Ri(x,X),M&&(Z.el=M);const ee=!M&&x.subTree.el;R(x,Z,g(M||x.subTree.el),M?null:p(x.subTree),E,i,D),ee&&_(ee),Co(x,Z.el),P&&--E.deps===0&&E.resolve()})},unmount(x,R){E.isUnmounted=!0,E.activeBranch&&h(E.activeBranch,s,x,R),E.pendingBranch&&h(E.pendingBranch,s,x,R)}};return E}function hp(t,e,s,r,n,o,i,a,l){const u=e.suspense=Xu(e,r,s,t.parentNode,document.createElement("div"),null,n,o,i,a,!0),c=l(t,u.pendingBranch=e.ssContent,s,u,o,i);return u.deps===0&&u.resolve(!1,!0),c}function pp(t){const{shapeFlag:e,children:s}=t,r=e&32;t.ssContent=_l(r?s.default:s),t.ssFallback=r?_l(s.fallback):ce(vt)}function _l(t){let e;if(J(t)){const s=dr&&t._c;s&&(t._d=!1,K()),t=t(),s&&(t._d=!0,e=Ye,Zu())}return Y(t)&&(t=op(t)),t=rt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(s=>s!==t)),t}function Qu(t,e){e&&e.pendingBranch?Y(t)?e.effects.push(...t):e.effects.push(t):zn(t)}function ar(t,e){t.activeBranch=e;const{vnode:s,parentComponent:r}=t;let n=e.el;for(;!n&&e.component;)e=e.component.subTree,n=e.el;s.el=n,r&&r.subTree===s&&(r.vnode.el=n,Co(r,n))}function gp(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Fe=Symbol.for("v-fgt"),Es=Symbol.for("v-txt"),vt=Symbol.for("v-cmt"),lr=Symbol.for("v-stc"),Nr=[];let Ye=null;function K(t=!1){Nr.push(Ye=t?null:[])}function Zu(){Nr.pop(),Ye=Nr[Nr.length-1]||null}let dr=1;function wl(t,e=!1){dr+=t,t<0&&Ye&&e&&(Ye.hasOnce=!0)}function ed(t){return t.dynamicChildren=dr>0?Ye||tr:null,Zu(),dr>0&&Ye&&Ye.push(t),t}function re(t,e,s,r,n,o){return ed(L(t,e,s,r,n,o,!0))}function Zt(t,e,s,r,n){return ed(ce(t,e,s,r,n,!0))}function en(t){return t?t.__v_isVNode===!0:!1}function es(t,e){return t.type===e.type&&t.key===e.key}const td=({key:t})=>t??null,Ln=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Se(t)||_e(t)||J(t)?{i:it,r:t,k:e,f:!!s}:t:null);function L(t,e=null,s=null,r=0,n=null,o=t===Fe?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&td(e),ref:e&&Ln(e),scopeId:Eu,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:it};return a?($a(l,s),o&128&&t.normalize(l)):s&&(l.shapeFlag|=Se(s)?8:16),dr>0&&!i&&Ye&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Ye.push(l),l}const ce=mp;function mp(t,e=null,s=null,r=0,n=null,o=!1){if((!t||t===Pu)&&(t=vt),en(t)){const a=fr(t,e,!0);return s&&$a(a,s),dr>0&&!o&&Ye&&(a.shapeFlag&6?Ye[Ye.indexOf(t)]=a:Ye.push(a)),a.patchFlag=-2,a}if(kp(t)&&(t=t.__vccOpts),e){e=sd(e);let{class:a,style:l}=e;a&&!Se(a)&&(e.class=bt(a)),we(l)&&(Ea(l)&&!Y(l)&&(l=He({},l)),e.style=vo(l))}const i=Se(t)?1:Yu(t)?128:Eh(t)?64:we(t)?4:J(t)?2:0;return L(t,e,s,r,n,i,o,!0)}function sd(t){return t?Ea(t)||Nu(t)?He({},t):t:null}function fr(t,e,s=!1,r=!1){const{props:n,ref:o,patchFlag:i,children:a,transition:l}=t,u=e?vp(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&td(u),ref:e&&e.ref?s&&o?Y(o)?o.concat(Ln(e)):[o,Ln(e)]:Ln(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fe?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&fr(t.ssContent),ssFallback:t.ssFallback&&fr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Ca(c,l.clone(c)),c}function Ia(t=" ",e=0){return ce(Es,null,t,e)}function yp(t,e){const s=ce(lr,null,t);return s.staticCount=e,s}function Ge(t="",e=!1){return e?(K(),Zt(vt,null,t)):ce(vt,null,t)}function rt(t){return t==null||typeof t=="boolean"?ce(vt):Y(t)?ce(Fe,null,t.slice()):en(t)?Xt(t):ce(Es,null,String(t))}function Xt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:fr(t)}function $a(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Y(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),$a(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Nu(e)?e._ctx=it:n===3&&it&&(it.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else J(e)?(e={default:e,_ctx:it},s=32):(e=String(e),r&64?(s=16,e=[Ia(e)]):s=8);t.children=e,t.shapeFlag|=s}function vp(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=bt([e.class,r.class]));else if(n==="style")e.style=vo([e.style,r.style]);else if(sn(n)){const o=e[n],i=r[n];i&&o!==i&&!(Y(o)&&o.includes(i))&&(e[n]=o?[].concat(o,i):i)}else n!==""&&(e[n]=r[n])}return e}function lt(t,e,s,r=null){At(t,e,7,[s,r])}const bp=ju();let _p=0;function wp(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||bp,o={uid:_p++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new eu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bu(r,n),emitsOptions:Ju(r,n),emit:null,emitted:null,propsDefaults:ge,inheritAttrs:r.inheritAttrs,ctx:ge,data:ge,props:ge,attrs:ge,slots:ge,refs:ge,setupState:ge,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=np.bind(null,o),t.ce&&t.ce(o),o}let Le=null;const on=()=>Le||it;let Qn,Pi;{const t=yo(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),o=>{n.length>1?n.forEach(i=>i(o)):n[0](o)}};Qn=e("__VUE_INSTANCE_SETTERS__",s=>Le=s),Pi=e("__VUE_SSR_SETTERS__",s=>hr=s)}const an=t=>{const e=Le;return Qn(t),t.scope.on(),()=>{t.scope.off(),Qn(e)}},El=()=>{Le&&Le.scope.off(),Qn(null)};function rd(t){return t.vnode.shapeFlag&4}let hr=!1;function Ep(t,e=!1,s=!1){e&&Pi(e);const{props:r,children:n}=t.vnode,o=rd(t);Wh(t,r,o,e),zh(t,n,s||e);const i=o?Sp(t,e):void 0;return e&&Pi(!1),i}function Sp(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Mh);const{setup:r}=s;if(r){Ut();const n=t.setupContext=r.length>1?Cp(t):null,o=an(t),i=rn(r,t,0,[t.props,n]),a=zc(i);if(Bt(),o(),(a||t.sp)&&!ir(t)&&xa(t),a){if(i.then(El,El),e)return i.then(l=>{Ri(t,l)}).catch(l=>{vr(l,t,0)});t.asyncDep=i}else Ri(t,i)}else nd(t)}function Ri(t,e,s){J(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:we(e)&&(t.setupState=mu(e)),nd(t)}function nd(t,e,s){const r=t.type;t.render||(t.render=r.render||mt);{const n=an(t);Ut();try{Dh(t)}finally{Bt(),n()}}}const Tp={get(t,e){return Be(t,"get",""),t[e]}};function Cp(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Tp),slots:t.slots,emit:t.emit,expose:e}}function xo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(mu(Sa(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Dr)return Dr[s](t)},has(e,s){return s in e||s in Dr}})):t.proxy}function xp(t,e=!0){return J(t)?t.displayName||t.name:t.name||e&&t.__name}function kp(t){return J(t)&&"__vccOpts"in t}const ln=(t,e)=>mh(t,e,hr);function Ii(t,e,s){const r=arguments.length;return r===2?we(e)&&!Y(e)?en(e)?ce(t,null,[e]):ce(t,e):ce(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&en(s)&&(s=[s]),ce(t,e,s))}const Op="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $i;const Sl=typeof window<"u"&&window.trustedTypes;if(Sl)try{$i=Sl.createPolicy("vue",{createHTML:t=>t})}catch{}const od=$i?t=>$i.createHTML(t):t=>t,Ap="http://www.w3.org/2000/svg",Pp="http://www.w3.org/1998/Math/MathML",$t=typeof document<"u"?document:null,Tl=$t&&$t.createElement("template"),Rp={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?$t.createElementNS(Ap,t):e==="mathml"?$t.createElementNS(Pp,t):s?$t.createElement(t,{is:s}):$t.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>$t.createTextNode(t),createComment:t=>$t.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>$t.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,o){const i=s?s.previousSibling:e.lastChild;if(n&&(n===o||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{Tl.innerHTML=od(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Tl.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[i?i.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Ip=Symbol("_vtc");function $p(t,e,s){const r=t[Ip];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Cl=Symbol("_vod"),jp=Symbol("_vsh"),id=Symbol("");function Lp(t){const e=on();if(!e)return;const s=e.ut=(n=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(o=>Zn(o,n))},r=()=>{const n=t(e.proxy);e.ce?Zn(e.ce,n):ji(e.subTree,n),s(n)};xu(()=>{zn(r)}),br(()=>{Dt(r,mt,{flush:"post"});const n=new MutationObserver(r);n.observe(e.subTree.el.parentNode,{childList:!0}),ks(()=>n.disconnect())})}function ji(t,e){if(t.shapeFlag&128){const s=t.suspense;t=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{ji(s.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Zn(t.el,e);else if(t.type===Fe)t.children.forEach(s=>ji(s,e));else if(t.type===lr){let{el:s,anchor:r}=t;for(;s&&(Zn(s,e),s!==r);)s=s.nextSibling}}function Zn(t,e){if(t.nodeType===1){const s=t.style;let r="";for(const n in e){const o=Hf(e[n]);s.setProperty(`--${n}`,o),r+=`--${n}: ${o};`}s[id]=r}}const Mp=/(^|;)\s*display\s*:/;function Dp(t,e,s){const r=t.style,n=Se(s);let o=!1;if(s&&!n){if(e)if(Se(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();s[a]==null&&Mn(r,a,"")}else for(const i in e)s[i]==null&&Mn(r,i,"");for(const i in s)i==="display"&&(o=!0),Mn(r,i,s[i])}else if(n){if(e!==s){const i=r[id];i&&(s+=";"+i),r.cssText=s,o=Mp.test(s)}}else e&&t.removeAttribute("style");Cl in t&&(t[Cl]=o?r.display:"",t[jp]&&(r.display="none"))}const xl=/\s*!important$/;function Mn(t,e,s){if(Y(s))s.forEach(r=>Mn(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Np(t,e);xl.test(s)?t.setProperty(is(r),s.replace(xl,""),"important"):t[r]=s}}const kl=["Webkit","Moz","ms"],qo={};function Np(t,e){const s=qo[e];if(s)return s;let r=dt(e);if(r!=="filter"&&r in t)return qo[e]=r;r=mo(r);for(let n=0;n<kl.length;n++){const o=kl[n]+r;if(o in t)return qo[e]=o}return e}const Ol="http://www.w3.org/1999/xlink";function Al(t,e,s,r,n,o=Ff(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Ol,e.slice(6,e.length)):t.setAttributeNS(Ol,e,s):s==null||o&&!Xc(s)?t.removeAttribute(e):t.setAttribute(e,o?"":os(s)?String(s):s)}function Pl(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?od(s):s);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let i=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Xc(s):s==null&&a==="string"?(s="",i=!0):a==="number"&&(s=0,i=!0)}try{t[e]=s}catch{}i&&t.removeAttribute(n||e)}function Gs(t,e,s,r){t.addEventListener(e,s,r)}function Up(t,e,s,r){t.removeEventListener(e,s,r)}const Rl=Symbol("_vei");function Bp(t,e,s,r,n=null){const o=t[Rl]||(t[Rl]={}),i=o[e];if(r&&i)i.value=r;else{const[a,l]=Fp(e);if(r){const u=o[e]=Wp(r,n);Gs(t,a,u,l)}else i&&(Up(t,a,i,l),o[e]=void 0)}}const Il=/(?:Once|Passive|Capture)$/;function Fp(t){let e;if(Il.test(t)){e={};let r;for(;r=t.match(Il);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):is(t.slice(2)),e]}let Wo=0;const Hp=Promise.resolve(),qp=()=>Wo||(Hp.then(()=>Wo=0),Wo=Date.now());function Wp(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;At(Vp(r,s.value),e,5,[r])};return s.value=t,s.attached=qp(),s}function Vp(t,e){if(Y(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const $l=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Kp=(t,e,s,r,n,o)=>{const i=n==="svg";e==="class"?$p(t,r,i):e==="style"?Dp(t,s,r):sn(e)?da(e)||Bp(t,e,s,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Gp(t,e,r,i))?(Pl(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Al(t,e,r,i,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Se(r))?Pl(t,dt(e),r,o,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Al(t,e,r,i))};function Gp(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&$l(e)&&J(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return $l(e)&&Se(s)?!1:e in t}const jl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Y(e)?s=>jn(e,s):e};function zp(t){t.target.composing=!0}function Ll(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Vo=Symbol("_assign"),pr={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Vo]=jl(n);const o=r||n.props&&n.props.type==="number";Gs(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;s&&(a=a.trim()),o&&(a=wi(a)),t[Vo](a)}),s&&Gs(t,"change",()=>{t.value=t.value.trim()}),e||(Gs(t,"compositionstart",zp),Gs(t,"compositionend",Ll),Gs(t,"change",Ll))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:o}},i){if(t[Vo]=jl(i),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?wi(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Jp=["ctrl","shift","alt","meta"],Yp={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Jp.some(s=>t[`${s}Key`]&&!e.includes(s))},cn=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...o)=>{for(let i=0;i<e.length;i++){const a=Yp[e[i]];if(a&&a(n,e))return}return t(n,...o)})},Xp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ts=(t,e)=>{const s=t._withKeys||(t._withKeys={}),r=e.join(".");return s[r]||(s[r]=n=>{if(!("key"in n))return;const o=is(n.key);if(e.some(i=>i===o||Xp[i]===o))return t(n)})},ad=He({patchProp:Kp},Rp);let Ur,Ml=!1;function Qp(){return Ur||(Ur=Yh(ad))}function Zp(){return Ur=Ml?Ur:Xh(ad),Ml=!0,Ur}const eg=(...t)=>{const e=Qp().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=cd(r);if(!n)return;const o=e._component;!J(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const i=s(n,!1,ld(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),i},e},tg=(...t)=>{const e=Zp().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=cd(r);if(n)return s(n,!0,ld(n))},e};function ld(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function cd(t){return Se(t)?document.querySelector(t):t}const sg=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,rg=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ng=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function og(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){ig(t);return}return e}function ig(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function eo(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const s=t.trim();if(s.length<=9)switch(s.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!ng.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(sg.test(t)||rg.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,og)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const ag=/#/g,lg=/&/g,cg=/\//g,ug=/=/g,ja=/\+/g,dg=/%5e/gi,fg=/%60/gi,hg=/%7c/gi,pg=/%20/gi;function gg(t){return encodeURI(""+t).replace(hg,"|")}function Li(t){return gg(typeof t=="string"?t:JSON.stringify(t)).replace(ja,"%2B").replace(pg,"+").replace(ag,"%23").replace(lg,"%26").replace(fg,"`").replace(dg,"^").replace(cg,"%2F")}function Ko(t){return Li(t).replace(ug,"%3D")}function to(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function mg(t){return to(t.replace(ja," "))}function yg(t){return to(t.replace(ja," "))}function La(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const s of t.split("&")){const r=s.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const n=mg(r[1]);if(n==="__proto__"||n==="constructor")continue;const o=yg(r[2]||"");e[n]===void 0?e[n]=o:Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]}return e}function vg(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(s=>`${Ko(t)}=${Li(s)}`).join("&"):`${Ko(t)}=${Li(e)}`:Ko(t)}function ud(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>vg(e,t[e])).filter(Boolean).join("&")}const bg=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,_g=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,wg=/^([/\\]\s*){2,}[^/\\]/,Eg=/^[\s\0]*(blob|data|javascript|vbscript):$/i,Sg=/\/$|\/\?|\/#/,Tg=/^\.?\//;function _r(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?bg.test(t):_g.test(t)||(e.acceptRelative?wg.test(t):!1)}function Cg(t){return!!t&&Eg.test(t)}function Mi(t="",e){return e?Sg.test(t):t.endsWith("/")}function Ma(t="",e){if(!e)return(Mi(t)?t.slice(0,-1):t)||"/";if(!Mi(t,!0))return t||"/";let s=t,r="";const n=t.indexOf("#");n!==-1&&(s=t.slice(0,n),r=t.slice(n));const[o,...i]=s.split("?");return((o.endsWith("/")?o.slice(0,-1):o)||"/")+(i.length>0?`?${i.join("?")}`:"")+r}function Di(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(Mi(t,!0))return t||"/";let s=t,r="";const n=t.indexOf("#");if(n!==-1&&(s=t.slice(0,n),r=t.slice(n),!s))return r;const[o,...i]=s.split("?");return o+"/"+(i.length>0?`?${i.join("?")}`:"")+r}function xg(t=""){return t.startsWith("/")}function Dl(t=""){return xg(t)?t:"/"+t}function kg(t,e){if(fd(e)||_r(t))return t;const s=Ma(e);return t.startsWith(s)?t:ko(s,t)}function Og(t,e){if(fd(e))return t;const s=Ma(e);if(!t.startsWith(s))return t;const r=t.slice(s.length);return r[0]==="/"?r:"/"+r}function dd(t,e){const s=gd(t),r={...La(s.search),...e};return s.search=ud(r),md(s)}function fd(t){return!t||t==="/"}function Ag(t){return t&&t!=="/"}function ko(t,...e){let s=t||"";for(const r of e.filter(n=>Ag(n)))if(s){const n=r.replace(Tg,"");s=Di(s)+n}else s=r;return s}function hd(...t){const e=/\/(?!\/)/,s=t.filter(Boolean),r=[];let n=0;for(const i of s)if(!(!i||i==="/")){for(const[a,l]of i.split(e).entries())if(!(!l||l===".")){if(l===".."){if(r.length===1&&_r(r[0]))continue;r.pop(),n--;continue}if(a===1&&r[r.length-1]?.endsWith(":/")){r[r.length-1]+="/"+l;continue}r.push(l),n++}}let o=r.join("/");return n>=0?s[0]?.startsWith("/")&&!o.startsWith("/")?o="/"+o:s[0]?.startsWith("./")&&!o.startsWith("./")&&(o="./"+o):o="../".repeat(-1*n)+o,s[s.length-1]?.endsWith("/")&&!o.endsWith("/")&&(o+="/"),o}function Pg(t,e,s={}){return s.trailingSlash||(t=Di(t),e=Di(e)),s.leadingSlash||(t=Dl(t),e=Dl(e)),s.encoding||(t=to(t),e=to(e)),t===e}const pd=Symbol.for("ufo:protocolRelative");function gd(t="",e){const s=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(s){const[,d,f=""]=s;return{protocol:d.toLowerCase(),pathname:f,href:d+f,auth:"",host:"",search:"",hash:""}}if(!_r(t,{acceptRelative:!0}))return Nl(t);const[,r="",n,o=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,i="",a=""]=o.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:u,hash:c}=Nl(a);return{protocol:r.toLowerCase(),auth:n?n.slice(0,Math.max(0,n.length-1)):"",host:i,pathname:l,search:u,hash:c,[pd]:!r}}function Nl(t=""){const[e="",s="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:s,hash:r}}function md(t){const e=t.pathname||"",s=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",n=t.auth?t.auth+"@":"",o=t.host||"";return(t.protocol||t[pd]?(t.protocol||"")+"//":"")+n+o+e+s+r}class Rg extends Error{constructor(e,s){super(e,s),this.name="FetchError",s?.cause&&!this.cause&&(this.cause=s.cause)}}function Ig(t){const e=t.error?.message||t.error?.toString()||"",s=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",n=`[${s}] ${JSON.stringify(r)}`,o=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",i=`${n}: ${o}${e?` ${e}`:""}`,a=new Rg(i,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(a,l,{get(){return t[l]}});for(const[l,u]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,l,{get(){return t.response&&t.response[u]}});return a}const $g=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Ul(t="GET"){return $g.has(t.toUpperCase())}function jg(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const Lg=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Mg=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Dg(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return Mg.test(e)?"json":Lg.has(e)||e.startsWith("text/")?"text":"blob"}function Ng(t,e,s,r){const n=Ug(e?.headers??t?.headers,s?.headers,r);let o;return(s?.query||s?.params||e?.params||e?.query)&&(o={...s?.params,...s?.query,...e?.params,...e?.query}),{...s,...e,query:o,params:o,headers:n}}function Ug(t,e,s){if(!e)return new s(t);const r=new s(e);if(t)for(const[n,o]of Symbol.iterator in t||Array.isArray(t)?t:new s(t))r.set(n,o);return r}async function wn(t,e){if(e)if(Array.isArray(e))for(const s of e)await s(t);else await e(t)}const Bg=new Set([408,409,425,429,500,502,503,504]),Fg=new Set([101,204,205,304]);function yd(t={}){const{fetch:e=globalThis.fetch,Headers:s=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function n(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let c;typeof a.options.retry=="number"?c=a.options.retry:c=Ul(a.options.method)?0:1;const d=a.response&&a.response.status||500;if(c>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(d):Bg.has(d))){const f=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return f>0&&await new Promise(h=>setTimeout(h,f)),o(a.request,{...a.options,retry:c-1})}}const u=Ig(a);throw Error.captureStackTrace&&Error.captureStackTrace(u,o),u}const o=async function(l,u={}){const c={request:l,options:Ng(l,u,t.defaults,s),response:void 0,error:void 0};c.options.method&&(c.options.method=c.options.method.toUpperCase()),c.options.onRequest&&await wn(c,c.options.onRequest),typeof c.request=="string"&&(c.options.baseURL&&(c.request=kg(c.request,c.options.baseURL)),c.options.query&&(c.request=dd(c.request,c.options.query),delete c.options.query),"query"in c.options&&delete c.options.query,"params"in c.options&&delete c.options.params),c.options.body&&Ul(c.options.method)&&(jg(c.options.body)?(c.options.body=typeof c.options.body=="string"?c.options.body:JSON.stringify(c.options.body),c.options.headers=new s(c.options.headers||{}),c.options.headers.has("content-type")||c.options.headers.set("content-type","application/json"),c.options.headers.has("accept")||c.options.headers.set("accept","application/json")):("pipeTo"in c.options.body&&typeof c.options.body.pipeTo=="function"||typeof c.options.body.pipe=="function")&&("duplex"in c.options||(c.options.duplex="half")));let d;if(!c.options.signal&&c.options.timeout){const h=new r;d=setTimeout(()=>{const p=new Error("[TimeoutError]: The operation was aborted due to timeout");p.name="TimeoutError",p.code=23,h.abort(p)},c.options.timeout),c.options.signal=h.signal}try{c.response=await e(c.request,c.options)}catch(h){return c.error=h,c.options.onRequestError&&await wn(c,c.options.onRequestError),await n(c)}finally{d&&clearTimeout(d)}if((c.response.body||c.response._bodyInit)&&!Fg.has(c.response.status)&&c.options.method!=="HEAD"){const h=(c.options.parseResponse?"json":c.options.responseType)||Dg(c.response.headers.get("content-type")||"");switch(h){case"json":{const p=await c.response.text(),g=c.options.parseResponse||eo;c.response._data=g(p);break}case"stream":{c.response._data=c.response.body||c.response._bodyInit;break}default:c.response._data=await c.response[h]()}}return c.options.onResponse&&await wn(c,c.options.onResponse),!c.options.ignoreResponseError&&c.response.status>=400&&c.response.status<600?(c.options.onResponseError&&await wn(c,c.options.onResponseError),await n(c)):c.response},i=async function(l,u){return(await o(l,u))._data};return i.raw=o,i.native=(...a)=>e(...a),i.create=(a={},l={})=>yd({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),i}const so=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),Hg=so.fetch?(...t)=>so.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),qg=so.Headers,Wg=so.AbortController,Vg=yd({fetch:Hg,Headers:qg,AbortController:Wg}),Kg=Vg,Gg=()=>window?.__NUXT__?.config||{},Da=()=>Gg().app,zg=()=>Da().baseURL,Jg=()=>Da().buildAssetsDir,Na=(...t)=>hd(vd(),Jg(),...t),vd=(...t)=>{const e=Da(),s=e.cdnURL||e.baseURL;return t.length?hd(s,...t):s};globalThis.__buildAssetsURL=Na,globalThis.__publicAssetsURL=vd;globalThis.$fetch||(globalThis.$fetch=Kg.create({baseURL:zg()}));"global"in globalThis||(globalThis.global=globalThis);function Ni(t,e={},s){for(const r in t){const n=t[r],o=s?`${s}:${r}`:r;typeof n=="object"&&n!==null?Ni(n,e,o):typeof n=="function"&&(e[o]=n)}return e}const Yg={run:t=>t()},Xg=()=>Yg,bd=typeof console.createTask<"u"?console.createTask:Xg;function Qg(t,e){const s=e.shift(),r=bd(s);return t.reduce((n,o)=>n.then(()=>r.run(()=>o(...e))),Promise.resolve())}function Zg(t,e){const s=e.shift(),r=bd(s);return Promise.all(t.map(n=>r.run(()=>n(...e))))}function Go(t,e){for(const s of[...t])s(e)}class em{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,s,r={}){if(!e||typeof s!="function")return()=>{};const n=e;let o;for(;this._deprecatedHooks[e];)o=this._deprecatedHooks[e],e=o.to;if(o&&!r.allowDeprecated){let i=o.message;i||(i=`${n} hook has been deprecated`+(o.to?`, please use ${o.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(i)||(console.warn(i),this._deprecatedMessages.add(i))}if(!s.name)try{Object.defineProperty(s,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(s),()=>{s&&(this.removeHook(e,s),s=void 0)}}hookOnce(e,s){let r,n=(...o)=>(typeof r=="function"&&r(),r=void 0,n=void 0,s(...o));return r=this.hook(e,n),r}removeHook(e,s){if(this._hooks[e]){const r=this._hooks[e].indexOf(s);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,s){this._deprecatedHooks[e]=typeof s=="string"?{to:s}:s;const r=this._hooks[e]||[];delete this._hooks[e];for(const n of r)this.hook(e,n)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const s in e)this.deprecateHook(s,e[s])}addHooks(e){const s=Ni(e),r=Object.keys(s).map(n=>this.hook(n,s[n]));return()=>{for(const n of r.splice(0,r.length))n()}}removeHooks(e){const s=Ni(e);for(const r in s)this.removeHook(r,s[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...s){return s.unshift(e),this.callHookWith(Qg,e,...s)}callHookParallel(e,...s){return s.unshift(e),this.callHookWith(Zg,e,...s)}callHookWith(e,s,...r){const n=this._before||this._after?{name:s,args:r,context:{}}:void 0;this._before&&Go(this._before,n);const o=e(s in this._hooks?[...this._hooks[s]]:[],r);return o instanceof Promise?o.finally(()=>{this._after&&n&&Go(this._after,n)}):(this._after&&n&&Go(this._after,n),o)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const s=this._before.indexOf(e);s!==-1&&this._before.splice(s,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const s=this._after.indexOf(e);s!==-1&&this._after.splice(s,1)}}}}function _d(){return new em}function tm(t={}){let e,s=!1;const r=i=>{if(e&&e!==i)throw new Error("Context conflict")};let n;if(t.asyncContext){const i=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;i?n=new i:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const o=()=>{if(n){const i=n.getStore();if(i!==void 0)return i}return e};return{use:()=>{const i=o();if(i===void 0)throw new Error("Context is not available");return i},tryUse:()=>o(),set:(i,a)=>{a||r(i),e=i,s=!0},unset:()=>{e=void 0,s=!1},call:(i,a)=>{r(i),e=i;try{return n?n.run(i,a):a()}finally{s||(e=void 0)}},async callAsync(i,a){e=i;const l=()=>{e=i},u=()=>e===i?l:void 0;Ui.add(u);try{const c=n?n.run(i,a):a();return s||(e=void 0),await c}finally{Ui.delete(u)}}}}function sm(t={}){const e={};return{get(s,r={}){return e[s]||(e[s]=tm({...t,...r})),e[s]}}}const ro=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Bl="__unctx__",rm=ro[Bl]||(ro[Bl]=sm()),nm=(t,e={})=>rm.get(t,e),Fl="__unctx_async_handlers__",Ui=ro[Fl]||(ro[Fl]=new Set);function wd(t){const e=[];for(const n of Ui){const o=n();o&&e.push(o)}const s=()=>{for(const n of e)n()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(n=>{throw s(),n})),[r,s]}const w0={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},om=null,im="#__nuxt",Ed="nuxt-app",Hl=36e5,am="vite:preloadError";function Sd(t=Ed){return nm(t,{asyncContext:!1})}const lm="__nuxt_plugin";function cm(t){let e=0;const s={_id:t.id||Ed||"nuxt-app",_scope:pa(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.18.1"},get vue(){return s.vueApp.version}},payload:Xs({...t.ssrContext?.payload||{},data:Xs({}),state:Ft({}),once:new Set,_errors:Xs({})}),static:{data:{}},runWithContext(n){return s._scope.active&&!ga()?s._scope.run(()=>ql(s,n)):ql(s,n)},isHydrating:!0,deferHydration(){if(!s.isHydrating)return()=>{};e++;let n=!1;return()=>{if(!n&&(n=!0,e--,e===0))return s.isHydrating=!1,s.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:Xs({}),_payloadRevivers:{},...t};{const n=window.__NUXT__;if(n)for(const o in n)switch(o){case"data":case"state":case"_errors":Object.assign(s.payload[o],n[o]);break;default:s.payload[o]=n[o]}}s.hooks=_d(),s.hook=s.hooks.hook,s.callHook=s.hooks.callHook,s.provide=(n,o)=>{const i="$"+n;En(s,i,o),En(s.vueApp.config.globalProperties,i,o)},En(s.vueApp,"$nuxt",s),En(s.vueApp.config.globalProperties,"$nuxt",s);{window.addEventListener(am,o=>{s.callHook("app:chunkError",{error:o.payload}),o.payload.message.includes("Unable to preload CSS")&&o.preventDefault()}),window.useNuxtApp||=Ie;const n=s.hook("app:error",(...o)=>{console.error("[nuxt] error caught during app initialization",...o)});s.hook("app:mounted",n)}const r=s.payload.config;return s.provide("config",r),s}function um(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function dm(t,e){if(typeof e=="function"){const{provide:s}=await t.runWithContext(()=>e(t))||{};if(s&&typeof s=="object")for(const r in s)t.provide(r,s[r])}}async function fm(t,e){const s=new Set,r=[],n=[];let o,i=0;async function a(l){const u=l.dependsOn?.filter(c=>e.some(d=>d._name===c)&&!s.has(c))??[];if(u.length>0)r.push([new Set(u),l]);else{const c=dm(t,l).then(async()=>{l._name&&(s.add(l._name),await Promise.all(r.map(async([d,f])=>{d.has(l._name)&&(d.delete(l._name),d.size===0&&(i++,await a(f)))})))}).catch(d=>{if(!l.parallel&&!t.payload.error)throw d;o||=d});l.parallel?n.push(c):await c}}for(const l of e)um(t,l);for(const l of e)await a(l);if(await Promise.all(n),i)for(let l=0;l<i;l++)await Promise.all(n);if(o)throw t.payload.error||o}function _t(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[lm]:!0,_name:e})}const hm=_t;function ql(t,e,s){const r=()=>e();return Sd(t._id).set(t),t.vueApp.runWithContext(r)}function pm(t){let e;return So()&&(e=on()?.appContext.app.$nuxt),e||=Sd(t).tryUse(),e||null}function Ie(t){const e=pm(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function gr(t){return Ie().$config}function En(t,e,s){Object.defineProperty(t,e,{get:()=>s})}function gm(t,e){return{ctx:{table:t},matchAll:s=>Cd(s,t)}}function Td(t){const e={};for(const s in t)e[s]=s==="dynamic"?new Map(Object.entries(t[s]).map(([r,n])=>[r,Td(n)])):new Map(Object.entries(t[s]));return e}function mm(t){return gm(Td(t))}function Cd(t,e,s){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[o,i]of Wl(e.wildcard))(t===o||t.startsWith(o+"/"))&&r.push(i);for(const[o,i]of Wl(e.dynamic))if(t.startsWith(o+"/")){const a="/"+t.slice(o.length).split("/").splice(2).join("/");r.push(...Cd(a,i))}const n=e.static.get(t);return n&&r.push(n),r.filter(Boolean)}function Wl(t){return[...t.entries()].sort((e,s)=>e[0].length-s[0].length)}function zo(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Bi(t,e,s=".",r){if(!zo(e))return Bi(t,{},s,r);const n=Object.assign({},e);for(const o in t){if(o==="__proto__"||o==="constructor")continue;const i=t[o];i!=null&&(r&&r(n,o,i,s)||(Array.isArray(i)&&Array.isArray(n[o])?n[o]=[...i,...n[o]]:zo(i)&&zo(n[o])?n[o]=Bi(i,n[o],(s?`${s}.`:"")+o.toString(),r):n[o]=i))}return n}function ym(t){return(...e)=>e.reduce((s,r)=>Bi(s,r,"",t),{})}const vm=ym();function bm(t,e){try{return e in t}catch{return!1}}class Vl extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,s={}){super(e,s),s.cause&&!this.cause&&(this.cause=s.cause)}toJSON(){const e={message:this.message,statusCode:Fi(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=xd(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}function _m(t){if(typeof t=="string")return new Vl(t);if(wm(t))return t;const e=new Vl(t.message??t.statusMessage??"",{cause:t.cause||t});if(bm(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=Fi(t.statusCode,e.statusCode):t.status&&(e.statusCode=Fi(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const s=e.statusMessage;xd(e.statusMessage)!==s&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function wm(t){return t?.constructor?.__h3_error__===!0}const Em=/[^\u0009\u0020-\u007E]/g;function xd(t=""){return t.replace(Em,"")}function Fi(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const kd=Symbol("route"),Cs=()=>Ie()?.$router,Od=()=>So()?ws(kd,Ie()._route):Ie()._route;const Sm=()=>{try{if(Ie()._processingMiddleware)return!0}catch{return!1}return!1},Tm=(t,e)=>{t||="/";const s=typeof t=="string"?t:"path"in t?Cm(t):Cs().resolve(t).href;if(e?.open){const{target:l="_blank",windowFeatures:u={}}=e.open,c=Object.entries(u).filter(([d,f])=>f!==void 0).map(([d,f])=>`${d.toLowerCase()}=${f}`).join(", ");return open(s,l,c),Promise.resolve()}const r=_r(s,{acceptRelative:!0}),n=e?.external||r;if(n){if(!e?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(s,window.location.href);if(l&&Cg(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const o=Sm();if(!n&&o){if(e?.replace){if(typeof t=="string"){const{pathname:l,search:u,hash:c}=gd(t);return{path:l,...u&&{query:La(u)},...c&&{hash:c},replace:!0}}return{...t,replace:!0}}return t}const i=Cs(),a=Ie();return n?(a._scope.stop(),e?.replace?location.replace(s):location.href=s,o?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e?.replace?i.replace(t):i.push(t)};function Cm(t){return dd(t.path||"",t.query||{})+(t.hash||"")}const Ad="__nuxt_error",Ua=()=>yu(Ie().payload,"error"),xm=t=>{const e=Ba(t);try{const s=Ie(),r=Ua();s.hooks.callHook("app:error",e),r.value||=e}catch{throw e}return e},km=async(t={})=>{const e=Ie(),s=Ua();e.callHook("app:error:cleared",t),t.redirect&&await Cs().replace(t.redirect),s.value=om},Om=t=>!!t&&typeof t=="object"&&Ad in t,Ba=t=>{const e=_m(t);return Object.defineProperty(e,Ad,{value:!0,configurable:!1,writable:!1}),e};/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Pd;const un=t=>Pd=t,Rd=Symbol();function Hi(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Br;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Br||(Br={}));function Am(){const t=pa(!0),e=t.run(()=>ie({}));let s=[],r=[];const n=Sa({install(o){un(n),n._a=o,o.provide(Rd,n),o.config.globalProperties.$pinia=n,r.forEach(i=>s.push(i)),r=[]},use(o){return this._a?s.push(o):r.push(o),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const Id=()=>{};function Kl(t,e,s,r=Id){t.push(e);const n=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!s&&ga()&&qf(n),n}function Is(t,...e){t.slice().forEach(s=>{s(...e)})}const Pm=t=>t(),Gl=Symbol(),Jo=Symbol();function qi(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];Hi(n)&&Hi(r)&&t.hasOwnProperty(s)&&!_e(r)&&!kt(r)?t[s]=qi(n,r):t[s]=r}return t}const Rm=Symbol();function Im(t){return!Hi(t)||!Object.prototype.hasOwnProperty.call(t,Rm)}const{assign:zt}=Object;function $m(t){return!!(_e(t)&&t.effect)}function jm(t,e,s,r){const{state:n,actions:o,getters:i}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const c=fh(s.state.value[t]);return zt(c,o,Object.keys(i||{}).reduce((d,f)=>(d[f]=Sa(ln(()=>{un(s);const h=s._s.get(t);return i[f].call(h,h)})),d),{}))}return l=$d(t,u,e,s,r,!0),l}function $d(t,e,s={},r,n,o){let i;const a=zt({actions:{}},s),l={deep:!0};let u,c,d=[],f=[],h;const p=r.state.value[t];!o&&!p&&(r.state.value[t]={}),ie({});let g;function _(D){let P;u=c=!1,typeof D=="function"?(D(r.state.value[t]),P={type:Br.patchFunction,storeId:t,events:h}):(qi(r.state.value[t],D),P={type:Br.patchObject,payload:D,storeId:t,events:h});const M=g=Symbol();nn().then(()=>{g===M&&(u=!0)}),c=!0,Is(d,P,r.state.value[t])}const w=o?function(){const{state:P}=s,M=P?P():{};this.$patch(X=>{zt(X,M)})}:Id;function T(){i.stop(),d=[],f=[],r._s.delete(t)}const y=(D,P="")=>{if(Gl in D)return D[Jo]=P,D;const M=function(){un(r);const X=Array.from(arguments),Z=[],ee=[];function fe(W){Z.push(W)}function pe(W){ee.push(W)}Is(f,{args:X,name:M[Jo],store:E,after:fe,onError:pe});let B;try{B=D.apply(this&&this.$id===t?this:E,X)}catch(W){throw Is(ee,W),W}return B instanceof Promise?B.then(W=>(Is(Z,W),W)).catch(W=>(Is(ee,W),Promise.reject(W))):(Is(Z,B),B)};return M[Gl]=!0,M[Jo]=P,M},b={_p:r,$id:t,$onAction:Kl.bind(null,f),$patch:_,$reset:w,$subscribe(D,P={}){const M=Kl(d,D,P.detached,()=>X()),X=i.run(()=>Dt(()=>r.state.value[t],Z=>{(P.flush==="sync"?c:u)&&D({storeId:t,type:Br.direct,events:h},Z)},zt({},l,P)));return M},$dispose:T},E=Ft(b);r._s.set(t,E);const R=(r._a&&r._a.runWithContext||Pm)(()=>r._e.run(()=>(i=pa()).run(()=>e({action:y}))));for(const D in R){const P=R[D];if(_e(P)&&!$m(P)||kt(P))o||(p&&Im(P)&&(_e(P)?P.value=p[D]:qi(P,p[D])),r.state.value[t][D]=P);else if(typeof P=="function"){const M=y(P,D);R[D]=M,a.actions[D]=P}}return zt(E,R),zt(le(E),R),Object.defineProperty(E,"$state",{get:()=>r.state.value[t],set:D=>{_(P=>{zt(P,D)})}}),r._p.forEach(D=>{zt(E,i.run(()=>D({store:E,app:r._a,pinia:r,options:a})))}),p&&o&&s.hydrate&&s.hydrate(E.$state,p),u=!0,c=!0,E}/*! #__NO_SIDE_EFFECTS__ */function Lm(t,e,s){let r;const n=typeof e=="function";r=n?s:e;function o(i,a){const l=So();return i=i||(l?ws(Rd,null):null),i&&un(i),i=Pd,i._s.has(t)||(n?$d(t,e,r,i):jm(t,r,i)),i._s.get(t)}return o.$id=t,o}function Mm(t){const e=le(t),s={};for(const r in e){const n=e[r];n.effect?s[r]=ln({get:()=>t[r],set(o){t[r]=o}}):(_e(n)||kt(n))&&(s[r]=yu(t,r))}return s}function zl(t){const e=Nm(t),s=new ArrayBuffer(e.length),r=new DataView(s);for(let n=0;n<s.byteLength;n++)r.setUint8(n,e.charCodeAt(n));return s}const Dm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Nm(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",s=0,r=0;for(let n=0;n<t.length;n++)s<<=6,s|=Dm.indexOf(t[n]),r+=6,r===24&&(e+=String.fromCharCode((s&16711680)>>16),e+=String.fromCharCode((s&65280)>>8),e+=String.fromCharCode(s&255),s=r=0);return r===12?(s>>=4,e+=String.fromCharCode(s)):r===18&&(s>>=2,e+=String.fromCharCode((s&65280)>>8),e+=String.fromCharCode(s&255)),e}const Um=-1,Bm=-2,Fm=-3,Hm=-4,qm=-5,Wm=-6;function Vm(t,e){return Km(JSON.parse(t),e)}function Km(t,e){if(typeof t=="number")return n(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const s=t,r=Array(s.length);function n(o,i=!1){if(o===Um)return;if(o===Fm)return NaN;if(o===Hm)return 1/0;if(o===qm)return-1/0;if(o===Wm)return-0;if(i)throw new Error("Invalid input");if(o in r)return r[o];const a=s[o];if(!a||typeof a!="object")r[o]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const l=a[0],u=e?.[l];if(u)return r[o]=u(n(a[1]));switch(l){case"Date":r[o]=new Date(a[1]);break;case"Set":const c=new Set;r[o]=c;for(let h=1;h<a.length;h+=1)c.add(n(a[h]));break;case"Map":const d=new Map;r[o]=d;for(let h=1;h<a.length;h+=2)d.set(n(a[h]),n(a[h+1]));break;case"RegExp":r[o]=new RegExp(a[1],a[2]);break;case"Object":r[o]=Object(a[1]);break;case"BigInt":r[o]=BigInt(a[1]);break;case"null":const f=Object.create(null);r[o]=f;for(let h=1;h<a.length;h+=2)f[a[h]]=n(a[h+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const h=globalThis[l],p=a[1],g=zl(p),_=new h(g);r[o]=_;break}case"ArrayBuffer":{const h=a[1],p=zl(h);r[o]=p;break}default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(a.length);r[o]=l;for(let u=0;u<a.length;u+=1){const c=a[u];c!==Bm&&(l[u]=n(c))}}else{const l={};r[o]=l;for(const u in a){const c=a[u];l[u]=n(c)}}return r[o]}return n(0)}const Gm=new Set(["link","style","script","noscript"]),zm=new Set(["title","titleTemplate","script","style","noscript"]),Jl=new Set(["base","meta","link","style","script","noscript"]),Jm=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),Ym=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),Xm=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),Qm=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Zm=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);const ey=["name","property","http-equiv"],ty=new Set(["viewport","description","keywords","robots"]);function jd(t){const e=t.split(":");return e.length?Zm.has(e[1]):!1}function Wi(t){const{props:e,tag:s}=t;if(Ym.has(s))return s;if(s==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of ey)if(e[r]!==void 0){const n=e[r],o=n.includes(":"),i=ty.has(n),l=!(o||i)&&t.key?`:key:${t.key}`:"";return`${s}:${n}${l}`}}if(t.key)return`${s}:key:${t.key}`;if(e.id)return`${s}:id:${e.id}`;if(zm.has(s)){const r=t.textContent||t.innerHTML;if(r)return`${s}:content:${r}`}}function Yl(t){const e=t._h||t._d;if(e)return e;const s=t.textContent||t.innerHTML;return s||`${t.tag}:${Object.entries(t.props).map(([r,n])=>`${r}:${String(n)}`).join(",")}`}function no(t,e,s){typeof t==="function"&&(!s||s!=="titleTemplate"&&!(s[0]==="o"&&s[1]==="n"))&&(t=t());let n;if(e&&(n=e(s,t)),Array.isArray(n))return n.map(o=>no(o,e));if(n?.constructor===Object){const o={};for(const i of Object.keys(n))o[i]=no(n[i],e,i);return o}return n}function sy(t,e){const s=t==="style"?new Map:new Set;function r(n){const o=n.trim();if(o)if(t==="style"){const[i,...a]=o.split(":").map(l=>l.trim());i&&a.length&&s.set(i,a.join(":"))}else o.split(" ").filter(Boolean).forEach(i=>s.add(i))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(n=>r(n)):e&&typeof e=="object"&&Object.entries(e).forEach(([n,o])=>{o&&o!=="false"&&(t==="style"?s.set(n.trim(),o):r(n))}),s}function Ld(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([s,r])=>{if(r===null){t.props[s]=null;return}if(s==="class"||s==="style"){t.props[s]=sy(s,r);return}if(Xm.has(s)){if(["textContent","innerHTML"].includes(s)&&typeof r=="object"){let i=e.type;if(e.type||(i="application/json"),!i?.endsWith("json")&&i!=="speculationrules")return;e.type=i,t.props.type=i,t[s]=JSON.stringify(r)}else t[s]=r;return}const n=String(r),o=s.startsWith("data-");n==="true"||n===""?t.props[s]=o?n:!0:!r&&o&&n==="false"?t.props[s]="false":r!==void 0&&(t.props[s]=r)}),t):t}function ry(t,e){const s=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=Ld({tag:t,props:{}},s);return r.key&&Gm.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(n=>({...r,props:{...r.props,content:n}})):r}function ny(t,e){if(!t)return[];typeof t=="function"&&(t=t());const s=(n,o)=>{for(let i=0;i<e.length;i++)o=e[i](n,o);return o};t=s(void 0,t);const r=[];return t=no(t,s),Object.entries(t||{}).forEach(([n,o])=>{if(o!==void 0)for(const i of Array.isArray(o)?o:[o])r.push(ry(n,i))}),r.flat()}const Vi=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,Xl={base:-10,title:10},oy={critical:-8,high:-1,low:2},Ql={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},iy=/@import/,xr=t=>t===""||t===!0;function ay(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let s=100;const r=oy[e.tagPriority]||0,n=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Ql;if(e.tag in Xl)s=Xl[e.tag];else if(e.tag==="meta"){const o=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;o&&(s=Ql.meta[o])}else e.tag==="link"&&e.props.rel?s=n.link[e.props.rel]:e.tag==="script"?xr(e.props.async)?s=n.script.async:e.props.src&&!xr(e.props.defer)&&!xr(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?s=n.script.sync:xr(e.props.defer)&&e.props.src&&!xr(e.props.async)&&(s=n.script.defer):e.tag==="style"&&(s=e.innerHTML&&iy.test(e.innerHTML)?n.style.imported:n.style.sync);return(s||100)+r}function Zl(t,e){const s=typeof e=="function"?e(t):e,r=s.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,s),t.hooks.addHooks(s.hooks||{}))}function ly(t={}){const e=_d();e.addHooks(t.hooks||{});const s=!t.document,r=new Map,n=new Map,o=new Set,i={_entryCount:1,plugins:n,dirty:!1,resolvedOptions:t,hooks:e,ssr:s,entries:r,headEntries(){return[...r.values()]},use:a=>Zl(i,a),push(a,l){const u={...l||{}};delete u.head;const c=u._index??i._entryCount++,d={_i:c,input:a,options:u},f={_poll(h=!1){i.dirty=!0,!h&&o.add(c),e.callHook("entries:updated",i)},dispose(){r.delete(c)&&i.invalidate()},patch(h){(!u.mode||u.mode==="server"&&s||u.mode==="client"&&!s)&&(d.input=h,r.set(c,d),f._poll())}};return f.patch(a),f},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...i.entries.values()]};for(await e.callHook("entries:resolve",a);o.size;){const f=o.values().next().value;o.delete(f);const h=r.get(f);if(h){const p={tags:ny(h.input,t.propResolvers||[]).map(g=>Object.assign(g,h.options)),entry:h};await e.callHook("entries:normalize",p),h._tags=p.tags.map((g,_)=>(g._w=ay(i,g),g._p=(h._i<<10)+_,g._d=Wi(g),g))}}let l=!1;a.entries.flatMap(f=>(f._tags||[]).map(h=>({...h,props:{...h.props}}))).sort(Vi).reduce((f,h)=>{const p=String(h._d||h._p);if(!f.has(p))return f.set(p,h);const g=f.get(p);if((h?.tagDuplicateStrategy||(Qm.has(h.tag)?"merge":null)||(h.key&&h.key===g.key?"merge":null))==="merge"){const w={...g.props};Object.entries(h.props).forEach(([T,y])=>w[T]=T==="style"?new Map([...g.props.style||new Map,...y]):T==="class"?new Set([...g.props.class||new Set,...y]):y),f.set(p,{...h,props:w})}else h._p>>10===g._p>>10&&h.tag==="meta"&&jd(p)?(f.set(p,Object.assign([...Array.isArray(g)?g:[g],h],h)),l=!0):(h._w===g._w?h._p>g._p:h?._w<g?._w)&&f.set(p,h);return f},a.tagMap);const u=a.tagMap.get("title"),c=a.tagMap.get("titleTemplate");if(i._title=u?.textContent,c){const f=c?.textContent;if(i._titleTemplate=f,f){let h=typeof f=="function"?f(u?.textContent):f;typeof h=="string"&&!i.plugins.has("template-params")&&(h=h.replace("%s",u?.textContent||"")),u?h===null?a.tagMap.delete("title"):a.tagMap.set("title",{...u,textContent:h}):(c.tag="title",c.textContent=h)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(Vi)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const d=[];for(const f of a.tags){const{innerHTML:h,tag:p,props:g}=f;if(Jm.has(p)&&!(Object.keys(g).length===0&&!f.innerHTML&&!f.textContent)&&!(p==="meta"&&!g.content&&!g["http-equiv"]&&!g.charset)){if(p==="script"&&h){if(g.type?.endsWith("json")){const _=typeof h=="string"?h:JSON.stringify(h);f.innerHTML=_.replace(/</g,"\\u003C")}else typeof h=="string"&&(f.innerHTML=h.replace(new RegExp(`</${p}`,"g"),`<\\/${p}`));f._d=Wi(f)}d.push(f)}}return d},invalidate(){for(const a of r.values())o.add(a._i);i.dirty=!0,e.callHook("entries:updated",i)}};return(t?.plugins||[]).forEach(a=>Zl(i,a)),i.hooks.callHook("init",i),t.init?.forEach(a=>a&&i.push(a)),i}const Yo="%separator";function cy(t,e,s=!1){let r;if(e==="s"||e==="pageTitle")r=t.pageTitle;else if(e.includes(".")){const n=e.indexOf(".");r=t[e.substring(0,n)]?.[e.substring(n+1)]}else r=t[e];if(r!==void 0)return s?(r||"").replace(/\\/g,"\\\\").replace(/</g,"\\u003C").replace(/"/g,'\\"'):r||""}function Sn(t,e,s,r=!1){if(typeof t!="string"||!t.includes("%"))return t;let n=t;try{n=decodeURI(t)}catch{}const o=n.match(/%\w+(?:\.\w+)?/g);if(!o)return t;const i=t.includes(Yo);return t=t.replace(/%\w+(?:\.\w+)?/g,a=>{if(a===Yo||!o.includes(a))return a;const l=cy(e,a.slice(1),r);return l!==void 0?l:a}).trim(),i&&(t=t.split(Yo).map(a=>a.trim()).filter(a=>a!=="").join(s?` ${s} `:" ")),t}const ec=t=>t.includes(":key")?t:t.split(":").join(":key:"),uy={key:"aliasSorting",hooks:{"tags:resolve":t=>{let e=!1;for(const s of t.tags){const r=s.tagPriority;if(!r)continue;const n=String(r);if(n.startsWith("before:")){const o=ec(n.slice(7)),i=t.tagMap.get(o);i&&(typeof i.tagPriority=="number"&&(s.tagPriority=i.tagPriority),s._p=i._p-1,e=!0)}else if(n.startsWith("after:")){const o=ec(n.slice(6)),i=t.tagMap.get(o);i&&(typeof i.tagPriority=="number"&&(s.tagPriority=i.tagPriority),s._p=i._p+1,e=!0)}}e&&(t.tags=t.tags.sort(Vi))}}},dy={key:"deprecations",hooks:{"entries:normalize":({tags:t})=>{for(const e of t)e.props.children&&(e.innerHTML=e.props.children,delete e.props.children),e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.body&&(e.tagPosition="bodyClose",delete e.props.body)}}};async function Ki(t){if(typeof t==="function")return t;if(t instanceof Promise)return await t;if(Array.isArray(t))return await Promise.all(t.map(s=>Ki(s)));if(t?.constructor===Object){const s={};for(const r of Object.keys(t))s[r]=await Ki(t[r]);return s}return t}const fy={key:"promises",hooks:{"entries:resolve":async t=>{const e=[];for(const s in t.entries)t.entries[s]._promisesProcessed||e.push(Ki(t.entries[s].input).then(r=>{t.entries[s].input=r,t.entries[s]._promisesProcessed=!0}));await Promise.all(e)}}},hy={meta:"content",link:"href",htmlAttrs:"lang"},py=["innerHTML","textContent"],gy=t=>({key:"template-params",hooks:{"entries:normalize":e=>{const s=e.tags.filter(r=>r.tag==="templateParams"&&r.mode==="server")?.[0]?.props||{};Object.keys(s).length&&(t._ssrPayload={templateParams:{...t._ssrPayload?.templateParams||{},...s}})},"tags:resolve":({tagMap:e,tags:s})=>{const r=e.get("templateParams")?.props||{},n=r.separator||"|";delete r.separator,r.pageTitle=Sn(r.pageTitle||t._title||"",r,n);for(const o of s){if(o.processTemplateParams===!1)continue;const i=hy[o.tag];if(i&&typeof o.props[i]=="string")o.props[i]=Sn(o.props[i],r,n);else if(o.processTemplateParams||o.tag==="titleTemplate"||o.tag==="title")for(const a of py)typeof o[a]=="string"&&(o[a]=Sn(o[a],r,n,o.tag==="script"&&o.props.type.endsWith("json")))}t._templateParams=r,t._separator=n},"tags:afterResolve":({tagMap:e})=>{const s=e.get("title");s?.textContent&&s.processTemplateParams!==!1&&(s.textContent=Sn(s.textContent,t._templateParams,t._separator))}}}),my=(t,e)=>_e(e)?uh(e):e,Md="usehead";function yy(t){return{install(s){s.config.globalProperties.$unhead=t,s.config.globalProperties.$head=t,s.provide(Md,t)}}.install}function vy(){if(So()){const t=ws(Md);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function E0(t,e={}){const s=e.head||vy();return s.ssr?s.push(t||{},e):by(s,t,e)}function by(t,e,s={}){const r=ie(!1);let n;return tp(()=>{const i=r.value?{}:no(e,my);n?n.patch(i):n=t.push(i,s)}),on()&&(ku(()=>{n.dispose()}),Tu(()=>{r.value=!0}),Su(()=>{r.value=!1})),n}const _y="modulepreload",wy=function(t,e){return new URL(t,e).href},tc={},xs=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){let u=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");n=u(s.map(c=>{if(c=wy(c,r),c in tc)return;tc[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!r)for(let g=i.length-1;g>=0;g--){const _=i[g];if(_.href===c&&(!d||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":_y,d||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((g,_)=>{p.addEventListener("load",g),p.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return n.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};let Dn,Nn;function Ey(){return Dn=$fetch(Na(`builds/meta/${gr().app.buildId}.json`),{responseType:"json"}),Dn.then(t=>{Nn=mm(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),Dn}function Oo(){return Dn||Ey()}async function Fa(t){const e=typeof t=="string"?t:t.path;if(await Oo(),!Nn)return console.error("[nuxt] Error creating app manifest matcher.",Nn),{};try{return vm({},...Nn.matchAll(e).reverse())}catch(s){return console.error("[nuxt] Error matching route rules.",s),{}}}async function sc(t,e={}){if(!await Nd(t))return null;const r=await Ty(t,e);return await Dd(r)||null}const Sy="_payload.json";async function Ty(t,e={}){const s=new URL(t,"http://localhost");if(s.host!=="localhost"||_r(s.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=gr(),n=e.hash||(e.fresh?Date.now():r.app.buildId),o=r.app.cdnURL,i=o&&await Nd(t)?o:r.app.baseURL;return ko(i,s.pathname,Sy+(n?`?${n}`:""))}async function Dd(t){const e=fetch(t,{cache:"force-cache"}).then(s=>s.text().then(Ud));try{return await e}catch(s){console.warn("[nuxt] Cannot load payload ",t,s)}return null}async function Nd(t=Od().path){const e=Ie();return t=Ma(t),(await Oo()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await Fa({path:t});return!!r.prerender&&!r.redirect})}let cs=null;async function Cy(){if(cs)return cs;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await Ud(t.textContent||""),s=t.dataset.src?await Dd(t.dataset.src):void 0;return cs={...e,...s,...window.__NUXT__},cs.config?.public&&(cs.config.public=Ft(cs.config.public)),cs}async function Ud(t){return await Vm(t,Ie()._payloadRevivers)}function Bd(t,e){Ie()._payloadRevivers[t]=e}const xy=hm(()=>{Bd("skipHydrate",t=>{})}),ky=[["NuxtError",t=>Ba(t)],["EmptyShallowRef",t=>al(t==="_"?void 0:t==="0n"?BigInt(0):eo(t))],["EmptyRef",t=>ie(t==="_"?void 0:t==="0n"?BigInt(0):eo(t))],["ShallowRef",t=>al(t)],["ShallowReactive",t=>Xs(t)],["Ref",t=>ie(t)],["Reactive",t=>Ft(t)]],Oy=_t({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,s;for(const[r,n]of ky)Bd(r,n);Object.assign(t.payload,([e,s]=wd(()=>t.runWithContext(Cy)),e=await e,s(),e)),window.__NUXT__=t.payload}});async function Ha(t,e={}){const s=e.document||t.resolvedOptions.document;if(!s||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async n=>{const o=new Map,i=new Promise(h=>{t.resolveTags().then(p=>{h(p.map(g=>{const _=o.get(g._d)||0,w={tag:g,id:(_?`${g._d}:${_}`:g._d)||Yl(g),shouldRender:!0};return g._d&&jd(g._d)&&o.set(g._d,_+1),w}))})});let a=t._dom;if(!a){a={title:s.title,elMap:new Map().set("htmlAttrs",s.documentElement).set("bodyAttrs",s.body)};for(const h of["body","head"]){const p=s[h]?.children;for(const g of p){const _=g.tagName.toLowerCase();if(!Jl.has(_))continue;const w=Ld({tag:_,props:{}},{innerHTML:g.innerHTML,...g.getAttributeNames().reduce((T,y)=>(T[y]=g.getAttribute(y),T),{})||{}});if(w.key=g.getAttribute("data-hid")||void 0,w._d=Wi(w)||Yl(w),a.elMap.has(w._d)){let T=1,y=w._d;for(;a.elMap.has(y);)y=`${w._d}:${T++}`;a.elMap.set(y,g)}else a.elMap.set(w._d,g)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(h,p,g){const _=`${h}:${p}`;a.sideEffects[_]=g,delete a.pendingSideEffects[_]}function u({id:h,$el:p,tag:g}){const _=g.tag.endsWith("Attrs");a.elMap.set(h,p),_||(g.textContent&&g.textContent!==p.textContent&&(p.textContent=g.textContent),g.innerHTML&&g.innerHTML!==p.innerHTML&&(p.innerHTML=g.innerHTML),l(h,"el",()=>{p?.remove(),a.elMap.delete(h)}));for(const w in g.props){if(!Object.prototype.hasOwnProperty.call(g.props,w))continue;const T=g.props[w];if(w.startsWith("on")&&typeof T=="function"){const b=p?.dataset;if(b&&b[`${w}fired`]){const E=w.slice(0,-5);T.call(p,new Event(E.substring(2)))}p.getAttribute(`data-${w}`)!==""&&((g.tag==="bodyAttrs"?s.defaultView:p).addEventListener(w.substring(2),T.bind(p)),p.setAttribute(`data-${w}`,""));continue}const y=`attr:${w}`;if(w==="class"){if(!T)continue;for(const b of T)_&&l(h,`${y}:${b}`,()=>p.classList.remove(b)),!p.classList.contains(b)&&p.classList.add(b)}else if(w==="style"){if(!T)continue;for(const[b,E]of T)l(h,`${y}:${b}`,()=>{p.style.removeProperty(b)}),p.style.setProperty(b,E)}else T!==!1&&T!==null&&(p.getAttribute(w)!==T&&p.setAttribute(w,T===!0?"":String(T)),_&&l(h,y,()=>p.removeAttribute(w)))}}const c=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0},f=await i;for(const h of f){const{tag:p,shouldRender:g,id:_}=h;if(g){if(p.tag==="title"){s.title=p.textContent,l("title","",()=>s.title=a.title);continue}h.$el=h.$el||a.elMap.get(_),h.$el?u(h):Jl.has(p.tag)&&c.push(h)}}for(const h of c){const p=h.tag.tagPosition||"head";h.$el=s.createElement(h.tag.tag),u(h),d[p]=d[p]||s.createDocumentFragment(),d[p].appendChild(h.$el)}for(const h of f)await t.hooks.callHook("dom:renderTag",h,s,l);d.head&&s.head.appendChild(d.head),d.bodyOpen&&s.body.insertBefore(d.bodyOpen,s.body.firstChild),d.bodyClose&&s.body.appendChild(d.bodyClose);for(const h in a.pendingSideEffects)a.pendingSideEffects[h]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:f}),n()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function Ay(t={}){const e=t.domOptions?.render||Ha;t.document=t.document||(typeof window<"u"?document:void 0);const s=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return ly({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[s?JSON.parse(s):!1,...t.init||[]]})}function Py(t,e){let s=0;return()=>{const r=++s;e(()=>{s===r&&t()})}}function Ry(t={}){const e=Ay({domOptions:{render:Py(()=>Ha(e),s=>setTimeout(s,0))},...t});return e.install=yy(e),e}const Iy={disableDefaults:!0,disableCapoSorting:!1,plugins:[dy,fy,gy,uy]},$y=_t({name:"nuxt:head",enforce:"pre",setup(t){const e=Ry(Iy);t.vueApp.use(e);{let s=!0;const r=async()=>{s=!1,await Ha(e)};e.hooks.hook("dom:beforeRender",n=>{n.shouldRender=!s}),t.hooks.hook("page:start",()=>{s=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}}),jy=async t=>{let e,s;const r=([e,s]=wd(()=>Fa({path:t.path})),e=await e,s(),e);if(r.redirect)return _r(r.redirect,{acceptRelative:!0})?(window.location.href=r.redirect,!1):r.redirect},Ly=[jy];function Xo(t){const e=t&&typeof t=="object"?t:{};typeof t=="object"&&(t=md({pathname:t.path||"",search:ud(t.query||{}),hash:t.hash||""}));const s=new URL(t.toString(),window.location.href);return{path:s.pathname,fullPath:t,query:La(s.search),hash:s.hash,params:e.params||{},name:void 0,matched:e.matched||[],redirectedFrom:void 0,meta:e.meta||{},href:t}}const My=_t({name:"nuxt:router",enforce:"pre",setup(t){const e=Og(window.location.pathname,gr().app.baseURL)+window.location.search+window.location.hash,s=[],r={"navigate:before":[],"resolve:before":[],"navigate:after":[],error:[]},n=(d,f)=>(r[d].push(f),()=>r[d].splice(r[d].indexOf(f),1)),o=gr().app.baseURL,i=Ft(Xo(e));async function a(d,f){try{const h=Xo(d);for(const p of r["navigate:before"]){const g=await p(h,i);if(g===!1||g instanceof Error)return;if(typeof g=="string"&&g.length)return a(g,!0)}for(const p of r["resolve:before"])await p(h,i);Object.assign(i,h),window.history[f?"replaceState":"pushState"]({},"",ko(o,h.fullPath)),t.isHydrating||await t.runWithContext(km);for(const p of r["navigate:after"])await p(h,i)}catch(h){for(const p of r.error)await p(h)}}const u={currentRoute:ln(()=>i),isReady:()=>Promise.resolve(),options:{},install:()=>Promise.resolve(),push:d=>a(d,!1),replace:d=>a(d,!0),back:()=>window.history.go(-1),go:d=>window.history.go(d),forward:()=>window.history.go(1),beforeResolve:d=>n("resolve:before",d),beforeEach:d=>n("navigate:before",d),afterEach:d=>n("navigate:after",d),onError:d=>n("error",d),resolve:Xo,addRoute:(d,f)=>{s.push(f)},getRoutes:()=>s,hasRoute:d=>s.some(f=>f.name===d),removeRoute:d=>{const f=s.findIndex(h=>h.name===d);f!==-1&&s.splice(f,1)}};t.vueApp.component("RouterLink",Xe({functional:!0,props:{to:{type:String,required:!0},custom:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:String},setup:(d,{slots:f})=>{const h=()=>a(d.to,d.replace);return()=>{const p=u.resolve(d.to);return d.custom?f.default?.({href:d.to,navigate:h,route:p}):Ii("a",{href:d.to,onClick:g=>(g.preventDefault(),h())},f)}}})),window.addEventListener("popstate",d=>{const f=d.target.location;u.replace(f.href.replace(f.origin,""))}),t._route=i,t._middleware||={global:[],named:{}};const c=t.payload.state._layout;return t.hooks.hookOnce("app:created",async()=>{u.beforeEach(async(d,f)=>{d.meta=Ft(d.meta||{}),t.isHydrating&&c&&!Ht(d.meta.layout)&&(d.meta.layout=c),t._processingMiddleware=!0;{const h=new Set([...Ly,...t._middleware.global]);{const p=await t.runWithContext(()=>Fa({path:d.path}));if(p.appMiddleware)for(const g in p.appMiddleware){const _=t._middleware.named[g];if(!_)return;p.appMiddleware[g]?h.add(_):h.delete(_)}}for(const p of h){const g=await t.runWithContext(()=>p(d,f));if(g!==!0&&(g||g===!1))return g}}}),u.afterEach(()=>{delete t._processingMiddleware}),await u.replace(e),Pg(i.fullPath,e)||await t.runWithContext(()=>Tm(i.fullPath))}),{provide:{route:i,router:u}}}}),rc=globalThis.requestIdleCallback||(t=>{const e=Date.now(),s={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(s)},1)}),S0=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),qa=t=>{const e=Ie();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{rc(()=>t())}):rc(()=>t())},Dy=_t({name:"nuxt:payload",setup(t){const e=new Set;Cs().beforeResolve(async(s,r)=>{if(s.path===r.path)return;const n=await sc(s.path);if(n){for(const o of e)delete t.static.data[o];for(const o in n.data)o in t.static.data||e.add(o),t.static.data[o]=n.data[o]}}),qa(()=>{t.hooks.hook("link:prefetch",async s=>{const{hostname:r}=new URL(s,window.location.href);r===window.location.hostname&&await sc(s).catch(()=>{console.warn("[nuxt] Error preloading payload for",s)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(Oo,1e3)})}}),Ny=_t(()=>{const t=Cs();qa(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),Uy=_t(t=>{let e;async function s(){const r=await Oo();e&&clearTimeout(e),e=setTimeout(s,Hl);try{const n=await $fetch(Na("builds/latest.json")+`?${Date.now()}`);n.id!==r.id&&t.hooks.callHook("app:manifest:update",n)}catch{}}qa(()=>{e=setTimeout(s,Hl)})});function By(t={}){const e=t.path||window.location.pathname;let s={};try{s=eo(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||s?.path!==e||s?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Ie().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const Fy=_t({name:"nuxt:chunk-reload",setup(t){const e=Cs(),s=gr(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:o})=>{r.add(o)});function n(o){const i=ko(s.app.baseURL,o.fullPath);By({path:i,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(n)}),e.onError((o,i)=>{r.has(o)&&n(i)})}}),Hy=_t({name:"pinia",setup(t){const e=Am();return t.vueApp.use(e),un(e),t.payload&&t.payload.pinia&&(e.state.value=t.payload.pinia),{provide:{pinia:e}}}}),qy=_t({name:"nuxt:global-components"}),Wy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>xs(async()=>{const{default:r}=await Promise.resolve().then(()=>dn);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class Wa extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Vy extends Wa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class nc extends Wa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class oc extends Wa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Gi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Gi||(Gi={}));var Ky=function(t,e,s,r){function n(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(c){try{u(r.next(c))}catch(d){i(d)}}function l(c){try{u(r.throw(c))}catch(d){i(d)}}function u(c){c.done?o(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Gy{constructor(e,{headers:s={},customFetch:r,region:n=Gi.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Wy(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Ky(this,void 0,void 0,function*(){try{const{headers:n,method:o,body:i}=s;let a={},{region:l}=s;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;i&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(a["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const d=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(g=>{throw new Vy(g)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new nc(d);if(!d.ok)throw new oc(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null,response:d}}catch(n){return{data:null,error:n,response:n instanceof oc||n instanceof nc?n.context:void 0}}})}}function zy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Jy(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function r(){var n=!1;try{n=this instanceof r}catch{}return n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Re={},$s={},js={},Ls={},Ms={},Ds={},Yy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mr=Yy();const Xy=mr.fetch,Fd=mr.fetch.bind(mr),Hd=mr.Headers,Qy=mr.Request,Zy=mr.Response,dn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Hd,Request:Qy,Response:Zy,default:Fd,fetch:Xy},Symbol.toStringTag,{value:"Module"})),ev=Jy(dn);var Tn={},ic;function qd(){if(ic)return Tn;ic=1,Object.defineProperty(Tn,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Tn.default=t,Tn}var ac;function Wd(){if(ac)return Ds;ac=1;var t=Ds&&Ds.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ds,"__esModule",{value:!0});const e=t(ev),s=t(qd());class r{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,i){return this.headers=Object.assign({},this.headers),this.headers[o]=i,this}then(o,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,f;let h=null,p=null,g=null,_=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const E=await u.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=E:p=JSON.parse(E))}const y=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),b=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");y&&b&&b.length>1&&(g=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,_=406,w="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const y=await u.text();try{h=JSON.parse(y),Array.isArray(h)&&u.status===404&&(p=[],h=null,_=200,w="OK")}catch{u.status===404&&y===""?(_=204,w="No Content"):h={message:y}}if(h&&this.isMaybeSingle&&(!((f=h?.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,_=200,w="OK"),h&&this.shouldThrowOnError)throw new s.default(h)}return{error:h,data:p,count:g,status:_,statusText:w}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,f;return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:`${(d=u?.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=u?.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(o,i)}returns(){return this}overrideTypes(){return this}}return Ds.default=r,Ds}var lc;function Vd(){if(lc)return Ms;lc=1;var t=Ms&&Ms.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ms,"__esModule",{value:!0});const e=t(Wd());class s extends e.default{select(n){let o=!1;const i=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:o=!0,nullsFirst:i,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:o,referencedTable:i=o}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,o,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${o-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:o=!1,settings:i=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[n?"analyze":null,o?"verbose":null,i?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${f}"; options=${d};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ms.default=s,Ms}var cc;function Va(){if(cc)return Ls;cc=1;var t=Ls&&Ls.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ls,"__esModule",{value:!0});const e=t(Vd());class s extends e.default{eq(n,o){return this.url.searchParams.append(n,`eq.${o}`),this}neq(n,o){return this.url.searchParams.append(n,`neq.${o}`),this}gt(n,o){return this.url.searchParams.append(n,`gt.${o}`),this}gte(n,o){return this.url.searchParams.append(n,`gte.${o}`),this}lt(n,o){return this.url.searchParams.append(n,`lt.${o}`),this}lte(n,o){return this.url.searchParams.append(n,`lte.${o}`),this}like(n,o){return this.url.searchParams.append(n,`like.${o}`),this}likeAllOf(n,o){return this.url.searchParams.append(n,`like(all).{${o.join(",")}}`),this}likeAnyOf(n,o){return this.url.searchParams.append(n,`like(any).{${o.join(",")}}`),this}ilike(n,o){return this.url.searchParams.append(n,`ilike.${o}`),this}ilikeAllOf(n,o){return this.url.searchParams.append(n,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(n,o){return this.url.searchParams.append(n,`ilike(any).{${o.join(",")}}`),this}is(n,o){return this.url.searchParams.append(n,`is.${o}`),this}in(n,o){const i=Array.from(new Set(o)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${i})`),this}contains(n,o){return typeof o=="string"?this.url.searchParams.append(n,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(n,`cs.{${o.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(o)}`),this}containedBy(n,o){return typeof o=="string"?this.url.searchParams.append(n,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(n,`cd.{${o.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(o)}`),this}rangeGt(n,o){return this.url.searchParams.append(n,`sr.${o}`),this}rangeGte(n,o){return this.url.searchParams.append(n,`nxl.${o}`),this}rangeLt(n,o){return this.url.searchParams.append(n,`sl.${o}`),this}rangeLte(n,o){return this.url.searchParams.append(n,`nxr.${o}`),this}rangeAdjacent(n,o){return this.url.searchParams.append(n,`adj.${o}`),this}overlaps(n,o){return typeof o=="string"?this.url.searchParams.append(n,`ov.${o}`):this.url.searchParams.append(n,`ov.{${o.join(",")}}`),this}textSearch(n,o,{config:i,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(n,`${l}fts${u}.${o}`),this}match(n){return Object.entries(n).forEach(([o,i])=>{this.url.searchParams.append(o,`eq.${i}`)}),this}not(n,o,i){return this.url.searchParams.append(n,`not.${o}.${i}`),this}or(n,{foreignTable:o,referencedTable:i=o}={}){const a=i?`${i}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,o,i){return this.url.searchParams.append(n,`${o}.${i}`),this}}return Ls.default=s,Ls}var uc;function Kd(){if(uc)return js;uc=1;var t=js&&js.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(js,"__esModule",{value:!0});const e=t(Va());class s{constructor(n,{headers:o={},schema:i,fetch:a}){this.url=n,this.headers=o,this.schema=i,this.fetch=a}select(n,{head:o=!1,count:i}={}){const a=o?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),i&&(this.headers.Prefer=`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:o,defaultToNull:i=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),o&&l.push(`count=${o}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:o,ignoreDuplicates:i=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${i?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const d=n.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:o}={}){const i="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),this.headers.Prefer=a.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const o="DELETE",i=[];return n&&i.push(`count=${n}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return js.default=s,js}var kr={},Or={},dc;function tv(){return dc||(dc=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.version=void 0,Or.version="0.0.0-automated"),Or}var fc;function sv(){if(fc)return kr;fc=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.DEFAULT_HEADERS=void 0;const t=tv();return kr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},kr}var hc;function rv(){if(hc)return $s;hc=1;var t=$s&&$s.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty($s,"__esModule",{value:!0});const e=t(Kd()),s=t(Va()),r=sv();class n{constructor(i,{headers:a={},schema:l,fetch:u}={}){this.url=i,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(i){const a=new URL(`${this.url}/${i}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:u=!1,count:c}={}){let d;const f=new URL(`${this.url}/rpc/${i}`);let h;l||u?(d=l?"HEAD":"GET",Object.entries(a).filter(([g,_])=>_!==void 0).map(([g,_])=>[g,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([g,_])=>{f.searchParams.append(g,_)})):(d="POST",h=a);const p=Object.assign({},this.headers);return c&&(p.Prefer=`count=${c}`),new s.default({method:d,url:f,headers:p,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return $s.default=n,$s}var pc;function nv(){if(pc)return Re;pc=1;var t=Re&&Re.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Re,"__esModule",{value:!0}),Re.PostgrestError=Re.PostgrestBuilder=Re.PostgrestTransformBuilder=Re.PostgrestFilterBuilder=Re.PostgrestQueryBuilder=Re.PostgrestClient=void 0;const e=t(rv());Re.PostgrestClient=e.default;const s=t(Kd());Re.PostgrestQueryBuilder=s.default;const r=t(Va());Re.PostgrestFilterBuilder=r.default;const n=t(Vd());Re.PostgrestTransformBuilder=n.default;const o=t(Wd());Re.PostgrestBuilder=o.default;const i=t(qd());return Re.PostgrestError=i.default,Re.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:o.default,PostgrestError:i.default},Re}var ov=nv();const iv=zy(ov),{PostgrestClient:av,PostgrestQueryBuilder:T0,PostgrestFilterBuilder:C0,PostgrestTransformBuilder:x0,PostgrestBuilder:k0,PostgrestError:O0}=iv;class lv{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const cv="2.15.1",uv=`realtime-js/${cv}`,dv="1.0.0",zi=1e4,fv=1e3,hv=100;var Fr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Fr||(Fr={}));var Oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Oe||(Oe={}));var gt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(gt||(gt={}));var Ji;(function(t){t.websocket="websocket"})(Ji||(Ji={}));var vs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vs||(vs={}));class pv{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),o=s.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(e.slice(i,i+n));i=i+n;const l=r.decode(e.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Gd{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ve;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ve||(ve={}));const gc=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,i)=>(o[i]=gv(i,t,e,n),o),{})},gv=(t,e,s,r)=>{const n=e.find(a=>a.name===t),o=n?.type,i=s[t];return o&&!r.includes(o)?zd(o,i):Yi(i)},zd=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return bv(e,s)}switch(t){case ve.bool:return mv(e);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return yv(e);case ve.json:case ve.jsonb:return vv(e);case ve.timestamp:return _v(e);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return Yi(e);default:return Yi(e)}},Yi=t=>t,mv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},bv=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let o;const i=t.slice(1,s);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>zd(e,a))}return t},_v=t=>typeof t=="string"?t.replace(" ","T"):t,Jd=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Qo{constructor(e,s,r={},n=zi){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mc||(mc={}));class Hr{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hr.syncState(this.state,n,o,i),this.pendingDiffs.forEach(l=>{this.state=Hr.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Hr.syncDiff(this.state,n,o,i),a())}),this.onJoin((n,o,i)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:o,newPresences:i})}),this.onLeave((n,o,i)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const o=this.cloneDeep(e),i=this.transformState(s),a={},l={};return this.map(o,(u,c)=>{i[u]||(l[u]=c)}),this.map(i,(u,c)=>{const d=o[u];if(d){const f=c.map(_=>_.presence_ref),h=d.map(_=>_.presence_ref),p=c.filter(_=>h.indexOf(_.presence_ref)<0),g=d.filter(_=>f.indexOf(_.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(l[u]=g)}else a[u]=c}),this.syncDiff(o,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:o,leaves:i}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(o,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...f)}r(a,c,l)}),this.map(i,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(yc||(yc={}));var qr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(qr||(qr={}));var jt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(jt||(jt={}));class Ka{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Qo(this,gt.join,this.params,this.timeout),this.rejoinTimer=new Gd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gt.reply,{},(n,o)=>{this._trigger(this._replyEventName(o),n)}),this.presence=new Hr(this),this.broadcastEndpointURL=Jd(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:o,presence:i,private:a}}=this.params,l=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[qr.PRESENCE]&&this.bindings[qr.PRESENCE].length>0,c={},d={broadcast:o,presence:Object.assign(Object.assign({},i),{enabled:u}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(jt.CHANNEL_ERROR,f)),this._onClose(()=>e?.(jt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:f})=>{var h;if(this.socket.setAuth(),f===void 0){e?.(jt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(h=p?.length)!==null&&h!==void 0?h:0,_=[];for(let w=0;w<g;w++){const T=p[w],{filter:{event:y,schema:b,table:E,filter:x}}=T,R=f&&f[w];if(R&&R.event===y&&R.schema===b&&R.table===E&&R.filter===x)_.push(Object.assign(Object.assign({},T),{id:R.id}));else{this.unsubscribe(),this.state=Oe.errored,e?.(jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(jt.SUBSCRIBED);return}}).receive("error",f=>{this.state=Oe.errored,e?.(jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===Oe.joined&&e===qr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Oe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new Qo(this,gt.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const n=new AbortController,o=setTimeout(()=>n.abort(),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(o),i}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Qo(this,e,s,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>hv){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=gt;if(r&&[a,l,u,c].indexOf(i)>=0&&r!==this._joinRef())return;let f=this._onMessage(i,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(h=>{var p,g,_;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((_=(g=h.filter)===null||g===void 0?void 0:g.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===i}).map(h=>h.callback(f,r)):(o=this.bindings[i])===null||o===void 0||o.filter(h=>{var p,g,_,w,T,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){const b=h.id,E=(p=h.filter)===null||p===void 0?void 0:p.event;return b&&((g=s.ids)===null||g===void 0?void 0:g.includes(b))&&(E==="*"||E?.toLocaleLowerCase()===((_=s.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(T=(w=h?.filter)===null||w===void 0?void 0:w.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return b==="*"||b===((y=s?.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:g,table:_,commit_timestamp:w,type:T,errors:y}=p;f=Object.assign(Object.assign({},{schema:g,table:_,commit_timestamp:w,eventType:T,new:{},old:{},errors:y}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),o={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(o):this.bindings[n]=[o],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var o;return!(((o=n.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Ka.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gt.close,{},e)}_onError(e){this._on(gt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=gc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=gc(e.columns,e.old_record)),s}}const vc=()=>{},Cn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wv=[1e3,2e3,5e3,1e4],Ev=1e4,Sv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tv{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zi,this.transport=null,this.heartbeatIntervalMs=Cn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vc,this.ref=0,this.reconnectTimer=null,this.logger=vc,this.conn=null,this.sendBuffer=[],this.serializer=new pv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let o;return n?o=n:typeof fetch>"u"?o=(...i)=>xs(async()=>{const{default:a}=await import("./CDRTTDNm.js");return{default:a}},[],import.meta.url).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((r=s?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Ji.websocket}`,this.httpEndpoint=Jd(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dv}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fr.connecting:return vs.Connecting;case Fr.open:return vs.Open;case Fr.closing:return vs.Closing;default:return vs.Closed}}isConnected(){return this.connectionState()===vs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(o=>o.topic===r);if(n)return n;{const o=new Ka(`realtime:${e}`,s,this);return this.channels.push(o),o}}push(e){const{topic:s,event:r,payload:n,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${o})`,n),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(fv,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Cn.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:n,payload:o,ref:i}=s,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${n} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(n,o,i)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(gt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Sv],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:uv};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(gt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Gd(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,n,o,i,a,l,u;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:zi,this.heartbeatIntervalMs=(n=e?.heartbeatIntervalMs)!==null&&n!==void 0?n:Cn.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e?.accessToken)!==null&&i!==void 0?i:null,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e?.reconnectAfterMs)!==null&&a!==void 0?a:(c=>wv[c-1]||Ev),this.encode=(l=e?.encode)!==null&&l!==void 0?l:((c,d)=>d(JSON.stringify(c))),this.decode=(u=e?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Ga extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Cv extends Ga{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xi extends Ga{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var xv=function(t,e,s,r){function n(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(c){try{u(r.next(c))}catch(d){i(d)}}function l(c){try{u(r.throw(c))}catch(d){i(d)}}function u(c){c.done?o(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Yd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>xs(async()=>{const{default:r}=await Promise.resolve().then(()=>dn);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},kv=()=>xv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xs(()=>Promise.resolve().then(()=>dn),void 0,import.meta.url)).Response:Response}),Qi=t=>{if(Array.isArray(t))return t.map(s=>Qi(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[n]=Qi(r)}),e},Ov=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Os=function(t,e,s,r){function n(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(c){try{u(r.next(c))}catch(d){i(d)}}function l(c){try{u(r.throw(c))}catch(d){i(d)}}function u(c){c.done?o(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Zo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Av=(t,e,s)=>Os(void 0,void 0,void 0,function*(){const r=yield kv();t instanceof r&&!s?.noResolveJson?t.json().then(n=>{const o=t.status||500,i=n?.statusCode||o+"";e(new Cv(Zo(n),o,i))}).catch(n=>{e(new Xi(Zo(n),n))}):e(new Xi(Zo(t),t))}),Pv=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"||!r?n:(Ov(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(r)):n.body=r,e?.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),s))};function fn(t,e,s,r,n,o){return Os(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(s,Pv(e,r,n,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>Av(l,a,r))})})}function oo(t,e,s,r){return Os(this,void 0,void 0,function*(){return fn(t,"GET",e,s,r)})}function Tt(t,e,s,r,n){return Os(this,void 0,void 0,function*(){return fn(t,"POST",e,r,n,s)})}function Zi(t,e,s,r,n){return Os(this,void 0,void 0,function*(){return fn(t,"PUT",e,r,n,s)})}function Rv(t,e,s,r){return Os(this,void 0,void 0,function*(){return fn(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Xd(t,e,s,r,n){return Os(this,void 0,void 0,function*(){return fn(t,"DELETE",e,r,n,s)})}var qe=function(t,e,s,r){function n(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(c){try{u(r.next(c))}catch(d){i(d)}}function l(c){try{u(r.throw(c))}catch(d){i(d)}}function u(c){c.done?o(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Iv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $v{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Yd(n)}uploadOrUpdate(e,s,r,n){return qe(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},bc),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n?.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),d=yield(e=="PUT"?Zi:Tt)(this.fetch,`${this.url}/object/${c}`,o,Object.assign({headers:a},i?.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(Ae(o))return{data:null,error:o};throw o}})}upload(e,s,r){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return qe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:bc.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Zi(this.fetch,a.toString(),l,{headers:c});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(Ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return qe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s?.upsert&&(n["x-upsert"]="true");const o=yield Tt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Ga("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}update(e,s,r){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return qe(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}copy(e,s,r){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Tt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return qe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),o=yield Tt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return qe(this,void 0,void 0,function*(){try{const n=yield Tt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}download(e,s){return qe(this,void 0,void 0,function*(){const n=typeof s?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(s?.transform||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield oo(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ae(a))return{data:null,error:a};throw a}})}info(e){return qe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield oo(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Qi(r),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}exists(e){return qe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Rv(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ae(r)&&r instanceof Xi){const n=r.originalError;if([400,404].includes(n?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],o=s?.download?`download=${s.download===!0?"":s.download}`:"";o!==""&&n.push(o);const a=typeof s?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(s?.transform||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Xd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}list(e,s,r){return qe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Iv),s),{prefix:e||""});return{data:yield Tt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}listV2(e,s){return qe(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Tt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const jv="2.11.0",Lv={"X-Client-Info":`storage-js/${jv}`};var Ns=function(t,e,s,r){function n(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(c){try{u(r.next(c))}catch(d){i(d)}}function l(c){try{u(r.throw(c))}catch(d){i(d)}}function u(c){c.done?o(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Mv{constructor(e,s={},r,n){const o=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},Lv),s),this.fetch=Yd(r)}listBuckets(){return Ns(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ae(e))return{data:null,error:e};throw e}})}getBucket(e){return Ns(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Ns(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Ns(this,void 0,void 0,function*(){try{return{data:yield Zi(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ns(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Ns(this,void 0,void 0,function*(){try{return{data:yield Xd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}}class Dv extends Mv{constructor(e,s={},r,n){super(e,s,r,n)}from(e){return new $v(this.url,this.headers,e,this.fetch)}}const Nv="2.55.0";let Rr="";typeof Deno<"u"?Rr="deno":typeof document<"u"?Rr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rr="react-native":Rr="node";const Uv={"X-Client-Info":`supabase-js-${Rr}/${Nv}`},Bv={headers:Uv},Fv={schema:"public"},Hv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qv={};var Wv=function(t,e,s,r){function n(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(c){try{u(r.next(c))}catch(d){i(d)}}function l(c){try{u(r.throw(c))}catch(d){i(d)}}function u(c){c.done?o(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Vv=t=>{let e;return t?e=t:typeof fetch>"u"?e=Fd:e=fetch,(...s)=>e(...s)},Kv=()=>typeof Headers>"u"?Hd:Headers,Gv=(t,e,s)=>{const r=Vv(s),n=Kv();return(o,i)=>Wv(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(i?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};var zv=function(t,e,s,r){function n(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(c){try{u(r.next(c))}catch(d){i(d)}}function l(c){try{u(r.throw(c))}catch(d){i(d)}}function u(c){c.done?o(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Jv(t){return t.endsWith("/")?t:t+"/"}function Yv(t,e){var s,r;const{db:n,auth:o,realtime:i,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,f={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},c),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(s=d?.headers)!==null&&s!==void 0?s:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>zv(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Qd="2.71.1",zs=30*1e3,ea=3,ei=ea*zs,Xv="http://localhost:9999",Qv="supabase.auth.token",Zv={"X-Client-Info":`gotrue-js/${Qd}`},ta="X-Supabase-Api-Version",Zd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tb=600*1e3;class za extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class sb extends za{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function rb(t){return se(t)&&t.name==="AuthApiError"}class ef extends za{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class as extends za{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class Jt extends as{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nb(t){return se(t)&&t.name==="AuthSessionMissingError"}class xn extends as{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kn extends as{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class On extends as{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ob(t){return se(t)&&t.name==="AuthImplicitGrantRedirectError"}class _c extends as{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sa extends as{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function ti(t){return se(t)&&t.name==="AuthRetryableFetchError"}class wc extends as{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class ra extends as{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ec=` 	
\r=`.split(""),ib=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ec.length;e+=1)t[Ec[e].charCodeAt(0)]=-2;for(let e=0;e<io.length;e+=1)t[io[e].charCodeAt(0)]=e;return t})();function Sc(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(io[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(io[r]),e.queuedBits-=6}}function tf(t,e,s){const r=ib[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Tc(t){const e=[],s=i=>{e.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},o=i=>{cb(i,r,s)};for(let i=0;i<t.length;i+=1)tf(t.charCodeAt(i),n,o);return e.join("")}function ab(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function lb(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}ab(r,e)}}function cb(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function ub(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)tf(t.charCodeAt(n),s,r);return new Uint8Array(e)}function db(t){const e=[];return lb(t,s=>e.push(s)),new Uint8Array(e)}function fb(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>Sc(n,s,r)),Sc(null,s,r),e.join("")}function hb(t){return Math.round(Date.now()/1e3)+t}function pb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const pt=()=>typeof window<"u"&&typeof document<"u",us={tested:!1,writable:!1},sf=()=>{if(!pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(us.tested)return us.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),us.tested=!0,us.writable=!0}catch{us.tested=!0,us.writable=!1}return us.writable};function gb(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,o)=>{e[o]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const rf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>xs(async()=>{const{default:r}=await Promise.resolve().then(()=>dn);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},mb=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Js=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},ds=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Kt=async(t,e)=>{await t.removeItem(e)};class Ao{constructor(){this.promise=new Ao.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Ao.promiseConstructor=Promise;function si(t){const e=t.split(".");if(e.length!==3)throw new ra("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!eb.test(e[r]))throw new ra("JWT not in base64url format");return{header:JSON.parse(Tc(e[0])),payload:JSON.parse(Tc(e[1])),signature:ub(e[2]),raw:{header:e[0],payload:e[1]}}}async function yb(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vb(t,e){return new Promise((r,n)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){r(i);return}}catch(i){if(!e(o,i)){n(i);return}}})()})}function bb(t){return("0"+t.toString(16)).substr(-2)}function _b(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let o=0;o<56;o++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,bb).join("")}async function wb(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(o=>String.fromCharCode(o)).join("")}async function Eb(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await wb(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Us(t,e,s=!1){const r=_b();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Js(t,`${e}-code-verifier`,n);const o=await Eb(r);return[o,r===o?"plain":"s256"]}const Sb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tb(t){const e=t.headers.get(ta);if(!e||!e.match(Sb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Cb(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function xb(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bs(t){if(!kb.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ri(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cc(t){return JSON.parse(JSON.stringify(t))}var Ob=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const ms=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ab=[502,503,504];async function xc(t){var e;if(!mb(t))throw new sa(ms(t),0);if(Ab.includes(t.status))throw new sa(ms(t),t.status);let s;try{s=await t.json()}catch(o){throw new ef(ms(o),o)}let r;const n=Tb(t);if(n&&n.getTime()>=Zd["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new wc(ms(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Jt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new wc(ms(s),t.status,s.weak_password.reasons);throw new sb(ms(s),t.status||500,r)}const Pb=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function ne(t,e,s,r){var n;const o=Object.assign({},r?.headers);o[ta]||(o[ta]=Zd["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(n=r?.query)!==null&&n!==void 0?n:{};r?.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await Rb(t,e,s+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function Rb(t,e,s,r,n,o){const i=Pb(e,r,n,o);let a;try{a=await t(s,Object.assign({},i))}catch(l){throw console.error(l),new sa(ms(l),0)}if(a.ok||await xc(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await xc(l)}}function It(t){var e;let s=null;Lb(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=hb(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function kc(t){const e=It(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ts(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Ib(t){return{data:t,error:null}}function $b(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:o}=t,i=Ob(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function jb(t){return t}function Lb(t){return t.access_token&&t.refresh_token&&t.expires_in}const ni=["global","local","others"];var Mb=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Db{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=rf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=ni[0]){if(ni.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ni.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ts})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Mb(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r?.newEmail,delete n.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:$b,redirectTo:s?.redirectTo})}catch(s){if(se(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ts})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,o,i,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(o=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:""},xform:jb});if(c.error)throw c.error;const d=await c.json(),f=(i=c.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(p.split(";")[1].split("=")[1]);u[`${_}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(se(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Bs(e);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ts})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Bs(e);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:ts})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Bs(e);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:ts})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Bs(e.userId);try{const{data:s,error:r}=await ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Bs(e.userId),Bs(e.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}}function Oc(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Nb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fs={debug:!!(globalThis&&sf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ub extends nf{}async function Bb(t,e,s){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ub(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Fs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Nb();const Fb={url:Xv,storageKey:Qv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ac(t,e,s){return await s()}const Hs={};class tn{constructor(e){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tn.nextInstanceID,tn.nextInstanceID+=1,this.instanceID>0&&pt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Fb),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Db({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=rf(n.fetch),this.lock=n.lock||Ac,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:pt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Bb:this.lock=Ac,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:sf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Oc(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Oc(this.memoryStorage)),pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=Hs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Hs[this.storageKey]=Object.assign(Object.assign({},Hs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Hs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Hs[this.storageKey]=Object.assign(Object.assign({},Hs[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qd}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=gb(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),pt()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:o}=await this._getSessionFromURL(s,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),ob(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return se(s)?{error:s}:{error:new ef("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:It}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(se(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var s,r,n;try{let o;if("email"in e){const{email:c,password:d,options:f}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Us(this.storage,this.storageKey)),o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:c,password:d,data:(s=f?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:p},xform:It})}else if("phone"in e){const{phone:c,password:d,options:f}=e;o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f?.data)!==null&&r!==void 0?r:{},channel:(n=f?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:It})}else throw new kn("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(se(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let s;if("email"in e){const{email:o,password:i,options:a}=e;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:kc})}else if("phone"in e){const{phone:o,password:i,options:a}=e;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:kc})}else throw new kn("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new xn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,n,o,i,a,l,u,c,d,f,h;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:_,wallet:w,statement:T,options:y}=e;let b;if(pt())if(typeof w=="object")b=w;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))b=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=w}const E=new URL((s=y?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in b&&b.signIn){const x=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),T?{statement:T}:null));let R;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")R=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)R=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)p=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),g=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${E.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(n=(r=y?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((o=y?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y?.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(c=y?.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const x=await b.signMessage(new TextEncoder().encode(p),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=x}}try{const{data:_,error:w}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:fb(g)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:It});if(w)throw w;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new xn}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:w})}catch(_){if(se(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const s=await ds(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:o,error:i}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:It});if(await Kt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new xn}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:n??null}),error:i})}catch(o){if(se(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:o,nonce:i}=e,a=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:It}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new xn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,o,i;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Us(this.storage,this.storageKey));const{error:d}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(i=l?.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:c}}throw new kn("You must provide either an email or phone number.")}catch(a){if(se(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,o;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:n,xform:It});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Us(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Ib})}catch(o){if(se(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Jt;const{error:n}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(se(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:o}=e,{error:i}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:r,type:n,options:o}=e,{data:i,error:a}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:i?.message_id},error:a}}throw new kn("You must provide either an email or phone number and a type")}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ei:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const i=await ds(this.userStorage,this.storageKey+"-user");i?.user?e.user=i.user:e.user=ri()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ts}):await this._useSession(async s=>{var r,n,o;const{data:i,error:a}=s;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0,xform:ts})})}catch(s){if(se(s))return nb(s)&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:o}=r;if(o)throw o;if(!n.session)throw new Jt;const i=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Us(this.storage,this.storageKey));const{data:u,error:c}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:ts});if(c)throw c;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Jt;const s=Date.now()/1e3;let r=s,n=!0,o=null;const{payload:i}=si(e.access_token);if(i.exp&&(r=i.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(s){if(se(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:i,error:a}=s;if(a)throw a;e=(r=i.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Jt;const{session:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!pt())throw new On("No browser detected.");if(e.error||e.error_description||e.error_code)throw new On(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new _c("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new On("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _c("No code detected.");const{data:T,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:u}=e;if(!o||!a||!i||!u)throw new On("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const h=f-c;h*1e3<=zs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const p=f-d;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,c);const{data:g,error:_}=await this._getUser(o);if(_)throw _;const w={provider_token:r,provider_refresh_token:n,access_token:o,expires_in:d,expires_at:f,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(r){if(se(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await ds(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:o}=s;if(o)return{error:o};const i=(r=n.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(rb(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=pb(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:o},error:i}=s;if(i)throw i;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Us(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(o){if(se(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async o=>{var i,a,l,u,c;const{data:d,error:f}=o;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return pt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(se(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:o,error:i}=s;if(i)throw i;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await vb(async n=>(n>0&&await yb(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:It})),(n,o)=>{const i=200*Math.pow(2,n);return o&&ti(o)&&Date.now()+i-r<zs})}catch(r){if(this._debug(s,"error",r),se(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),pt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ds(this.storage,this.storageKey);if(n&&this.userStorage){let i=await ds(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:n.user},await Js(this.userStorage,this.storageKey+"-user",i)),n.user=(e=i?.user)!==null&&e!==void 0?e:ri()}else if(n&&!n.user&&!n.user){const i=await ds(this.storage,this.storageKey+"-user");i&&i?.user?(n.user=i.user,await Kt(this.storage,this.storageKey+"-user"),await Js(this.storage,this.storageKey,n)):n.user=ri()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const o=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ei;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${ei}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),ti(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(n.access_token);!a&&i?.user?(n.user=i.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Ao;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new Jt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(n,"error",o),se(o)){const i={session:null,error:o};return ti(o)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Js(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const o=Cc(n);await Js(this.storage,this.storageKey,o)}else{const n=Cc(s);await Js(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Kt(this.storage,this.storageKey),await Kt(this.storage,this.storageKey+"-code-verifier"),await Kt(this.storage,this.storageKey+"-user"),this.userStorage&&await Kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&pt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),zs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/zs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${zs}ms, refresh threshold is ${ea} ticks`),n<=ea&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof nf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Us(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});n.push(a.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);n.push(o.toString())}return r?.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:o}=s;return o?{data:null,error:o}:await ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:o,error:i}=s;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:o}=s;if(o)return{data:null,error:o};const{data:i,error:a}=await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(s){if(se(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:o}=s;return o?{data:null,error:o}:await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(se(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=e?.factors||[],n=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:n,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:o}=e;if(o)return{data:null,error:o};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=si(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(a=>a.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+tb>n)return r;const{data:o,error:i}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=n,r=o.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:h,error:p}=await this.getSession();if(p||!h.session)return{data:null,error:p};r=h.session.access_token}const{header:n,payload:o,signature:i,raw:{header:a,payload:l}}=si(r);s?.allowExpired||Cb(o.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!u){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:o,header:n,signature:i},error:null}}const c=xb(n.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,i,db(`${a}.${l}`)))throw new ra("Invalid JWT signature");return{data:{claims:o,header:n,signature:i},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}}tn.nextInstanceID=0;const Hb=tn;class qb extends Hb{constructor(e){super(e)}}var Wb=function(t,e,s,r){function n(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(c){try{u(r.next(c))}catch(d){i(d)}}function l(c){try{u(r.throw(c))}catch(d){i(d)}}function u(c){c.done?o(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Vb{constructor(e,s,r){var n,o,i;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Jv(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Fv,realtime:qv,auth:Object.assign(Object.assign({},Hv),{storageKey:u}),global:Bv},d=Yv(r??{},c);this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=Gv(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new av(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Dv(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Gy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Wb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:o,flowType:i,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qb({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:i,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Tv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r?.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Kb=(t,e,s)=>new Vb(t,e,s);function Gb(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Gb()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zb="0.6.1";var Ar={},Pc;function Jb(){if(Pc)return Ar;Pc=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.parse=i,Ar.serialize=u;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,n=Object.prototype.toString,o=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function i(f,h){const p=new o,g=f.length;if(g<2)return p;const _=h?.decode||c;let w=0;do{const T=f.indexOf("=",w);if(T===-1)break;const y=f.indexOf(";",w),b=y===-1?g:y;if(T>b){w=f.lastIndexOf(";",T-1)+1;continue}const E=a(f,w,T),x=l(f,T,E),R=f.slice(E,x);if(p[R]===void 0){let D=a(f,T+1,b),P=l(f,b,D);const M=_(f.slice(D,P));p[R]=M}w=b+1}while(w<g);return p}function a(f,h,p){do{const g=f.charCodeAt(h);if(g!==32&&g!==9)return h}while(++h<p);return p}function l(f,h,p){for(;h>p;){const g=f.charCodeAt(--h);if(g!==32&&g!==9)return h+1}return p}function u(f,h,p){const g=p?.encode||encodeURIComponent;if(!t.test(f))throw new TypeError(`argument name is invalid: ${f}`);const _=g(h);if(!e.test(_))throw new TypeError(`argument val is invalid: ${h}`);let w=f+"="+_;if(!p)return w;if(p.maxAge!==void 0){if(!Number.isInteger(p.maxAge))throw new TypeError(`option maxAge is invalid: ${p.maxAge}`);w+="; Max-Age="+p.maxAge}if(p.domain){if(!s.test(p.domain))throw new TypeError(`option domain is invalid: ${p.domain}`);w+="; Domain="+p.domain}if(p.path){if(!r.test(p.path))throw new TypeError(`option path is invalid: ${p.path}`);w+="; Path="+p.path}if(p.expires){if(!d(p.expires)||!Number.isFinite(p.expires.valueOf()))throw new TypeError(`option expires is invalid: ${p.expires}`);w+="; Expires="+p.expires.toUTCString()}if(p.httpOnly&&(w+="; HttpOnly"),p.secure&&(w+="; Secure"),p.partitioned&&(w+="; Partitioned"),p.priority)switch(typeof p.priority=="string"?p.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${p.priority}`)}if(p.sameSite)switch(typeof p.sameSite=="string"?p.sameSite.toLowerCase():p.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${p.sameSite}`)}return w}function c(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function d(f){return n.call(f)==="[object Date]"}return Ar}var Rc=Jb();function Wr(){return typeof window<"u"&&typeof window.document<"u"}const An={path:"/",sameSite:"lax",httpOnly:!1,maxAge:400*24*60*60},Yb=3180,Xb=/^(.*)[.](0|[1-9][0-9]*)$/;function Ic(t,e){if(t===e)return!0;const s=t.match(Xb);return!!(s&&s[1]===e)}function Qb(t,e,s){const r=Yb;let n=encodeURIComponent(e);if(n.length<=r)return[{name:t,value:e}];const o=[];for(;n.length>0;){let i=n.slice(0,r);const a=i.lastIndexOf("%");a>r-3&&(i=i.slice(0,a));let l="";for(;i.length>0;)try{l=decodeURIComponent(i);break}catch(u){if(u instanceof URIError&&i.at(-3)==="%"&&i.length>3)i=i.slice(0,i.length-3);else throw u}o.push(l),n=n.slice(i.length)}return o.map((i,a)=>({name:`${t}.${a}`,value:i}))}async function Zb(t,e){const s=await e(t);if(s)return s;let r=[];for(let n=0;;n++){const o=`${t}.${n}`,i=await e(o);if(!i)break;r.push(i)}return r.length>0?r.join(""):null}const ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$c=` 	
\r=`.split(""),e_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<$c.length;e+=1)t[$c[e].charCodeAt(0)]=-2;for(let e=0;e<ao.length;e+=1)t[ao[e].charCodeAt(0)]=e;return t})();function t_(t){const e=[];let s=0,r=0;if(n_(t,o=>{for(s=s<<8|o,r+=8;r>=6;){const i=s>>r-6&63;e.push(ao[i]),r-=6}}),r>0)for(s=s<<6-r,r=6;r>=6;){const o=s>>r-6&63;e.push(ao[o]),r-=6}return e.join("")}function s_(t){const e=[],s=i=>{e.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0};let n=0,o=0;for(let i=0;i<t.length;i+=1){const a=t.charCodeAt(i),l=e_[a];if(l>-1)for(n=n<<6|l,o+=6;o>=8;)o_(n>>o-8&255,r,s),o-=8;else{if(l===-2)continue;throw new Error(`Invalid Base64-URL character "${t.at(i)}" at position ${i}`)}}return e.join("")}function r_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function n_(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}r_(r,e)}}function o_(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}const oi="base64-";function i_(t,e){const s=t.cookies??null,r={},n={};let o,i;if(s)if("get"in s){const a=async l=>{const u=l.flatMap(d=>[d,...Array.from({length:5}).map((f,h)=>`${d}.${h}`)]),c=[];for(let d=0;d<u.length;d+=1){const f=await s.get(u[d]);!f&&typeof f!="string"||c.push({name:u[d],value:f})}return c};if(o=async l=>await a(l),"set"in s&&"remove"in s)i=async l=>{for(let u=0;u<l.length;u+=1){const{name:c,value:d,options:f}=l[u];d?await s.set(c,d,f):await s.remove(c,f)}};else throw new Error("@supabase/ssr: createBrowserClient requires configuring a getAll and setAll cookie method (deprecated: alternatively both get, set and remove can be used)")}else if("getAll"in s)if(o=async()=>await s.getAll(),"setAll"in s)i=s.setAll;else throw new Error("@supabase/ssr: createBrowserClient requires configuring both getAll and setAll cookie methods (deprecated: alternatively both get, set and remove can be used)");else throw new Error(`@supabase/ssr: createBrowserClient requires configuring getAll and setAll cookie methods (deprecated: alternatively use get, set and remove).${Wr()?" As this is called in a browser runtime, consider removing the cookies option object to use the document.cookie API automatically.":""}`);else if(Wr()){const a=()=>{const l=Rc.parse(document.cookie);return Object.keys(l).map(u=>({name:u,value:l[u]??""}))};o=()=>a(),i=l=>{l.forEach(({name:u,value:c,options:d})=>{document.cookie=Rc.serialize(u,c,d)})}}else o=()=>[],i=()=>{throw new Error("@supabase/ssr: createBrowserClient in non-browser runtimes (including Next.js pre-rendering mode) was not initialized cookie options that specify getAll and setAll functions (deprecated: alternatively use get, set and remove), but they were needed")};return{getAll:o,setAll:i,setItems:r,removedItems:n,storage:{isServer:!1,getItem:async a=>{const l=await o([a]),u=await Zb(a,async d=>{const f=l?.find(({name:h})=>h===d)||null;return f?f.value:null});if(!u)return null;let c=u;return u.startsWith(oi)&&(c=s_(u.substring(oi.length))),c},setItem:async(a,l)=>{const c=(await o([a]))?.map(({name:w})=>w)||[],d=new Set(c.filter(w=>Ic(w,a)));let f=l;f=oi+t_(l);const h=Qb(a,f);h.forEach(({name:w})=>{d.delete(w)});const p={...An,...t?.cookieOptions,maxAge:0},g={...An,...t?.cookieOptions,maxAge:An.maxAge};delete p.name,delete g.name;const _=[...[...d].map(w=>({name:w,value:"",options:p})),...h.map(({name:w,value:T})=>({name:w,value:T,options:g}))];_.length>0&&await i(_)},removeItem:async a=>{const c=((await o([a]))?.map(({name:f})=>f)||[]).filter(f=>Ic(f,a)),d={...An,...t?.cookieOptions,maxAge:0};delete d.name,c.length>0&&await i(c.map(f=>({name:f,value:"",options:d})))}}}}let ii;function a_(t,e,s){const r=Wr();if(r&&ii)return ii;if(!t||!e)throw new Error(`@supabase/ssr: Your project's URL and API key are required to create a Supabase client!

Check your Supabase project's API settings to find these values

https://supabase.com/dashboard/project/_/settings/api`);const{storage:n}=i_({...s}),o=Kb(t,e,{...s,global:{...s?.global,headers:{...s?.global?.headers,"X-Client-Info":`supabase-ssr/${zb} createBrowserClient`}},auth:{...s?.auth,flowType:"pkce",autoRefreshToken:Wr(),detectSessionInUrl:Wr(),persistSession:!0,storage:n}});return r&&(ii=o),o}const l_=_t(t=>{const e=gr(),s=e.public.supabase.url,r=e.public.supabase.key,n=a_(s,r);t.provide("supabase",n)}),c_=[xy,Oy,$y,My,Dy,Ny,Uy,Fy,Hy,qy,l_];class u_{async getAllCards(){try{const e=await $fetch("/api/cards");if(!Array.isArray(e)){if(e===null)return[];throw new Error("API 回應格式不正確")}return this.transformApiCards(e)}catch(e){throw this.handleError(e,"獲取卡片失敗")}}async createCard(e,s,r){try{const n=await $fetch("/api/cards",{method:"POST",body:{title:e,list_id:s,status:r}});return this.transformApiCard(n)}catch(n){throw this.handleError(n,"新增卡片失敗")}}async deleteCard(e){try{await $fetch(`/api/cards/${e}`,{method:"DELETE"})}catch(s){throw this.handleError(s,"刪除卡片失敗")}}transformApiCard(e){if(!e||typeof e!="object")throw new Error("無效的 API 卡片資料");return{id:e.id,title:e.title,description:e.description,listId:e.list_id,position:e.position,status:e.status,createdAt:e.created_at?new Date(e.created_at):void 0,updatedAt:e.updated_at?new Date(e.updated_at):void 0}}async batchUpdateCards(e){if(e.length===0){console.log("📝 [REPO] 沒有卡片需要更新");return}try{console.log(`🚀 [REPO] 批量更新 ${e.length} 張卡片`);const s=e.map(({id:r,listId:n,position:o})=>(console.log(`📝 [REPO] 更新卡片 ${r}: listId=${n}, position=${o}`),$fetch(`/api/cards/${r}`,{method:"PUT",body:{list_id:n,position:o}})));await Promise.all(s),console.log("✅ [REPO] 批量更新完成")}catch(s){throw this.handleError(s,"批量更新卡片失敗")}}transformApiCards(e){return e.map(s=>this.transformApiCard(s))}handleError(e,s){throw console.error(s,e),e.statusCode===401?new Error("請先登入"):e.statusCode===403?new Error("沒有權限執行此操作"):new Error(s)}}const ai=new u_;class d_{async getAllLists(){try{console.log("🚀 [LIST-REPO] 開始取得所有列表");const e=await $fetch("/api/lists");console.log(`📊 [LIST-REPO] 成功取得 ${e.length} 個列表`);const s=this.transformApiLists(e);return console.log("✅ [LIST-REPO] 列表轉換完成"),s}catch(e){throw this.handleError(e,"取得列表失敗")}}async createList(e){try{console.log(`🚀 [LIST-REPO] 開始建立列表: ${e}`);const s=await $fetch("/api/lists",{method:"POST",body:{title:e}}),r=this.transformApiList(s);return console.log("✅ [LIST-REPO] 列表建立完成"),r}catch(s){throw this.handleError(s,"建立列表失敗")}}async deleteList(e){try{console.log(`🚀 [LIST-REPO] 開始刪除列表: ${e}`),await $fetch(`/api/lists/${e}`,{method:"DELETE"}),console.log("✅ [LIST-REPO] 列表刪除完成")}catch(s){throw this.handleError(s,"刪除列表失敗")}}async updateListPosition(e,s){try{console.log(`🚀 [LIST-REPO] 開始更新列表位置: ${e} → position: ${s}`),await $fetch(`/api/lists/${e}`,{method:"PUT",body:{position:s}}),console.log("✅ [LIST-REPO] 列表位置更新完成")}catch(r){throw this.handleError(r,"更新列表位置失敗")}}async updateListTitle(e,s){try{console.log(`🚀 [LIST-REPO] 開始更新列表標題: ${e} → "${s}"`),await $fetch(`/api/lists/${e}`,{method:"PUT",body:{title:s}}),console.log("✅ [LIST-REPO] 列表標題更新完成")}catch(r){throw this.handleError(r,"更新列表標題失敗")}}async batchUpdateListPositions(e){if(e.length===0){console.log("📝 [LIST-REPO] 沒有列表需要更新");return}try{console.log(`🚀 [LIST-REPO] 批量更新 ${e.length} 個列表的位置`);const s=e.map(({id:r,position:n})=>(console.log(`📝 [LIST-REPO] 更新列表 ${r}: position=${n}`),$fetch(`/api/lists/${r}`,{method:"PUT",body:{position:n}})));await Promise.all(s),console.log("✅ [LIST-REPO] 批量更新完成")}catch(s){throw this.handleError(s,"批量更新列表位置失敗")}}transformApiList(e){if(!e||typeof e!="object")throw new Error("無效的 API 列表資料");return{id:e.id,title:e.title,position:e.position,cards:[]}}transformApiLists(e){return Array.isArray(e)?e.map(s=>this.transformApiList(s)).sort((s,r)=>(s.position||0)-(r.position||0)):(console.warn("⚠️ [LIST-REPO] API 回應不是陣列，回傳空陣列"),[])}handleError(e,s){console.error(`❌ [LIST-REPO] ${s}:`,e);const r=e?.message||e?.toString()||"未知錯誤";return new Error(`${s}: ${r}`)}}const li=new d_,wr=Lm("board",{state:()=>({board:{id:"board-1",title:"My Board",lists:[]},isLoading:!1,openMenuId:null}),getters:{nextCardId:t=>{let e=0;for(const s of t.board.lists)for(const r of s.cards){const n=r.id.match(/^card-(\d+)$/);if(n){const o=parseInt(n[1],10);o>e&&(e=o)}}return e+1},nextListId:t=>{let e=0;for(const s of t.board.lists){const r=s.id.match(/^list-(\d+)$/);if(r){const n=parseInt(r[1],10);n>e&&(e=n)}}return e+1}},actions:{async fetchBoard(){this.isLoading=!0;const t=Date.now();try{console.log("🚀 [STORE] 開始獲取看板資料...");const[e,s]=await Promise.all([li.getAllLists(),ai.getAllCards()]),r=Date.now()-t;console.log(`⚡ [STORE] API 調用完成，耗時: ${r}ms`);const n={};if(s&&(console.log(`📋 [STORE] 處理 ${s.length} 張卡片`),s.forEach(o=>{n[o.listId]||(n[o.listId]=[]),n[o.listId].push(o)}),Object.keys(n).forEach(o=>{n[o].sort((i,a)=>(i.position||0)-(a.position||0)),console.log(`📝 [STORE] 列表 ${o} 的卡片排序:`),n[o].forEach((i,a)=>{console.log(`  ${a}: "${i.title}" (position: ${i.position})`)})})),e){console.log(`📈 [STORE] 處理 ${e.length} 個列表`);const o=e.map(l=>({...l,cards:n[l.id]||[]}));this.board.lists=o.sort((l,u)=>(l.position||0)-(u.position||0)),console.log("📋 [STORE] 列表已按 position 排序:"),this.board.lists.forEach((l,u)=>{console.log(`  ${u}: "${l.title}" (position: ${l.position})`)});const i=this.board.lists.length,a=this.board.lists.reduce((l,u)=>l+u.cards.length,0);console.log("📊 [STORE] 載入統計:"),console.log(`  📋 ${i} 個列表`),console.log(`  🎯 ${a} 張卡片`),console.log(`  ⚡ 總耗時: ${Date.now()-t}ms`),console.log("✅ [STORE] 看板資料載入完成")}else console.warn("⚠️ [STORE] listsResponse 為空或 undefined"),this.board.lists=[]}catch(e){const s=Date.now()-t;console.error(`❌ [STORE] 獲取看板資料失敗，耗時: ${s}ms`),console.error("  🔍 錯誤詳情:",e),this.board.lists=[]}finally{this.isLoading=!1;const e=Date.now()-t;console.log(`🏁 [STORE] fetchBoard 完成，總耗時: ${e}ms`)}},async addList(t){console.log("🏪 [STORE] addList 被呼叫，參數:",{title:t});try{console.log("📤 [STORE] 發送 API 請求到 /api/lists");const e=await $fetch("/api/lists",{method:"POST",body:{title:t}});console.log("📥 [STORE] API 回應:",e);const s={...e,cards:[]};console.log("✅ [STORE] 新增到本地狀態:",s),this.board.lists.push(s)}catch(e){console.error("❌ [STORE] 新增列表錯誤:",e),e&&typeof e=="object"&&console.error("📋 [STORE] 錯誤詳情:",{message:e.message,statusCode:e.statusCode,statusMessage:e.statusMessage,data:e.data})}},async removeList(t){console.log("🗑️ [STORE] removeList 被呼叫，參數:",{listId:t});const e=this.board.lists.find(s=>s.id===t);if(e)console.log("📋 [STORE] 找到要刪除的列表:",{id:e.id,title:e.title,cardsCount:e.cards.length});else{console.warn("⚠️ [STORE] 警告: 找不到要刪除的列表 ID:",t);return}try{console.log("📤 [STORE] 發送 DELETE API 請求到:",`/api/lists/${t}`),await $fetch(`/api/lists/${t}`,{method:"DELETE"}),console.log("✅ [STORE] API 刪除請求成功");const s=this.board.lists.findIndex(r=>r.id===t);s!==-1?(console.log("🔄 [STORE] 從本地狀態移除列表，索引:",s),this.board.lists.splice(s,1),console.log("✅ [STORE] 列表已從本地狀態移除，剩餘列表數量:",this.board.lists.length)):console.error("❌ [STORE] 錯誤: 無法在本地狀態中找到要刪除的列表")}catch(s){throw console.error("❌ [STORE] 刪除列表錯誤:"),console.error("  🔍 錯誤類型:",typeof s),console.error("  🔍 錯誤內容:",s),s&&typeof s=="object"&&console.error("  🔍 錯誤詳情:",{message:s.message,statusCode:s.statusCode,statusMessage:s.statusMessage,data:s.data}),s}},async addCard(t,e,s){const r=this.board.lists.find(i=>i.id===t);if(!r)throw console.error("❌ [STORE] 找不到指定的列表:",t),new Error("找不到指定的列表");const n=`temp-${Date.now()}-${Math.random()}`,o={id:n,title:e.trim(),description:"",listId:t,position:r.cards.length,status:s,createdAt:new Date,updatedAt:new Date};r.cards.push(o),console.log("⚡ [STORE] 樂觀更新：立即顯示暫時卡片",o);try{console.log("📤 [STORE] 背景呼叫 API 建立真實卡片...");const i=await ai.createCard(e,t,s),a=r.cards.findIndex(l=>l.id===n);a!==-1&&(r.cards[a]=i,console.log("✅ [STORE] 成功：用真實卡片替換暫時卡片",i))}catch(i){console.error("❌ [STORE] API 失敗，執行回滾...");const a=r.cards.findIndex(l=>l.id===n);throw a!==-1&&(r.cards.splice(a,1),console.log("🔄 [STORE] 回滾完成：已移除暫時卡片")),console.error("💥 [STORE] 新增卡片失敗:",i),i}},async saveListPositions(){try{console.log("🚀 [STORE] 開始儲存列表位置順序...");const t=this.board.lists.map((e,s)=>(console.log(`📝 [STORE] 列表 "${e.title}" 位置: ${s}`),{id:e.id,position:s}));await li.batchUpdateListPositions(t),this.board.lists.forEach((e,s)=>{e.position=s}),console.log("✅ [STORE] 列表位置順序已儲存並同步")}catch(t){throw console.error("❌ [STORE] 儲存列表位置失敗:",t),t}},async removeCard(t,e){try{await $fetch(`/api/cards/${e}`,{method:"DELETE"});const s=this.board.lists.find(r=>r.id===t);if(s){const r=s.cards.findIndex(n=>n.id===e);r!==-1&&s.cards.splice(r,1)}}catch(s){console.error("刪除卡片錯誤:",s)}},async moveCardAndReorder(t){console.log("🚀 [STORE] 開始重新整理受影響列表的 position:",t);try{const e=[];for(const s of t){const r=this.board.lists.find(n=>n.id===s);if(!r){console.warn(`⚠️ [STORE] 找不到列表 ${s}`);continue}console.log(`📝 [STORE] 重新整理列表 "${r.title}" 的 ${r.cards.length} 張卡片`),r.cards.forEach((n,o)=>{const i=o;console.log(`  📌 [STORE] 卡片 "${n.title}" 新位置: ${i}`),e.push({id:n.id,listId:s,position:i})})}console.log(`📤 [STORE] 準備批次更新 ${e.length} 張卡片的位置...`),await ai.batchUpdateCards(e),console.log("✅ [STORE] 成功重新整理所有受影響列表的位置")}catch(e){throw console.error("❌ [STORE] 重新整理卡片位置失敗:",e),console.error("🔄 [STORE] 建議重新載入看板資料以確保一致性"),e}},updateCardTitle(t,e){for(const s of this.board.lists){const r=s.cards.find(n=>n.id===t);if(r){r.title=e;break}}},updateCardDescription(t,e){for(const s of this.board.lists){const r=s.cards.find(n=>n.id===t);if(r){r.description=e;break}}},async updateListTitle(t,e){const s=e.trim();if(!s){console.warn("⚠️ [STORE] newTitle 為空，已略過更新");return}const r=this.board.lists.find(o=>o.id===t);if(!r){console.warn("⚠️ [STORE] 找不到列表，無法更新標題:",t);return}const n=r.title;console.log(`🔄 [STORE] 開始更新列表標題: "${n}" → "${s}"`),r.title=s;try{await li.updateListTitle(t,s),console.log(`✅ [STORE] 成功更新列表標題: "${s}"`)}catch(o){throw r.title=n,console.error("❌ [STORE] 更新列表標題失敗，已回滾至原標題:",n),console.error("  🔍 錯誤詳情:",o),o}},setOpenMenu(t){this.openMenuId=t},toggleMenu(t){this.openMenuId===t?this.openMenuId=null:this.openMenuId=t},closeAllMenus(){this.openMenuId=null}}}),fs=ie({show:!1,message:""}),Ja=()=>{const t=r=>fs.value.show?Promise.reject(new Error("Confirm dialog already open")):new Promise(n=>{fs.value={show:!0,title:r.title,message:r.message,confirmText:r.confirmText,cancelText:r.cancelText,dangerMode:r.dangerMode,resolve:n}}),e=()=>{console.log("✅ [CONFIRM] 用戶點擊確認");const{resolve:r}=fs.value;fs.value.show=!1,r&&r(!0)},s=()=>{console.log("❌ [CONFIRM] 用戶點擊取消");const{resolve:r}=fs.value;fs.value.show=!1,r&&r(!1)};return{confirmState:_o(fs),showConfirm:t,handleConfirm:e,handleCancel:s}},nt={app:{name:"Trilou",fullName:"Trilou - 您的記事小幫手",tagline:"讓任務管理變得簡單又有趣"},login:{welcomeTitle:"歡迎使用 Trilou 📋",welcomeSubtitle:"您的個人任務管理工具",googlePrompt:"請用 Google 帳號登入",privacyNote:"我們只用來驗證身份，不會存取您的其他資料",loginButton:"使用 Google 登入",logoutButton:"登出",loggingIn:"正在登入中...",loginSuccess:"登入成功！",loginError:"登入失敗，請稍後再試",logoutSuccess:"已成功登出"},board:{title:"Trilou 📋",loading:"正在載入看板資料...",loadingFromCloud:"正在從雲端獲取您的資料中...",empty:"尚未建立任何列表",createFirstList:"建立第一個列表開始整理任務吧！"},list:{addNew:"新增其他列表",addCard:"新增卡片",deleteConfirm:"確定要刪除列表嗎？",deleteWithCards:"此列表包含 {count} 張卡片，刪除後無法復原",untitled:"未命名列表",createTitle:"新增列表",editTitle:"編輯列表",titlePlaceholder:"列表標題...",titleRequired:"請輸入列表標題",createSuccess:"列表已成功新增",updateSuccess:"列表已成功更新",deleteSuccess:"列表已成功刪除"},card:{addNew:"新增卡片",edit:"編輯卡片",delete:"刪除卡片",deleteConfirm:'確定要刪除卡片 "{title}" 嗎？此操作無法撤銷。',untitled:"未命名卡片",createTitle:"新增卡片",editTitle:"編輯卡片",titlePlaceholder:"卡片標題...",descriptionPlaceholder:"新增更詳細的說明...",titleRequired:"請輸入卡片標題",createSuccess:"卡片已成功新增",updateSuccess:"卡片已成功更新",deleteSuccess:"卡片已成功刪除",moveSuccess:"卡片已成功移動",moveError:"移動卡片失敗，請稍後再試"},dialog:{confirm:"確認",cancel:"取消",save:"儲存",delete:"刪除",edit:"編輯",close:"關閉",unsavedChanges:"有未儲存的變更",unsavedPrompt:"確定要離開嗎？未儲存的變更將會遺失",operationSuccess:"操作成功",operationError:"操作失敗",required:"此欄位為必填",tooShort:"內容太短，至少需要 {min} 個字元",tooLong:"內容太長，最多 {max} 個字元"},system:{loading:"載入中...",saving:"儲存中...",saved:"已儲存",error:"發生錯誤",networkError:"網路連線異常，請檢查網路設定",serverError:"伺服器暫時無法使用，請稍後再試",optimizing:"正在優化載入速度...",cacheUpdated:"資料已更新"}},of=()=>{const t=wr(),{showConfirm:e}=Ja();return{deleteCard:async o=>{if(console.log("🗑️ [CARD-ACTION] deleteCard 被呼叫，卡片:",o),console.log("💬 [CARD-ACTION] 顯示刪除確認對話框..."),!await e({title:nt.card.delete,message:nt.card.deleteConfirm.replace("{title}",o.title),confirmText:nt.dialog.delete,cancelText:nt.dialog.cancel,dangerMode:!0}))return console.log("❌ [CARD-ACTION] 用戶取消刪除操作"),!1;console.log("✅ [CARD-ACTION] 用戶確認刪除，開始樂觀 UI 刪除流程...");let a=null,l=-1,u={...o};try{console.log("📤 [CARD-ACTION] 發送 DELETE API 請求到:",`/api/cards/${o.id}`),console.log("🔄 [CARD-ACTION] 樂觀更新：從列表中移除卡片...");for(const c of t.board.lists){const d=c.cards.findIndex(f=>f.id===o.id);if(d!==-1){console.log(`📋 [CARD-ACTION] 在列表 "${c.title}" 中找到卡片，索引: ${d}`),a=c,l=d,c.cards.splice(d,1),console.log("✅ [CARD-ACTION] 卡片已從本地狀態移除（樂觀更新）");break}}return await $fetch(`/api/cards/${o.id}`,{method:"DELETE"}),console.log("✅ [CARD-ACTION] API 刪除請求成功"),a&&(console.log("🔧 [CARD-ACTION] 重新整理列表位置排序..."),await t.moveCardAndReorder([a.id]),console.log("✅ [CARD-ACTION] 位置重新排序完成")),console.log("🎉 [CARD-ACTION] 卡片刪除流程完成"),!0}catch(c){return console.error("❌ [CARD-ACTION] 刪除卡片過程中發生錯誤，執行回滾..."),console.error("  🔍 錯誤類型:",typeof c),console.error("  🔍 錯誤內容:",c),a&&l!==-1&&(console.log("🔄 [CARD-ACTION] 回滾：恢復卡片到原始位置"),a.cards.splice(l,0,u),console.log("✅ [CARD-ACTION] 卡片已恢復到原始狀態")),c&&typeof c=="object"&&console.error("  🔍 錯誤詳情:",{message:c.message,statusCode:c.statusCode,statusMessage:c.statusMessage,data:c.data}),alert(nt.card.moveError),console.log("💥 [CARD-ACTION] 錯誤處理與回滾完成"),!1}},updateCardTitle:async(o,i)=>{try{console.log("📝 [CARD-ACTION] 更新卡片標題:",{cardId:o,newTitle:i}),t.updateCardTitle(o,i),console.log("✅ [CARD-ACTION] 卡片標題更新成功")}catch(a){throw console.error("❌ [CARD-ACTION] 更新卡片標題失敗:",a),a}},updateCardDescription:async(o,i)=>{try{console.log("📄 [CARD-ACTION] 更新卡片描述:",{cardId:o,newDescription:i}),t.updateCardDescription(o,i),console.log("✅ [CARD-ACTION] 卡片描述更新成功")}catch(a){throw console.error("❌ [CARD-ACTION] 更新卡片描述失敗:",a),a}}}};function af(t){const e={urgent:"🔥 緊急",high:"⚡ 高優先",medium:"📋 中優先",low:"📝 低優先","due-today":"⏰ 今日到期","due-tomorrow":"📅 明日到期",overdue:"🚨 已逾期","quick-task":"⚡ 快速任務","complex-task":"🧠 複雜任務","research-needed":"🔍 需研究","waiting-approval":"👑 待批准","waiting-others":"👥 等待他人",prerequisites:"📌 有前置條件","meeting-required":"🤝 需會議","external-dependency":"🌐 外部依賴","one-time":"🎯 一次性",recurring:"🔄 重複性"},s={todo:"待辦","in-progress":"進行中",done:"完成",blocked:"阻塞",review:"審核中",testing:"測試中"};return t in e?e[t]:t in s?s[t]:t}function lf(t){const e={urgent:"bg-red-600 text-white",high:"bg-orange-500 text-white",medium:"bg-yellow-500 text-white",low:"bg-green-500 text-white","due-today":"bg-red-500 text-white","due-tomorrow":"bg-orange-400 text-white",overdue:"bg-red-700 text-white","quick-task":"bg-blue-400 text-white","complex-task":"bg-purple-600 text-white","research-needed":"bg-indigo-500 text-white","waiting-approval":"bg-yellow-600 text-white","waiting-others":"bg-gray-600 text-white",prerequisites:"bg-pink-500 text-white","meeting-required":"bg-teal-500 text-white","external-dependency":"bg-gray-500 text-white","one-time":"bg-cyan-500 text-white",recurring:"bg-lime-500 text-white"},s={todo:"bg-gray-500 text-white","in-progress":"bg-blue-500 text-white",done:"bg-green-500 text-white",blocked:"bg-red-500 text-white",review:"bg-yellow-500 text-white",testing:"bg-purple-500 text-white"};return t in e?e[t]:t in s?s[t]:"bg-gray-400 text-white"}const f_={key:0,class:"min-h-6 pr-8 pb-6"},h_={key:1,class:"absolute bottom-2 left-3 right-3 flex justify-between items-center"},p_={key:0,class:"flex items-center"},g_={key:1},m_={class:"flex gap-1"},y_={key:1,class:"bg-gray-400 text-white text-xs px-2 py-1 rounded-sm"},v_=Xe({__name:"Card",props:{card:{}},emits:["openModal"],setup(t,{emit:e}){const s=t,r=e,{deleteCard:n,updateCardTitle:o}=of(),i=ie(!1),a=ie(""),l=ie(null),u=()=>{const h=a.value.trim();h?o(s.card.id,h):a.value=s.card.title,i.value=!1},c=()=>{i.value=!1,a.value=s.card.title},d=()=>{r("openModal",s.card)},f=async()=>{console.log("🗑️ [CARD] deleteCard 被呼叫，卡片:",s.card),console.log("💬 [CARD] 顯示刪除確認對話框..."),await n(s.card)};return(h,p)=>(K(),re("div",{class:"bg-white rounded px-3 py-3 mb-2 shadow-sm transition-shadow duration-200 hover:shadow-md relative group min-h-16 cursor-pointer",onClick:d},[i.value?Ge("",!0):(K(),re("div",f_,me(h.card.title)+" (pos: "+me(h.card.position)+") ",1)),i.value?Ge("",!0):(K(),re("div",h_,[h.card.description&&h.card.description.trim()?(K(),re("div",p_,p[1]||(p[1]=[L("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1)]))):(K(),re("div",g_)),L("div",m_,[h.card.status?(K(),re("span",{key:0,class:bt(["text-xs px-2 py-1 rounded-sm font-medium",H(lf)(h.card.status)])},me(H(af)(h.card.status)),3)):(K(),re("span",y_," 一般 "))])])),i.value?ur((K(),re("input",{key:3,ref_key:"editInput",ref:l,"onUpdate:modelValue":p[0]||(p[0]=g=>a.value=g),onKeydown:[Ts(u,["enter"]),Ts(c,["escape"])],onBlur:u,class:"w-full bg-transparent border-none outline-none min-h-6",type:"text"},null,544)),[[pr,a.value]]):(K(),re("button",{key:2,onClick:cn(f,["stop"]),class:"absolute top-2 right-2 p-1 rounded hover:bg-red-100 transition-colors duration-200 opacity-0 group-hover:opacity-100",title:"刪除卡片"},p[2]||(p[2]=[L("svg",{class:"w-4 h-4 text-red-600 hover:text-red-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])))]))}}),b_=()=>{const t=wr(),{openMenuId:e}=Mm(t);return{openMenuId:e,toggleMenu:n=>{console.log("🎮 [COMPOSABLE] toggleMenu 被呼叫，列表ID:",n),t.toggleMenu(n)},closeAllMenus:()=>{console.log("🎮 [COMPOSABLE] closeAllMenus 被呼叫"),t.closeAllMenus()}}},__={class:"relative list-menu-container"},w_={key:0,class:"absolute right-0 top-8 bg-white rounded-lg shadow-lg border border-gray-200 py-2 w-40 z-10"},E_=Xe({__name:"ListMenu",props:{listId:{}},emits:["add-card","delete-list"],setup(t,{emit:e}){const s=t,r=e,{openMenuId:n,toggleMenu:o,closeAllMenus:i}=b_(),a=ln(()=>n.value===s.listId),l=()=>{o(s.listId)},u=()=>{r("add-card"),i()},c=()=>{r("delete-list"),i()},d=f=>{f.target.closest(".list-menu-container")||i()};return br(()=>{document.addEventListener("click",d)}),ks(()=>{document.removeEventListener("click",d)}),(f,h)=>(K(),re("div",__,[L("button",{onClick:l,class:"p-1 rounded hover:bg-gray-300 transition-colors duration-200"},h[0]||(h[0]=[L("svg",{class:"w-4 h-4 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20"},[L("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})],-1)])),a.value?(K(),re("div",w_,[L("button",{onClick:u,class:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200"}," 新增卡片 "),L("button",{onClick:c,class:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-200"}," 刪除列表 ")])):Ge("",!0)]))}});/*!
  * vue-draggable-next v2.2.0
  * (c) 2023 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function jc(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,r)}return s}function Pt(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?jc(Object(s),!0).forEach(function(r){S_(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):jc(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function Un(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Un=function(e){return typeof e}:Un=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(t)}function S_(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function qt(){return qt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},qt.apply(this,arguments)}function T_(t,e){if(t==null)return{};var s={},r=Object.keys(t),n,o;for(o=0;o<r.length;o++)n=r[o],!(e.indexOf(n)>=0)&&(s[n]=t[n]);return s}function C_(t,e){if(t==null)return{};var s=T_(t,e),r,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}var x_="1.14.0";function Nt(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Vt=Nt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),hn=Nt(/Edge/i),Lc=Nt(/firefox/i),Vr=Nt(/safari/i)&&!Nt(/chrome/i)&&!Nt(/android/i),cf=Nt(/iP(ad|od|hone)/i),k_=Nt(/chrome/i)&&Nt(/android/i),uf={capture:!1,passive:!1};function ue(t,e,s){t.addEventListener(e,s,!Vt&&uf)}function ae(t,e,s){t.removeEventListener(e,s,!Vt&&uf)}function lo(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function O_(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function xt(t,e,s,r){if(t){s=s||document;do{if(e!=null&&(e[0]===">"?t.parentNode===s&&lo(t,e):lo(t,e))||r&&t===s)return t;if(t===s)break}while(t=O_(t))}return null}var Mc=/\s+/g;function et(t,e,s){if(t&&e)if(t.classList)t.classList[s?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(Mc," ").replace(" "+e+" "," ");t.className=(r+(s?" "+e:"")).replace(Mc," ")}}function G(t,e,s){var r=t&&t.style;if(r){if(s===void 0)return document.defaultView&&document.defaultView.getComputedStyle?s=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(s=t.currentStyle),e===void 0?s:s[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=s+(typeof s=="string"?"":"px")}}function cr(t,e){var s="";if(typeof t=="string")s=t;else do{var r=G(t,"transform");r&&r!=="none"&&(s=r+" "+s)}while(!e&&(t=t.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(s)}function df(t,e,s){if(t){var r=t.getElementsByTagName(e),n=0,o=r.length;if(s)for(;n<o;n++)s(r[n],n);return r}return[]}function Ot(){var t=document.scrollingElement;return t||document.documentElement}function Pe(t,e,s,r,n){if(!(!t.getBoundingClientRect&&t!==window)){var o,i,a,l,u,c,d;if(t!==window&&t.parentNode&&t!==Ot()?(o=t.getBoundingClientRect(),i=o.top,a=o.left,l=o.bottom,u=o.right,c=o.height,d=o.width):(i=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||s)&&t!==window&&(n=n||t.parentNode,!Vt))do if(n&&n.getBoundingClientRect&&(G(n,"transform")!=="none"||s&&G(n,"position")!=="static")){var f=n.getBoundingClientRect();i-=f.top+parseInt(G(n,"border-top-width")),a-=f.left+parseInt(G(n,"border-left-width")),l=i+o.height,u=a+o.width;break}while(n=n.parentNode);if(r&&t!==window){var h=cr(n||t),p=h&&h.a,g=h&&h.d;h&&(i/=g,a/=p,d/=p,c/=g,l=i+c,u=a+d)}return{top:i,left:a,bottom:l,right:u,width:d,height:c}}}function Dc(t,e,s){for(var r=rs(t,!0),n=Pe(t)[e];r;){var o=Pe(r)[s],i=void 0;if(i=n>=o,!i)return r;if(r===Ot())break;r=rs(r,!1)}return!1}function yr(t,e,s,r){for(var n=0,o=0,i=t.children;o<i.length;){if(i[o].style.display!=="none"&&i[o]!==z.ghost&&(r||i[o]!==z.dragged)&&xt(i[o],s.draggable,t,!1)){if(n===e)return i[o];n++}o++}return null}function Ya(t,e){for(var s=t.lastElementChild;s&&(s===z.ghost||G(s,"display")==="none"||e&&!lo(s,e));)s=s.previousElementSibling;return s||null}function ct(t,e){var s=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==z.clone&&(!e||lo(t,e))&&s++;return s}function Nc(t){var e=0,s=0,r=Ot();if(t)do{var n=cr(t),o=n.a,i=n.d;e+=t.scrollLeft*o,s+=t.scrollTop*i}while(t!==r&&(t=t.parentNode));return[e,s]}function A_(t,e){for(var s in t)if(t.hasOwnProperty(s)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[s][r])return Number(s)}return-1}function rs(t,e){if(!t||!t.getBoundingClientRect)return Ot();var s=t,r=!1;do if(s.clientWidth<s.scrollWidth||s.clientHeight<s.scrollHeight){var n=G(s);if(s.clientWidth<s.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||s.clientHeight<s.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!s.getBoundingClientRect||s===document.body)return Ot();if(r||e)return s;r=!0}}while(s=s.parentNode);return Ot()}function P_(t,e){if(t&&e)for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);return t}function ci(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Kr;function ff(t,e){return function(){if(!Kr){var s=arguments,r=this;s.length===1?t.call(r,s[0]):t.apply(r,s),Kr=setTimeout(function(){Kr=void 0},e)}}}function R_(){clearTimeout(Kr),Kr=void 0}function hf(t,e,s){t.scrollLeft+=e,t.scrollTop+=s}function pf(t){var e=window.Polymer,s=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):s?s(t).clone(!0)[0]:t.cloneNode(!0)}var ot="Sortable"+new Date().getTime();function I_(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(n){if(!(G(n,"display")==="none"||n===z.ghost)){t.push({target:n,rect:Pe(n)});var o=Pt({},t[t.length-1].rect);if(n.thisAnimationDuration){var i=cr(n,!0);i&&(o.top-=i.f,o.left-=i.e)}n.fromRect=o}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(A_(t,{target:r}),1)},animateAll:function(r){var n=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var o=!1,i=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=Pe(u),f=u.prevFromRect,h=u.prevToRect,p=a.rect,g=cr(u,!0);g&&(d.top-=g.f,d.left-=g.e),u.toRect=d,u.thisAnimationDuration&&ci(f,d)&&!ci(c,d)&&(p.top-d.top)/(p.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=j_(p,f,h,n.options)),ci(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=n.options.animation),n.animate(u,p,d,l)),l&&(o=!0,i=Math.max(i,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),o?e=setTimeout(function(){typeof r=="function"&&r()},i):typeof r=="function"&&r(),t=[]},animate:function(r,n,o,i){if(i){G(r,"transition",""),G(r,"transform","");var a=cr(this.el),l=a&&a.a,u=a&&a.d,c=(n.left-o.left)/(l||1),d=(n.top-o.top)/(u||1);r.animatingX=!!c,r.animatingY=!!d,G(r,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=$_(r),G(r,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),G(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){G(r,"transition",""),G(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},i)}}}}function $_(t){return t.offsetWidth}function j_(t,e,s,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-s.top,2)+Math.pow(e.left-s.left,2))*r.animation}var qs=[],ui={initializeByDefault:!0},pn={mount:function(e){for(var s in ui)ui.hasOwnProperty(s)&&!(s in e)&&(e[s]=ui[s]);qs.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),qs.push(e)},pluginEvent:function(e,s,r){var n=this;this.eventCanceled=!1,r.cancel=function(){n.eventCanceled=!0};var o=e+"Global";qs.forEach(function(i){s[i.pluginName]&&(s[i.pluginName][o]&&s[i.pluginName][o](Pt({sortable:s},r)),s.options[i.pluginName]&&s[i.pluginName][e]&&s[i.pluginName][e](Pt({sortable:s},r)))})},initializePlugins:function(e,s,r,n){qs.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,s,e.options);u.sortable=e,u.options=e.options,e[l]=u,qt(r,u.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var i=this.modifyOption(e,o,e.options[o]);typeof i<"u"&&(e.options[o]=i)}},getEventProperties:function(e,s){var r={};return qs.forEach(function(n){typeof n.eventProperties=="function"&&qt(r,n.eventProperties.call(s[n.pluginName],e))}),r},modifyOption:function(e,s,r){var n;return qs.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[s]=="function"&&(n=o.optionListeners[s].call(e[o.pluginName],r))}),n}};function L_(t){var e=t.sortable,s=t.rootEl,r=t.name,n=t.targetEl,o=t.cloneEl,i=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,h=t.putSortable,p=t.extraEventProperties;if(e=e||s&&s[ot],!!e){var g,_=e.options,w="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Vt&&!hn?g=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(r,!0,!0)),g.to=i||s,g.from=a||s,g.item=n||s,g.clone=o,g.oldIndex=l,g.newIndex=u,g.oldDraggableIndex=c,g.newDraggableIndex=d,g.originalEvent=f,g.pullMode=h?h.lastPutMode:void 0;var T=Pt(Pt({},p),pn.getEventProperties(r,e));for(var y in T)g[y]=T[y];s&&s.dispatchEvent(g),_[w]&&_[w].call(e,g)}}var M_=["evt"],Je=function(e,s){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.evt,o=C_(r,M_);pn.pluginEvent.bind(z)(e,s,Pt({dragEl:$,parentEl:Ce,ghostEl:te,rootEl:Ee,nextEl:ys,lastDownEl:Bn,cloneEl:xe,cloneHidden:ss,dragStarted:Ir,putSortable:$e,activeSortable:z.active,originalEvent:n,oldIndex:Zs,oldDraggableIndex:Gr,newIndex:st,newDraggableIndex:Qt,hideGhostForTarget:vf,unhideGhostForTarget:bf,cloneNowHidden:function(){ss=!0},cloneNowShown:function(){ss=!1},dispatchSortableEvent:function(a){Ve({sortable:s,name:a,originalEvent:n})}},o))};function Ve(t){L_(Pt({putSortable:$e,cloneEl:xe,targetEl:$,rootEl:Ee,oldIndex:Zs,oldDraggableIndex:Gr,newIndex:st,newDraggableIndex:Qt},t))}var $,Ce,te,Ee,ys,Bn,xe,ss,Zs,st,Gr,Qt,Pn,$e,Ys=!1,co=!1,uo=[],hs,ht,di,fi,Uc,Bc,Ir,Ws,zr,Jr=!1,Rn=!1,Fn,De,hi=[],na=!1,fo=[],Po=typeof document<"u",In=cf,Fc=hn||Vt?"cssFloat":"float",D_=Po&&!k_&&!cf&&"draggable"in document.createElement("div"),gf=(function(){if(Po){if(Vt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}})(),mf=function(e,s){var r=G(e),n=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=yr(e,0,s),i=yr(e,1,s),a=o&&G(o),l=i&&G(i),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Pe(o).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Pe(i).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return i&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=n&&r[Fc]==="none"||i&&r[Fc]==="none"&&u+c>n)?"vertical":"horizontal"},N_=function(e,s,r){var n=r?e.left:e.top,o=r?e.right:e.bottom,i=r?e.width:e.height,a=r?s.left:s.top,l=r?s.right:s.bottom,u=r?s.width:s.height;return n===a||o===l||n+i/2===a+u/2},U_=function(e,s){var r;return uo.some(function(n){var o=n[ot].options.emptyInsertThreshold;if(!(!o||Ya(n))){var i=Pe(n),a=e>=i.left-o&&e<=i.right+o,l=s>=i.top-o&&s<=i.bottom+o;if(a&&l)return r=n}}),r},yf=function(e){function s(o,i){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(i||d))return!0;if(o==null||o===!1)return!1;if(i&&o==="clone")return o;if(typeof o=="function")return s(o(a,l,u,c),i)(a,l,u,c);var f=(i?a:l).options.group.name;return o===!0||typeof o=="string"&&o===f||o.join&&o.indexOf(f)>-1}}var r={},n=e.group;(!n||Un(n)!="object")&&(n={name:n}),r.name=n.name,r.checkPull=s(n.pull,!0),r.checkPut=s(n.put),r.revertClone=n.revertClone,e.group=r},vf=function(){!gf&&te&&G(te,"display","none")},bf=function(){!gf&&te&&G(te,"display","")};Po&&document.addEventListener("click",function(t){if(co)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),co=!1,!1},!0);var ps=function(e){if($){e=e.touches?e.touches[0]:e;var s=U_(e.clientX,e.clientY);if(s){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.target=r.rootEl=s,r.preventDefault=void 0,r.stopPropagation=void 0,s[ot]._onDragOver(r)}}},B_=function(e){$&&$.parentNode[ot]._isOutsideThisEl(e.target)};function z(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=qt({},e),t[ot]=this;var s={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return mf(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,a){i.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:z.supportPointer!==!1&&"PointerEvent"in window&&!Vr,emptyInsertThreshold:5};pn.initializePlugins(this,t,s);for(var r in s)!(r in e)&&(e[r]=s[r]);yf(e);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=e.forceFallback?!1:D_,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?ue(t,"pointerdown",this._onTapStart):(ue(t,"mousedown",this._onTapStart),ue(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(ue(t,"dragover",this),ue(t,"dragenter",this)),uo.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),qt(this,I_())}z.prototype={constructor:z,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ws=null)},_getDirection:function(e,s){return typeof this.options.direction=="function"?this.options.direction.call(this,e,s,$):this.options.direction},_onTapStart:function(e){if(e.cancelable){var s=this,r=this.el,n=this.options,o=n.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=n.filter;if(z_(r),!$&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||n.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Vr&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=xt(l,n.draggable,r,!1),!(l&&l.animated)&&Bn!==l)){if(Zs=ct(l),Gr=ct(l,n.draggable),typeof c=="function"){if(c.call(this,e,l,this)){Ve({sortable:s,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),Je("filter",s,{evt:e}),o&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=xt(u,d.trim(),r,!1),d)return Ve({sortable:s,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),Je("filter",s,{evt:e}),!0}),c)){o&&e.cancelable&&e.preventDefault();return}n.handle&&!xt(u,n.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,s,r){var n=this,o=n.el,i=n.options,a=o.ownerDocument,l;if(r&&!$&&r.parentNode===o){var u=Pe(r);if(Ee=o,$=r,Ce=$.parentNode,ys=$.nextSibling,Bn=r,Pn=i.group,z.dragged=$,hs={target:$,clientX:(s||e).clientX,clientY:(s||e).clientY},Uc=hs.clientX-u.left,Bc=hs.clientY-u.top,this._lastX=(s||e).clientX,this._lastY=(s||e).clientY,$.style["will-change"]="all",l=function(){if(Je("delayEnded",n,{evt:e}),z.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!Lc&&n.nativeDraggable&&($.draggable=!0),n._triggerDragStart(e,s),Ve({sortable:n,name:"choose",originalEvent:e}),et($,i.chosenClass,!0)},i.ignore.split(",").forEach(function(c){df($,c.trim(),pi)}),ue(a,"dragover",ps),ue(a,"mousemove",ps),ue(a,"touchmove",ps),ue(a,"mouseup",n._onDrop),ue(a,"touchend",n._onDrop),ue(a,"touchcancel",n._onDrop),Lc&&this.nativeDraggable&&(this.options.touchStartThreshold=4,$.draggable=!0),Je("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||s)&&(!this.nativeDraggable||!(hn||Vt))){if(z.eventCanceled){this._onDrop();return}ue(a,"mouseup",n._disableDelayedDrag),ue(a,"touchend",n._disableDelayedDrag),ue(a,"touchcancel",n._disableDelayedDrag),ue(a,"mousemove",n._delayedDragTouchMoveHandler),ue(a,"touchmove",n._delayedDragTouchMoveHandler),i.supportPointer&&ue(a,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(l,i.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var s=e.touches?e.touches[0]:e;Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){$&&pi($),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ae(e,"mouseup",this._disableDelayedDrag),ae(e,"touchend",this._disableDelayedDrag),ae(e,"touchcancel",this._disableDelayedDrag),ae(e,"mousemove",this._delayedDragTouchMoveHandler),ae(e,"touchmove",this._delayedDragTouchMoveHandler),ae(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,s){s=s||e.pointerType=="touch"&&e,!this.nativeDraggable||s?this.options.supportPointer?ue(document,"pointermove",this._onTouchMove):s?ue(document,"touchmove",this._onTouchMove):ue(document,"mousemove",this._onTouchMove):(ue($,"dragend",this),ue(Ee,"dragstart",this._onDragStart));try{document.selection?Hn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,s){if(Ys=!1,Ee&&$){Je("dragStarted",this,{evt:s}),this.nativeDraggable&&ue(document,"dragover",B_);var r=this.options;!e&&et($,r.dragClass,!1),et($,r.ghostClass,!0),z.active=this,e&&this._appendGhost(),Ve({sortable:this,name:"start",originalEvent:s})}else this._nulling()},_emulateDragOver:function(){if(ht){this._lastX=ht.clientX,this._lastY=ht.clientY,vf();for(var e=document.elementFromPoint(ht.clientX,ht.clientY),s=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ht.clientX,ht.clientY),e!==s);)s=e;if($.parentNode[ot]._isOutsideThisEl(e),s)do{if(s[ot]){var r=void 0;if(r=s[ot]._onDragOver({clientX:ht.clientX,clientY:ht.clientY,target:e,rootEl:s}),r&&!this.options.dragoverBubble)break}e=s}while(s=s.parentNode);bf()}},_onTouchMove:function(e){if(hs){var s=this.options,r=s.fallbackTolerance,n=s.fallbackOffset,o=e.touches?e.touches[0]:e,i=te&&cr(te,!0),a=te&&i&&i.a,l=te&&i&&i.d,u=In&&De&&Nc(De),c=(o.clientX-hs.clientX+n.x)/(a||1)+(u?u[0]-hi[0]:0)/(a||1),d=(o.clientY-hs.clientY+n.y)/(l||1)+(u?u[1]-hi[1]:0)/(l||1);if(!z.active&&!Ys){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(te){i?(i.e+=c-(di||0),i.f+=d-(fi||0)):i={a:1,b:0,c:0,d:1,e:c,f:d};var f="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");G(te,"webkitTransform",f),G(te,"mozTransform",f),G(te,"msTransform",f),G(te,"transform",f),di=c,fi=d,ht=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!te){var e=this.options.fallbackOnBody?document.body:Ee,s=Pe($,!0,In,!0,e),r=this.options;if(In){for(De=e;G(De,"position")==="static"&&G(De,"transform")==="none"&&De!==document;)De=De.parentNode;De!==document.body&&De!==document.documentElement?(De===document&&(De=Ot()),s.top+=De.scrollTop,s.left+=De.scrollLeft):De=Ot(),hi=Nc(De)}te=$.cloneNode(!0),et(te,r.ghostClass,!1),et(te,r.fallbackClass,!0),et(te,r.dragClass,!0),G(te,"transition",""),G(te,"transform",""),G(te,"box-sizing","border-box"),G(te,"margin",0),G(te,"top",s.top),G(te,"left",s.left),G(te,"width",s.width),G(te,"height",s.height),G(te,"opacity","0.8"),G(te,"position",In?"absolute":"fixed"),G(te,"zIndex","100000"),G(te,"pointerEvents","none"),z.ghost=te,e.appendChild(te),G(te,"transform-origin",Uc/parseInt(te.style.width)*100+"% "+Bc/parseInt(te.style.height)*100+"%")}},_onDragStart:function(e,s){var r=this,n=e.dataTransfer,o=r.options;if(Je("dragStart",this,{evt:e}),z.eventCanceled){this._onDrop();return}Je("setupClone",this),z.eventCanceled||(xe=pf($),xe.draggable=!1,xe.style["will-change"]="",this._hideClone(),et(xe,this.options.chosenClass,!1),z.clone=xe),r.cloneId=Hn(function(){Je("clone",r),!z.eventCanceled&&(r.options.removeCloneOnHide||Ee.insertBefore(xe,$),r._hideClone(),Ve({sortable:r,name:"clone"}))}),!s&&et($,o.dragClass,!0),s?(co=!0,r._loopId=setInterval(r._emulateDragOver,50)):(ae(document,"mouseup",r._onDrop),ae(document,"touchend",r._onDrop),ae(document,"touchcancel",r._onDrop),n&&(n.effectAllowed="move",o.setData&&o.setData.call(r,n,$)),ue(document,"drop",r),G($,"transform","translateZ(0)")),Ys=!0,r._dragStartId=Hn(r._dragStarted.bind(r,s,e)),ue(document,"selectstart",r),Ir=!0,Vr&&G(document.body,"user-select","none")},_onDragOver:function(e){var s=this.el,r=e.target,n,o,i,a=this.options,l=a.group,u=z.active,c=Pn===l,d=a.sort,f=$e||u,h,p=this,g=!1;if(na)return;function _(F,Te){Je(F,p,Pt({evt:e,isOwner:c,axis:h?"vertical":"horizontal",revert:i,dragRect:n,targetRect:o,canSort:d,fromSortable:f,target:r,completed:T,onMove:function(wt,at){return $n(Ee,s,$,n,wt,Pe(wt),e,at)},changed:y},Te))}function w(){_("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function T(F){return _("dragOverCompleted",{insertion:F}),F&&(c?u._hideClone():u._showClone(p),p!==f&&(et($,$e?$e.options.ghostClass:u.options.ghostClass,!1),et($,a.ghostClass,!0)),$e!==p&&p!==z.active?$e=p:p===z.active&&$e&&($e=null),f===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){_("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===$&&!$.animated||r===s&&!r.animated)&&(Ws=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&($.parentNode[ot]._isOutsideThisEl(e.target),!F&&ps(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function y(){st=ct($),Qt=ct($,a.draggable),Ve({sortable:p,name:"change",toEl:s,newIndex:st,newDraggableIndex:Qt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=xt(r,a.draggable,s,!0),_("dragOver"),z.eventCanceled)return g;if($.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return T(!1);if(co=!1,u&&!a.disabled&&(c?d||(i=Ce!==Ee):$e===this||(this.lastPutMode=Pn.checkPull(this,u,$,e))&&l.checkPut(this,u,$,e))){if(h=this._getDirection(e,r)==="vertical",n=Pe($),_("dragOverValid"),z.eventCanceled)return g;if(i)return Ce=Ee,w(),this._hideClone(),_("revert"),z.eventCanceled||(ys?Ee.insertBefore($,ys):Ee.appendChild($)),T(!0);var b=Ya(s,a.draggable);if(!b||W_(e,h,this)&&!b.animated){if(b===$)return T(!1);if(b&&s===e.target&&(r=b),r&&(o=Pe(r)),$n(Ee,s,$,n,r,o,e,!!r)!==!1)return w(),s.appendChild($),Ce=s,y(),T(!0)}else if(b&&q_(e,h,this)){var E=yr(s,0,a,!0);if(E===$)return T(!1);if(r=E,o=Pe(r),$n(Ee,s,$,n,r,o,e,!1)!==!1)return w(),s.insertBefore($,E),Ce=s,y(),T(!0)}else if(r.parentNode===s){o=Pe(r);var x=0,R,D=$.parentNode!==s,P=!N_($.animated&&$.toRect||n,r.animated&&r.toRect||o,h),M=h?"top":"left",X=Dc(r,"top","top")||Dc($,"top","top"),Z=X?X.scrollTop:void 0;Ws!==r&&(R=o[M],Jr=!1,Rn=!P&&a.invertSwap||D),x=V_(e,r,o,h,P?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Rn,Ws===r);var ee;if(x!==0){var fe=ct($);do fe-=x,ee=Ce.children[fe];while(ee&&(G(ee,"display")==="none"||ee===te))}if(x===0||ee===r)return T(!1);Ws=r,zr=x;var pe=r.nextElementSibling,B=!1;B=x===1;var W=$n(Ee,s,$,n,r,o,e,B);if(W!==!1)return(W===1||W===-1)&&(B=W===1),na=!0,setTimeout(H_,30),w(),B&&!pe?s.appendChild($):r.parentNode.insertBefore($,B?pe:r),X&&hf(X,0,Z-X.scrollTop),Ce=$.parentNode,R!==void 0&&!Rn&&(Fn=Math.abs(R-Pe(r)[M])),y(),T(!0)}if(s.contains($))return T(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ae(document,"mousemove",this._onTouchMove),ae(document,"touchmove",this._onTouchMove),ae(document,"pointermove",this._onTouchMove),ae(document,"dragover",ps),ae(document,"mousemove",ps),ae(document,"touchmove",ps)},_offUpEvents:function(){var e=this.el.ownerDocument;ae(e,"mouseup",this._onDrop),ae(e,"touchend",this._onDrop),ae(e,"pointerup",this._onDrop),ae(e,"touchcancel",this._onDrop),ae(document,"selectstart",this)},_onDrop:function(e){var s=this.el,r=this.options;if(st=ct($),Qt=ct($,r.draggable),Je("drop",this,{evt:e}),Ce=$&&$.parentNode,st=ct($),Qt=ct($,r.draggable),z.eventCanceled){this._nulling();return}Ys=!1,Rn=!1,Jr=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),oa(this.cloneId),oa(this._dragStartId),this.nativeDraggable&&(ae(document,"drop",this),ae(s,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Vr&&G(document.body,"user-select",""),G($,"transform",""),e&&(Ir&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),te&&te.parentNode&&te.parentNode.removeChild(te),(Ee===Ce||$e&&$e.lastPutMode!=="clone")&&xe&&xe.parentNode&&xe.parentNode.removeChild(xe),$&&(this.nativeDraggable&&ae($,"dragend",this),pi($),$.style["will-change"]="",Ir&&!Ys&&et($,$e?$e.options.ghostClass:this.options.ghostClass,!1),et($,this.options.chosenClass,!1),Ve({sortable:this,name:"unchoose",toEl:Ce,newIndex:null,newDraggableIndex:null,originalEvent:e}),Ee!==Ce?(st>=0&&(Ve({rootEl:Ce,name:"add",toEl:Ce,fromEl:Ee,originalEvent:e}),Ve({sortable:this,name:"remove",toEl:Ce,originalEvent:e}),Ve({rootEl:Ce,name:"sort",toEl:Ce,fromEl:Ee,originalEvent:e}),Ve({sortable:this,name:"sort",toEl:Ce,originalEvent:e})),$e&&$e.save()):st!==Zs&&st>=0&&(Ve({sortable:this,name:"update",toEl:Ce,originalEvent:e}),Ve({sortable:this,name:"sort",toEl:Ce,originalEvent:e})),z.active&&((st==null||st===-1)&&(st=Zs,Qt=Gr),Ve({sortable:this,name:"end",toEl:Ce,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Je("nulling",this),Ee=$=Ce=te=ys=xe=Bn=ss=hs=ht=Ir=st=Qt=Zs=Gr=Ws=zr=$e=Pn=z.dragged=z.ghost=z.clone=z.active=null,fo.forEach(function(e){e.checked=!0}),fo.length=di=fi=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":$&&(this._onDragOver(e),F_(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],s,r=this.el.children,n=0,o=r.length,i=this.options;n<o;n++)s=r[n],xt(s,i.draggable,this.el,!1)&&e.push(s.getAttribute(i.dataIdAttr)||G_(s));return e},sort:function(e,s){var r={},n=this.el;this.toArray().forEach(function(o,i){var a=n.children[i];xt(a,this.options.draggable,n,!1)&&(r[o]=a)},this),s&&this.captureAnimationState(),e.forEach(function(o){r[o]&&(n.removeChild(r[o]),n.appendChild(r[o]))}),s&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,s){return xt(e,s||this.options.draggable,this.el,!1)},option:function(e,s){var r=this.options;if(s===void 0)return r[e];var n=pn.modifyOption(this,e,s);typeof n<"u"?r[e]=n:r[e]=s,e==="group"&&yf(r)},destroy:function(){Je("destroy",this);var e=this.el;e[ot]=null,ae(e,"mousedown",this._onTapStart),ae(e,"touchstart",this._onTapStart),ae(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ae(e,"dragover",this),ae(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(s){s.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),uo.splice(uo.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ss){if(Je("hideClone",this),z.eventCanceled)return;G(xe,"display","none"),this.options.removeCloneOnHide&&xe.parentNode&&xe.parentNode.removeChild(xe),ss=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ss){if(Je("showClone",this),z.eventCanceled)return;$.parentNode==Ee&&!this.options.group.revertClone?Ee.insertBefore(xe,$):ys?Ee.insertBefore(xe,ys):Ee.appendChild(xe),this.options.group.revertClone&&this.animate($,xe),G(xe,"display",""),ss=!1}}};function F_(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function $n(t,e,s,r,n,o,i,a){var l,u=t[ot],c=u.options.onMove,d;return window.CustomEvent&&!Vt&&!hn?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=s,l.draggedRect=r,l.related=n||e,l.relatedRect=o||Pe(e),l.willInsertAfter=a,l.originalEvent=i,t.dispatchEvent(l),c&&(d=c.call(u,l,i)),d}function pi(t){t.draggable=!1}function H_(){na=!1}function q_(t,e,s){var r=Pe(yr(s.el,0,s.options,!0)),n=10;return e?t.clientX<r.left-n||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-n||t.clientY<r.bottom&&t.clientX<r.left}function W_(t,e,s){var r=Pe(Ya(s.el,s.options.draggable)),n=10;return e?t.clientX>r.right+n||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+n}function V_(t,e,s,r,n,o,i,a){var l=r?t.clientY:t.clientX,u=r?s.height:s.width,c=r?s.top:s.left,d=r?s.bottom:s.right,f=!1;if(!i){if(a&&Fn<u*n){if(!Jr&&(zr===1?l>c+u*o/2:l<d-u*o/2)&&(Jr=!0),Jr)f=!0;else if(zr===1?l<c+Fn:l>d-Fn)return-zr}else if(l>c+u*(1-n)/2&&l<d-u*(1-n)/2)return K_(e)}return f=f||i,f&&(l<c+u*o/2||l>d-u*o/2)?l>c+u/2?1:-1:0}function K_(t){return ct($)<ct(t)?1:-1}function G_(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,s=e.length,r=0;s--;)r+=e.charCodeAt(s);return r.toString(36)}function z_(t){fo.length=0;for(var e=t.getElementsByTagName("input"),s=e.length;s--;){var r=e[s];r.checked&&fo.push(r)}}function Hn(t){return setTimeout(t,0)}function oa(t){return clearTimeout(t)}Po&&ue(document,"touchmove",function(t){(z.active||Ys)&&t.cancelable&&t.preventDefault()});z.utils={on:ue,off:ae,css:G,find:df,is:function(e,s){return!!xt(e,s,e,!1)},extend:P_,throttle:ff,closest:xt,toggleClass:et,clone:pf,index:ct,nextTick:Hn,cancelNextTick:oa,detectDirection:mf,getChild:yr};z.get=function(t){return t[ot]};z.mount=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(z.utils=Pt(Pt({},z.utils),r.utils)),pn.mount(r)})};z.create=function(t,e){return new z(t,e)};z.version=x_;var ke=[],$r,ia,aa=!1,gi,mi,ho,jr;function J_(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(s){var r=s.originalEvent;this.sortable.nativeDraggable?ue(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ue(document,"pointermove",this._handleFallbackAutoScroll):r.touches?ue(document,"touchmove",this._handleFallbackAutoScroll):ue(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(s){var r=s.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?ae(document,"dragover",this._handleAutoScroll):(ae(document,"pointermove",this._handleFallbackAutoScroll),ae(document,"touchmove",this._handleFallbackAutoScroll),ae(document,"mousemove",this._handleFallbackAutoScroll)),Hc(),qn(),R_()},nulling:function(){ho=ia=$r=aa=jr=gi=mi=null,ke.length=0},_handleFallbackAutoScroll:function(s){this._handleAutoScroll(s,!0)},_handleAutoScroll:function(s,r){var n=this,o=(s.touches?s.touches[0]:s).clientX,i=(s.touches?s.touches[0]:s).clientY,a=document.elementFromPoint(o,i);if(ho=s,r||this.options.forceAutoScrollFallback||hn||Vt||Vr){yi(s,this.options,a,r);var l=rs(a,!0);aa&&(!jr||o!==gi||i!==mi)&&(jr&&Hc(),jr=setInterval(function(){var u=rs(document.elementFromPoint(o,i),!0);u!==l&&(l=u,qn()),yi(s,n.options,u,r)},10),gi=o,mi=i)}else{if(!this.options.bubbleScroll||rs(a,!0)===Ot()){qn();return}yi(s,this.options,rs(a,!1),!1)}}},qt(t,{pluginName:"scroll",initializeByDefault:!0})}function qn(){ke.forEach(function(t){clearInterval(t.pid)}),ke=[]}function Hc(){clearInterval(jr)}var yi=ff(function(t,e,s,r){if(e.scroll){var n=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,i=e.scrollSensitivity,a=e.scrollSpeed,l=Ot(),u=!1,c;ia!==s&&(ia=s,qn(),$r=e.scroll,c=e.scrollFn,$r===!0&&($r=rs(s,!0)));var d=0,f=$r;do{var h=f,p=Pe(h),g=p.top,_=p.bottom,w=p.left,T=p.right,y=p.width,b=p.height,E=void 0,x=void 0,R=h.scrollWidth,D=h.scrollHeight,P=G(h),M=h.scrollLeft,X=h.scrollTop;h===l?(E=y<R&&(P.overflowX==="auto"||P.overflowX==="scroll"||P.overflowX==="visible"),x=b<D&&(P.overflowY==="auto"||P.overflowY==="scroll"||P.overflowY==="visible")):(E=y<R&&(P.overflowX==="auto"||P.overflowX==="scroll"),x=b<D&&(P.overflowY==="auto"||P.overflowY==="scroll"));var Z=E&&(Math.abs(T-n)<=i&&M+y<R)-(Math.abs(w-n)<=i&&!!M),ee=x&&(Math.abs(_-o)<=i&&X+b<D)-(Math.abs(g-o)<=i&&!!X);if(!ke[d])for(var fe=0;fe<=d;fe++)ke[fe]||(ke[fe]={});(ke[d].vx!=Z||ke[d].vy!=ee||ke[d].el!==h)&&(ke[d].el=h,ke[d].vx=Z,ke[d].vy=ee,clearInterval(ke[d].pid),(Z!=0||ee!=0)&&(u=!0,ke[d].pid=setInterval((function(){r&&this.layer===0&&z.active._onTouchMove(ho);var pe=ke[this.layer].vy?ke[this.layer].vy*a:0,B=ke[this.layer].vx?ke[this.layer].vx*a:0;typeof c=="function"&&c.call(z.dragged.parentNode[ot],B,pe,t,ho,ke[this.layer].el)!=="continue"||hf(ke[this.layer].el,B,pe)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==l&&(f=rs(f,!1)));aa=u}},30),_f=function(e){var s=e.originalEvent,r=e.putSortable,n=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(s){var u=r||o;a();var c=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:s,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(i("spill"),this.onSpill({dragEl:n,putSortable:r}))}};function Xa(){}Xa.prototype={startIndex:null,dragStart:function(e){var s=e.oldDraggableIndex;this.startIndex=s},onSpill:function(e){var s=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var n=yr(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(s,n):this.sortable.el.appendChild(s),this.sortable.animateAll(),r&&r.animateAll()},drop:_f};qt(Xa,{pluginName:"revertOnSpill"});function Qa(){}Qa.prototype={onSpill:function(e){var s=e.dragEl,r=e.putSortable,n=r||this.sortable;n.captureAnimationState(),s.parentNode&&s.parentNode.removeChild(s),n.animateAll()},drop:_f};qt(Qa,{pluginName:"removeOnSpill"});z.mount(new J_);z.mount(Qa,Xa);function Y_(){return typeof window<"u"?window.console:global.console}const X_=Y_();function Q_(t){const e=Object.create(null);return function(r){return e[r]||(e[r]=t(r))}}const Z_=/-(\w)/g,qc=Q_(t=>t.replace(Z_,(e,s)=>s?s.toUpperCase():""));function vi(t){t.parentElement!==null&&t.parentElement.removeChild(t)}function Wc(t,e,s){const r=s===0?t.children[0]:t.children[s-1].nextSibling;t.insertBefore(e,r)}function ew(t,e){return Object.values(t).indexOf(e)}function tw(t,e,s,r){if(!t)return[];const n=Object.values(t),o=e.length-r;return[...e].map((a,l)=>l>=o?n.length:n.indexOf(a))}function wf(t,e){this.$nextTick(()=>this.$emit(t.toLowerCase(),e))}function sw(t){return e=>{this.realList!==null&&this["onDrag"+t](e),wf.call(this,t,e)}}function rw(t){return["transition-group","TransitionGroup"].includes(t)}function nw(t){if(!t||t.length!==1)return!1;const[{type:e}]=t;return e?rw(e.name):!1}function ow(t,e){return e?{...e.props,...e.attrs}:t}const la=["Start","Add","Remove","Update","End"],ca=["Choose","Unchoose","Sort","Filter","Clone"],iw=["Move",...la,...ca].map(t=>"on"+t);let bi=null;const aw={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:t=>t},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Ef=Xe({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...la.map(t=>t.toLowerCase()),...ca.map(t=>t.toLowerCase())],props:aw,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const t=this.$slots.default?this.$slots.default():null,e=ow(this.$attrs,this.componentData);return t?(this.transitionMode=nw(t),Ii(this.getTag(),e,t)):Ii(this.getTag(),e,[])},created(){this.list!==null&&this.modelValue!==null&&X_.error("list props are mutually exclusive! Please set one.")},mounted(){const t={};la.forEach(n=>{t["on"+n]=sw.call(this,n)}),ca.forEach(n=>{t["on"+n]=wf.bind(this,n)});const e=Object.keys(this.$attrs).reduce((n,o)=>(n[qc(o)]=this.$attrs[o],n),{}),s=Object.assign({},e,t,{onMove:(n,o)=>this.onDragMove(n,o)});!("draggable"in s)&&(s.draggable=">*");const r=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new z(r,s),r.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(t){this.updateOptions(t)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?jh(this.component):this.tag},updateOptions(t){for(var e in t){const s=qc(e);iw.indexOf(s)===-1&&this._sortable.option(s,t[e])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=tw(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(t){const e=ew(this.getChildrenNodes()||[],t);if(e===-1)return null;const s=this.realList[e];return{index:e,element:s}},emitChanges(t){this.$nextTick(()=>{this.$emit("change",t)})},alterList(t){if(this.list){t(this.list);return}const e=[...this.modelValue];t(e),this.$emit("update:modelValue",e)},spliceList(){const t=e=>e.splice(...arguments);this.alterList(t)},updatePosition(t,e){const s=r=>r.splice(e,0,r.splice(t,1)[0]);this.alterList(s)},getVmIndex(t){const e=this.visibleIndexes,s=e.length;return t>s-1?s:e[t]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(t){if(!this.noTransitionOnDrag||!this.transitionMode)return;var e=this.getChildrenNodes();e[t].data=null;const s=this.getComponent();s.children=[],s.kept=void 0},onDragStart(t){this.computeIndexes(),this.context=this.getUnderlyingVm(t.item),this.context&&(t.item._underlying_vm_=this.clone(this.context.element),bi=t.item)},onDragAdd(t){const e=t.item._underlying_vm_;if(e===void 0)return;vi(t.item);const s=this.getVmIndex(t.newIndex);this.spliceList(s,0,e),this.computeIndexes();const r={element:e,newIndex:s};this.emitChanges({added:r})},onDragRemove(t){if(Wc(this.$el,t.item,t.oldIndex),t.pullMode==="clone"){vi(t.clone);return}if(!this.context)return;const e=this.context.index;this.spliceList(e,1);const s={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:s})},onDragUpdate(t){vi(t.item),Wc(t.from,t.item,t.oldIndex);const e=this.context.index,s=this.getVmIndex(t.newIndex);this.updatePosition(e,s);const r={element:this.context.element,oldIndex:e,newIndex:s};this.emitChanges({moved:r})},updateProperty(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},onDragMove(t,e){const s=this.move;if(!s||!this.realList)return!0;const r=this.getRelatedContextFromMoveEvent(t),n=this.context,o=this.computeFutureIndex(r,t);Object.assign(n,{futureIndex:o});const i=Object.assign({},t,{relatedContext:r,draggedContext:n});return s(i,e)},onDragEnd(){this.computeIndexes(),bi=null},getTrargetedComponent(t){return t.__draggable_component__},getRelatedContextFromMoveEvent({to:t,related:e}){const s=this.getTrargetedComponent(t);if(!s)return{component:s};const r=s.realList,n={list:r,component:s};if(t!==e&&r&&s.getUnderlyingVm){const o=s.getUnderlyingVm(e);if(o)return Object.assign(o,n)}return n},computeFutureIndex(t,e){const s=[...e.to.children].filter(i=>i.style.display!=="none");if(s.length===0)return 0;const r=s.indexOf(e.related),n=t.component.getVmIndex(r);return s.indexOf(bi)!==-1||!e.willInsertAfter?n:n+1}}}),Vs=ie({show:!1}),Sf=()=>{const t=r=>(console.log("🎭 [INPUT] 顯示輸入對話框:",r),new Promise(n=>{Vs.value={show:!0,title:r.title,message:r.message,placeholder:r.placeholder,confirmText:r.confirmText,cancelText:r.cancelText,initialValue:r.initialValue,resolve:n}})),e=r=>{console.log("✅ [INPUT] 用戶點擊確認，輸入值:",r);const{resolve:n}=Vs.value;Vs.value.show=!1,n&&n(r)},s=()=>{console.log("❌ [INPUT] 用戶點擊取消");const{resolve:r}=Vs.value;Vs.value.show=!1,r&&r(null)};return{inputState:_o(Vs),showInput:t,handleConfirm:e,handleCancel:s}};class lw{validate(e){const s=[];return!e||typeof e!="string"?s.push("卡片標題不能為空"):(e.trim().length===0&&s.push("卡片標題不能只有空白"),e.length>100&&s.push("卡片標題不能超過 100 個字元"),(e.includes("<")||e.includes(">"))&&s.push("卡片標題不能包含 HTML 標籤")),{isValid:s.length===0,errors:s}}}class cw{validate(e){const s=[];return!e||typeof e!="string"?s.push("列表標題不能為空"):(e.trim().length===0&&s.push("列表標題不能只有空白"),e.length>50&&s.push("列表標題不能超過 50 個字元")),{isValid:s.length===0,errors:s}}}class uw{validate(e){const s=[];return!e||typeof e!="string"?s.push("電子郵件不能為空"):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||s.push("請輸入有效的電子郵件格式"),{isValid:s.length===0,errors:s}}}class Ss{constructor(e){this.strategy=e}setStrategy(e){this.strategy=e}validate(e){return this.strategy.validate(e)}static validateCardTitle(e){return new Ss(new lw).validate(e)}static validateListTitle(e){return new Ss(new cw).validate(e)}static validateEmail(e){return new Ss(new uw).validate(e)}}class Ne{notification={id:this.generateId(),type:"info",duration:5e3,timestamp:new Date};setTitle(e){return this.notification.title=e,this}setMessage(e){return this.notification.message=e,this}setType(e){return this.notification.type=e,this}setDuration(e){return this.notification.duration=e,this}addAction(e,s){return this.notification.actions||(this.notification.actions=[]),this.notification.actions.push({label:e,action:s}),this}static success(e){return new Ne().setType("success").setTitle("操作成功").setMessage(e).setDuration(3e3)}static error(e){return new Ne().setType("error").setTitle("操作失敗").setMessage(e).setDuration(5e3)}build(){if(!this.notification.title||!this.notification.message)throw new Error("通知必須包含標題和訊息");return this.notification}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}}class er{static instance;listeners=new Map;static getInstance(){return er.instance||(er.instance=new er),er.instance}on(e,s){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(s)}off(e,s){const r=this.listeners.get(e);if(r){const n=r.indexOf(s);n>-1&&(r.splice(n,1),r.length===0&&this.listeners.delete(e))}}emit(e,s){const r=this.listeners.get(e);r&&[...r].forEach(n=>{try{n(s)}catch(o){console.error(`事件處理器錯誤 [${e}]:`,o)}})}once(e,s){const r=n=>{try{s(n)}finally{this.off(e,r)}};this.on(e,r)}removeAllListeners(){this.listeners.clear()}getListenerCount(e){if(e)return this.listeners.get(e)?.length||0;const s={};return this.listeners.forEach((r,n)=>{s[n]=r.length}),s}}const Gt=er.getInstance(),Tf=()=>{const t=wr(),{showConfirm:e}=Ja(),{showInput:s}=Sf(),r=async l=>{const u=await s({title:"新增卡片",message:"請輸入新卡片的標題",placeholder:"卡片標題...",confirmText:"新增",cancelText:"取消"});if(!u){console.log("❌ [COMPOSABLE] 用戶取消或未輸入卡片標題");return}console.log("✅ [COMPOSABLE] 用戶輸入卡片標題:",u);const c=Ss.validateCardTitle(u);if(!c.isValid){const d=Ne.error(`卡片標題不符合規範：${c.errors.join(", ")}`).build();a(d);return}try{await t.addCard(l,u.trim()),Gt.emit("card:created",{cardId:"temp-id",listId:l,title:u.trim()});const d=Ne.success("卡片已成功新增").build();a(d)}catch(d){const f=Ne.error("新增卡片失敗，請稍後再試").build();a(f),Gt.emit("error:occurred",{error:d,context:"addCard"})}},n=async l=>{console.log("🗑️ [COMPOSABLE] deleteList 被呼叫，參數:",{listId:l});const u=t.board.lists.find(h=>h.id===l),c=u?.title||"未知列表",d=u?.cards.length||0;if(console.log("💬 [COMPOSABLE] 顯示刪除確認對話框..."),!await e({title:"刪除列表",message:`確定要刪除列表 "${c}" 嗎？${d>0?`此列表包含 ${d} 張卡片，`:""}此操作無法撤銷。`,confirmText:"刪除",cancelText:"取消",dangerMode:!0})){console.log("❌ [COMPOSABLE] 用戶取消刪除操作");return}console.log("✅ [COMPOSABLE] 用戶確認刪除，開始執行刪除流程...");try{console.log("📤 [COMPOSABLE] 呼叫 boardStore.removeList()..."),await t.removeList(l),console.log("✅ [COMPOSABLE] boardStore.removeList() 執行成功"),console.log("📢 [COMPOSABLE] 發布 list:deleted 事件..."),Gt.emit("list:deleted",{listId:l}),console.log("🎉 [COMPOSABLE] 建立成功通知...");const h=Ne.success("列表已成功刪除").build();console.log("📱 [COMPOSABLE] 顯示成功通知:",h),a(h),console.log("✅ [COMPOSABLE] 列表刪除流程完成")}catch(h){console.error("❌ [COMPOSABLE] 刪除列表過程中發生錯誤:"),console.error("  🔍 錯誤類型:",typeof h),console.error("  🔍 錯誤內容:",h),h&&typeof h=="object"&&console.error("  🔍 錯誤詳情:",{message:h.message,statusCode:h.statusCode,statusMessage:h.statusMessage,data:h.data}),console.log("🚨 [COMPOSABLE] 建立錯誤通知...");const p=Ne.error("刪除列表失敗，請稍後再試").build();console.log("📱 [COMPOSABLE] 顯示錯誤通知:",p),a(p),console.log("📢 [COMPOSABLE] 發布 error:occurred 事件..."),Gt.emit("error:occurred",{error:h,context:"deleteList"}),console.log("💥 [COMPOSABLE] 錯誤處理完成")}},o=async()=>{const l=await s({title:"新增列表",message:"請輸入新列表的標題",placeholder:"列表標題...",confirmText:"新增",cancelText:"取消"});if(!l){console.log("❌ [COMPOSABLE] 用戶取消或未輸入列表標題");return}console.log("✅ [COMPOSABLE] 用戶輸入列表標題:",l);const u=Ss.validateListTitle(l);if(!u.isValid){const c=Ne.error(`列表標題不符合規範：${u.errors.join(", ")}`).build();a(c);return}try{await t.addList(l.trim()),Gt.emit("list:created",{listId:"temp-id",title:l.trim()});const c=Ne.success("列表已成功新增").build();a(c)}catch(c){const d=Ne.error("新增列表失敗，請稍後再試").build();a(d),Gt.emit("error:occurred",{error:c,context:"addList"})}},i=async(l,u)=>{console.log("📝 [COMPOSABLE] updateListTitle 被呼叫，參數:",{listId:l,newTitle:u});const c=u.trim();if(!c){console.warn("❌ [COMPOSABLE] 列表標題不能為空");const f=Ne.error("列表標題不能為空").build();a(f);return}const d=Ss.validateListTitle(c);if(!d.isValid){const f=Ne.error(`列表標題不符合規範：${d.errors.join(", ")}`).build();a(f);return}try{const f=t.board.lists.find(p=>p.id===l);if(!f){console.warn("❌ [COMPOSABLE] 找不到對應的列表，無法更新標題");const p=Ne.error("找不到對應的列表，請重新整理後再試").build();a(p);return}if(f.title?.trim()===c){console.log("ℹ️ [COMPOSABLE] 標題未變更，略過更新");return}console.log("📤 [COMPOSABLE] 呼叫 boardStore.updateListTitle()..."),await t.updateListTitle(l,c),console.log("✅ [COMPOSABLE] boardStore.updateListTitle() 執行成功"),console.log("📢 [COMPOSABLE] 發布 list:title-updated 事件..."),Gt.emit("list:title-updated",{listId:l,newTitle:c}),console.log("🎉 [COMPOSABLE] 建立成功通知...");const h=Ne.success("列表標題已成功更新").build();console.log("📱 [COMPOSABLE] 顯示成功通知:",h),a(h),console.log("✅ [COMPOSABLE] 列表標題更新流程完成")}catch(f){console.error("❌ [COMPOSABLE] 更新列表標題過程中發生錯誤:"),console.error("  🔍 錯誤類型:",typeof f),console.error("  🔍 錯誤內容:",f),f&&typeof f=="object"&&console.error("  🔍 錯誤詳情:",{message:f.message,statusCode:f.statusCode,statusMessage:f.statusMessage,data:f.data}),console.log("🚨 [COMPOSABLE] 建立錯誤通知...");const h=Ne.error("更新列表標題失敗，請稍後再試").build();throw console.log("📱 [COMPOSABLE] 顯示錯誤通知:",h),a(h),console.log("📢 [COMPOSABLE] 發布 error:occurred 事件..."),Gt.emit("error:occurred",{error:f,context:"updateListTitle"}),console.log("💥 [COMPOSABLE] 錯誤處理完成"),f}},a=l=>{console.log(`[${l.type.toUpperCase()}] ${l.title}: ${l.message}`)};return{addCard:r,deleteList:n,addList:o,updateListTitle:i}},dw=["data-list-id"],fw={class:"cursor-pointer flex justify-between items-center p-2 mb-2 relative"},hw=Xe({__name:"ListItem",props:{list:{}},emits:["card-move","open-card-modal"],setup(t){const e=t,{addCard:s,deleteList:r,updateListTitle:n}=Tf(),o=ie(!1),i=ie(""),a=ie(null),l=()=>{s(e.list.id)},u=()=>{r(e.list.id)},c=async()=>{o.value=!0,i.value=e.list.title,await nn(),a.value&&(a.value.focus(),a.value.select())},d=async()=>{if(i.value.trim()&&i.value.trim()!==e.list.title)try{await n(e.list.id,i.value.trim())}catch(h){console.error("更新列表標題失敗:",h),i.value=e.list.title}o.value=!1},f=()=>{i.value=e.list.title,o.value=!1};return(h,p)=>(K(),re("div",{class:"bg-gray-200 rounded w-80 p-2 flex-shrink-0","data-list-id":h.list.id},[L("div",fw,[o.value?ur((K(),re("input",{key:1,ref_key:"titleInput",ref:a,"onUpdate:modelValue":p[0]||(p[0]=g=>i.value=g),class:"w-full text-base font-bold bg-white border-2 border-blue-400 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all",onKeydown:[Ts(d,["enter"]),Ts(f,["esc"])],onBlur:d},null,544)),[[pr,i.value]]):(K(),re("h2",{key:0,class:"w-full text-base font-bold select-none cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",onClick:c},me(h.list.title),1)),ce(E_,{"list-id":h.list.id,onAddCard:l,onDeleteList:u},null,8,["list-id"])]),ce(H(Ef),{class:"min-h-5",list:h.list.cards,group:"cards",tag:"div",onChange:p[1]||(p[1]=g=>h.$emit("card-move",g))},{default:wo(()=>[(K(!0),re(Fe,null,Oa(h.list.cards,g=>(K(),re("div",{key:g.id},[ce(v_,{card:g,onOpenModal:_=>h.$emit("open-card-modal",g)},null,8,["card","onOpenModal"])]))),128))]),_:1},8,["list"]),L("button",{class:"w-full p-3 bg-transparent border-2 border-dashed border-gray-300 rounded text-gray-600 cursor-pointer text-sm mt-2 transition-all duration-200 hover:bg-gray-100 hover:border-gray-400 hover:text-gray-800",onClick:l}," + 新增卡片 ")],8,dw))}}),pw={class:"mb-4"},gw={class:"mb-6"},mw=["rows"],yw={key:0,class:"flex justify-end gap-2"},vw=Xe({__name:"CardModal",props:{show:{type:Boolean},card:{}},emits:["close"],setup(t,{emit:e}){const s=t,r=e,{updateCardTitle:n,updateCardDescription:o}=of(),i=ie(""),a=ie(""),l=ie(!1);Dt(()=>s.card,p=>{p&&(i.value=p.title,a.value=p.description||"")},{immediate:!0});const u=()=>{r("close")},c=async()=>{if(s.card&&i.value.trim())try{await n(s.card.id,i.value.trim())}catch(p){console.error("更新標題失敗:",p)}},d=()=>{l.value=!0},f=()=>{l.value=!1,s.card&&(a.value=s.card.description||"")},h=async()=>{if(s.card)try{console.log("🔄 [MODAL] 開始儲存描述變更..."),await o(s.card.id,a.value.trim()),console.log("✅ [MODAL] 描述儲存成功，關閉編輯模式"),l.value=!1,u()}catch(p){console.error("❌ [MODAL] 儲存描述失敗:",p)}};return(p,g)=>p.show?(K(),re("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:u},[L("div",{class:"bg-white rounded-lg p-6 w-96 max-w-full mx-4",onClick:g[2]||(g[2]=cn(()=>{},["stop"]))},[L("div",pw,[g[3]||(g[3]=L("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"卡片標題",-1)),ur(L("input",{"onUpdate:modelValue":g[0]||(g[0]=_=>i.value=_),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",type:"text",placeholder:"輸入卡片標題...",onKeydown:Ts(c,["enter"])},null,544),[[pr,i.value]])]),L("div",gw,[g[4]||(g[4]=L("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"描述",-1)),ur(L("textarea",{"onUpdate:modelValue":g[1]||(g[1]=_=>a.value=_),class:bt(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none transition-all duration-200",l.value?"min-h-32":"min-h-16"]),rows:l.value?6:2,placeholder:"新增更詳細的描述...",onClick:d},null,10,mw),[[pr,a.value]])]),l.value?(K(),re("div",yw,[L("button",{onClick:f,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50 transition-colors"}," 取消 "),L("button",{onClick:h,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"}," 儲存 ")])):Ge("",!0)])])):Ge("",!0)}}),bw=window.setInterval,_w=["aria-label"],ww={key:0,class:"loading-text"},Ew=Xe({__name:"SkeletonLoader",props:{size:{default:"md"},text:{},color:{default:"#3B82F6"},animate:{type:Boolean,default:!0}},setup(t){Lp(a=>({"1e8a0217":a.color}));const e=t,s=ie(""),r=ie(0),n=ie(!0);let o=null;const i=()=>{if(!e.text||!e.animate){s.value=e.text||"";return}o&&clearInterval(o);const a=e.text;o=bw(()=>{n.value?r.value<a.length?(s.value=a.substring(0,r.value+1),r.value++):setTimeout(()=>{n.value=!1},1500):r.value>0?(r.value--,s.value=a.substring(0,r.value)):n.value=!0},n.value?150:100)};return Dt(()=>e.text,()=>{if(!e.animate){s.value=e.text||"";return}r.value=0,n.value=!0,s.value="",i()},{immediate:!0}),br(()=>{i()}),ks(()=>{o&&(clearInterval(o),o=null)}),(a,l)=>(K(),re("div",{class:bt(["loading-spinner",{[`size-${a.size}`]:!0}]),role:"status","aria-label":a.text||"載入中",tabindex:"0"},[l[0]||(l[0]=L("div",{class:"spinner-ring"},null,-1)),a.text!==void 0&&a.text!==null?(K(),re("div",ww,me(s.value),1)):Ge("",!0)],10,_w))}}),Cf=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},xf=Cf(Ew,[["__scopeId","data-v-9079f87b"]]),Sw={class:"flex gap-4 p-4 h-screen overflow-x-auto bg-gray-100 font-sans"},Tw={key:0,class:"flex items-center justify-center w-full h-full"},Cw={class:"text-center"},xw={class:"bg-gray-200 rounded w-80 p-2 flex-shrink-0 flex items-start"},kw=Xe({__name:"TrelloBoard",setup(t){const e=wr(),{addList:s}=Tf(),r=ie(!1),n=ie(null),o=async c=>{if(console.log("📦 [COMPONENT] Card moved event:",c),c.added&&(console.log("🔄 [COMPONENT] 卡片被新增到列表:",c.added),console.log("📝 [COMPONENT] 跨列表移動的 added 事件，由 removed 事件統一處理")),c.moved){console.log("🔄 [COMPONENT] 卡片在列表內移動:",c.moved);const{element:d}=c.moved;let f=null;for(const h of e.board.lists)if(h.cards.find(g=>g.id===d.id)){f=h.id;break}if(f)try{console.log(`🚀 [COMPONENT] 同一列表內移動，重新整理列表 ${f} 的位置`),await e.moveCardAndReorder([f]),console.log("✅ [COMPONENT] 成功更新列表內卡片位置")}catch(h){console.error("❌ [COMPONENT] 更新卡片位置失敗:",h)}}if(c.removed){console.log("📤 [COMPONENT] 卡片從列表被移除（跨列表移動）:",c.removed);const{element:d}=c.removed;let f=null;for(const p of e.board.lists)if(p.cards.find(_=>_.id===d.id)){f=p.id;break}let h=null;if(c.from){const p=c.from.closest("[data-list-id]");p&&(h=p.getAttribute("data-list-id"),console.log("✅ [COMPONENT] 方法1成功獲取 sourceListId:",h))}if(!h&&f){console.log("⚠️ [COMPONENT] 方法1失敗，嘗試方法2：排除法推算 sourceListId");for(const p of e.board.lists)if(p.id!==f&&p.cards.some((_,w)=>_.position!==void 0&&_.position!==w)){h=p.id,console.log("✅ [COMPONENT] 方法2推算出 sourceListId:",h);break}}if(!h&&f){console.log("⚠️ [COMPONENT] 方法1和2都失敗，使用方法3：重新整理所有列表");try{const p=e.board.lists.map(g=>g.id);await e.moveCardAndReorder(p),console.log("✅ [COMPONENT] 方法3：成功重新整理所有列表位置");return}catch(p){console.error("❌ [COMPONENT] 方法3失敗:",p)}}if(f){const p=h?[h,f]:[f];try{console.log(`🚀 [COMPONENT] 跨列表移動：${h||"未知"} → ${f}`),console.log("📋 [COMPONENT] 需要更新的列表:",p),await e.moveCardAndReorder(p),console.log("✅ [COMPONENT] 成功完成跨列表移動並重新整理位置")}catch(g){console.error("❌ [COMPONENT] 跨列表移動失敗:",g),console.log("🔄 [COMPONENT] 嘗試重新載入看板資料...")}}else console.warn("⚠️ [COMPONENT] 無法識別 targetListId，跳過跨列表移動處理"),console.log("📊 [COMPONENT] 當前看板狀態:",{listsCount:e.board.lists.length,cardId:d.id,cardTitle:d.title})}},i=async c=>{if(console.log("📋 [COMPONENT] List moved event:",c),c.moved){console.log("🔄 [COMPONENT] 列表在看板內移動:",c.moved);try{console.log("💾 [COMPONENT] 委派保存列表順序到 Store..."),await e.saveListPositions(),console.log("✅ [COMPONENT] 列表位置已更新")}catch(d){console.error("❌ [COMPONENT] 更新列表順序失敗:",d)}}};console.log("🖼️ [COMPONENT] TrelloBoard 載入，目前 lists 數量:",e.board.lists.length),console.log("🖼️ [COMPONENT] TrelloBoard lists 內容:",e.board.lists);const a=()=>{s()},l=c=>{n.value=c,r.value=!0},u=()=>{r.value=!1,n.value=null};return(c,d)=>(K(),re("div",Sw,[H(e).isLoading?(K(),re("div",Tw,[L("div",Cw,[ce(xf,{size:"lg",text:H(nt).board.loadingFromCloud,color:"#3B82F6",animate:!0},null,8,["text"])])])):(K(),re(Fe,{key:1},[ce(H(Ef),{class:"flex gap-4",list:H(e).board.lists,onChange:i,tag:"div"},{default:wo(()=>[(K(!0),re(Fe,null,Oa(H(e).board.lists,f=>(K(),Zt(hw,{key:f.id,list:f,onCardMove:o,onOpenCardModal:l},null,8,["list"]))),128))]),_:1},8,["list"]),L("div",xw,[L("button",{class:"w-full p-3 bg-transparent border-2 border-dashed border-gray-400 rounded text-gray-700 cursor-pointer text-sm transition-all duration-200 hover:bg-gray-300 hover:border-gray-500",onClick:a}," + "+me(H(nt).list.addNew),1)])],64)),ce(vw,{show:r.value,card:n.value,onClose:u},null,8,["show","card"])]))}}),Ow={class:"google-login-container"},Aw=["disabled"],Pw={key:0,class:"loading-message"},Rw=Xe({__name:"GoogleLoginButton",setup(t){const e=ie(!1),{$supabase:s}=Ie(),r=async()=>{e.value=!0;try{const{error:n}=await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});n&&(console.error("Google 登入失敗：",n),alert(n.message))}catch(n){console.error("Google 登入流程發生錯誤：",n)}finally{}};return(n,o)=>{const i=xf;return K(),re("div",Ow,[L("button",{onClick:r,class:bt(["google-login-btn",{loading:H(e)}]),disabled:H(e)},o[0]||(o[0]=[yp('<svg class="google-icon" width="20" height="20" viewBox="0 0 24 24" data-v-c3015906><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" data-v-c3015906></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" data-v-c3015906></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" data-v-c3015906></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" data-v-c3015906></path></svg><span data-v-c3015906>使用 Google 登錄</span>',2)]),10,Aw),H(e)?(K(),re("div",Pw,[ce(i,{size:"sm",text:"登入中....",color:"#4285F4",animate:!0})])):Ge("",!0)])}}}),Iw=Cf(Rw,[["__scopeId","data-v-c3015906"]]),$w={class:"text-lg font-semibold text-gray-900 text-center mb-2"},jw={class:"text-sm text-gray-600 text-center mb-6"},Lw={class:"flex gap-3 justify-end"},Mw=Xe({__name:"ConfirmDialog",props:{show:{type:Boolean},title:{default:"確認操作"},message:{},confirmText:{default:"確認"},cancelText:{default:"取消"},dangerMode:{type:Boolean,default:!1}},emits:["confirm","cancel"],setup(t,{emit:e}){const s=t,r=e,n=()=>{r("confirm")},o=()=>{r("cancel")},i=a=>{a.key==="Escape"?o():a.key==="Enter"&&n()};return Dt(()=>s.show,a=>{typeof document>"u"||typeof i!="function"||(a?(console.log("🎯 [DIALOG] 開始監聽鍵盤事件 (Enter/Esc)"),document.addEventListener("keydown",i)):(console.log("🎯 [DIALOG] 停止監聽鍵盤事件"),document.removeEventListener("keydown",i)))},{immediate:!0}),ks(()=>{console.log("🧹 [DIALOG] 組件卸載，清理鍵盤監聽器"),typeof document<"u"&&typeof i=="function"&&document.removeEventListener("keydown",i)}),(a,l)=>a.show?(K(),re("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:o},[L("div",{class:"bg-white rounded-lg p-6 w-96 max-w-full mx-4 shadow-xl transform transition-all duration-200 scale-100",onClick:l[0]||(l[0]=cn(()=>{},["stop"]))},[l[1]||(l[1]=L("div",{class:"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-red-100 rounded-full"},[L("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),L("h3",$w,me(a.title||"確認操作"),1),L("p",jw,me(a.message),1),L("div",Lw,[L("button",{onClick:o,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200"},me(a.cancelText||"取消"),1),L("button",{onClick:n,class:bt(["px-4 py-2 text-sm font-medium text-white rounded-md focus:outline-none focus:ring-2 transition-colors duration-200",a.dangerMode?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"])},me(a.confirmText||"確認"),3)])])])):Ge("",!0)}}),Dw={class:"text-lg font-semibold text-gray-900 text-center mb-2"},Nw={key:0,class:"text-sm text-gray-600 text-center mb-4"},Uw={class:"mb-6"},Bw=["placeholder"],Fw={class:"flex gap-3 justify-end"},Hw=["disabled"],qw=Xe({__name:"InputDialog",props:{show:{type:Boolean},title:{default:"輸入資訊"},message:{},placeholder:{default:"請輸入..."},confirmText:{default:"確認"},cancelText:{default:"取消"},initialValue:{default:""}},emits:["confirm","cancel"],setup(t,{emit:e}){const s=t,r=e,n=ie(""),o=ie(null);Dt(()=>s.show,u=>{u&&(n.value=s.initialValue,nn(()=>{o.value&&(o.value.focus(),o.value.select())}))});const i=()=>{const u=n.value.trim();u&&r("confirm",u)},a=()=>{r("cancel")},l=u=>{s.show&&u.key==="Escape"&&a()};return br(()=>{document.addEventListener("keydown",l)}),ks(()=>{document.removeEventListener("keydown",l)}),(u,c)=>u.show?(K(),re("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:a},[L("div",{class:"bg-white rounded-lg p-6 w-96 max-w-full mx-4 shadow-xl transform transition-all duration-200 scale-100",onClick:c[1]||(c[1]=cn(()=>{},["stop"]))},[c[2]||(c[2]=L("div",{class:"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-blue-100 rounded-full"},[L("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})])],-1)),L("h3",Dw,me(u.title||"輸入資訊"),1),u.message?(K(),re("p",Nw,me(u.message),1)):Ge("",!0),L("div",Uw,[ur(L("input",{ref_key:"inputRef",ref:o,"onUpdate:modelValue":c[0]||(c[0]=d=>_e(n)?n.value=d:null),placeholder:u.placeholder,onKeydown:[Ts(i,["enter"]),Ts(a,["escape"])],class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",type:"text"},null,40,Bw),[[pr,H(n)]])]),L("div",Fw,[L("button",{onClick:a,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200"},me(u.cancelText||"取消"),1),L("button",{onClick:i,disabled:!H(n).trim(),class:bt(["px-4 py-2 text-sm font-medium text-white rounded-md focus:outline-none focus:ring-2 transition-colors duration-200",H(n).trim()?"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500":"bg-gray-400 cursor-not-allowed"])},me(u.confirmText||"確認"),11,Hw)])])])):Ge("",!0)}}),Ww={class:"mb-6"},Vw=["disabled"],Kw={class:"flex gap-3 mb-6"},Gw=["disabled"],zw={key:0,class:"flex items-center justify-center gap-2"},Jw={key:1},Yw={key:0,class:"border-t pt-4"},Xw={class:"text-lg font-semibold text-gray-800 mb-3"},Qw={class:"space-y-3 max-h-60 overflow-y-auto"},Zw={class:"flex justify-between items-start"},e0={class:"font-medium text-gray-800 flex-1"},t0={key:0,class:"text-sm text-gray-600 mt-1"},s0={key:1,class:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg"},r0={class:"text-red-700 text-sm"},n0=Xe({__name:"AiTaskModal",props:{show:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const s=e,r=ie(""),n=ie([]),o=ie(!1),i=ie(""),a=wr();async function l(){if(r.value.trim()){o.value=!0,n.value=[],i.value="";try{const d=await fetch("/api/mcp/expand-tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userInput:r.value})});if(!d.ok)throw new Error(`伺服器錯誤: ${d.status}`);const f=await d.json();n.value=f.cards||[],n.value.length===0&&(i.value="沒有生成任何任務，請嘗試更詳細的描述")}catch(d){console.error("生成任務時發生錯誤:",d),i.value="無法連接到 AI 服務，請確認本地伺服器是否運行中"}finally{o.value=!1}}}async function u(){if(n.value.length!==0)try{let d=a.board.lists[0];d||(await a.addList("AI 生成任務"),d=a.board.lists[0]);for(const f of n.value)await a.addCard(d.id,f.title,f.status||"todo");c()}catch(d){console.error("加入卡片到看板時發生錯誤:",d),i.value="加入看板時發生錯誤，請稍後再試"}}function c(){s("close"),setTimeout(()=>{r.value="",n.value=[],i.value="",o.value=!1},300)}return(d,f)=>d.show?(K(),re("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:c},[L("div",{class:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",onClick:f[1]||(f[1]=cn(()=>{},["stop"]))},[L("div",{class:"flex justify-between items-center mb-4"},[f[2]||(f[2]=L("h2",{class:"text-xl font-bold text-gray-800"},"AI 生成任務",-1)),L("button",{onClick:c,class:"text-gray-500 hover:text-gray-700 text-2xl leading-none"}," × ")]),L("div",Ww,[f[3]||(f[3]=L("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," 描述您需要的任務： ",-1)),ur(L("textarea",{"onUpdate:modelValue":f[0]||(f[0]=h=>r.value=h),placeholder:"例如：我需要準備一個產品發表會，包含所有相關的準備工作...",class:"w-full h-32 p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:o.value},null,8,Vw),[[pr,r.value]])]),L("div",Kw,[L("button",{onClick:l,disabled:!r.value.trim()||o.value,class:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200"},[o.value?(K(),re("span",zw,f[4]||(f[4]=[L("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},null,-1),Ia(" 生成中... ",-1)]))):(K(),re("span",Jw,"生成任務"))],8,Gw),L("button",{onClick:c,class:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors duration-200"}," 取消 ")]),n.value.length>0?(K(),re("div",Yw,[L("h3",Xw,"生成的任務 ("+me(n.value.length)+" 項)：",1),L("div",Qw,[(K(!0),re(Fe,null,Oa(n.value,(h,p)=>(K(),re("div",{key:p,class:"p-3 bg-gray-50 rounded-lg border"},[L("div",Zw,[L("h4",e0,me(h.title),1),h.status?(K(),re("span",{key:0,class:bt(["ml-2 px-2 py-1 text-xs rounded-sm font-medium",H(lf)(h.status)])},me(H(af)(h.status)),3)):Ge("",!0)]),h.description?(K(),re("p",t0,me(h.description),1)):Ge("",!0)]))),128))]),L("div",{class:"mt-4 pt-4 border-t"},[L("button",{onClick:u,class:"w-full px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors duration-200"}," 將這些任務加入看板 ")])])):Ge("",!0),i.value?(K(),re("div",s0,[L("p",r0,me(i.value),1)])):Ge("",!0)])])):Ge("",!0)}}),o0={key:0},i0={class:"p-4 bg-gray-200 flex justify-between items-center"},a0={class:"flex items-center gap-4"},l0={class:"text-xl font-bold"},c0={class:"flex items-center gap-4"},u0={class:"text-sm"},d0={key:1,class:"flex items-center justify-center h-screen bg-gray-100"},f0={class:"p-8 bg-white rounded shadow-md w-full max-w-sm text-center"},h0={class:"text-2xl font-bold mb-4"},p0={class:"text-lg text-gray-700 mb-6"},g0={class:"mb-8 space-y-2"},m0={class:"text-gray-600 font-medium"},y0={class:"text-sm text-gray-500"},v0=Xe({__name:"app",setup(t){const{$supabase:e}=Ie(),s=wr(),{confirmState:r,handleConfirm:n,handleCancel:o}=Ja(),{inputState:i,handleConfirm:a,handleCancel:l}=Sf(),u=ie(null),c=ie(!1),d=async()=>{const{error:f}=await e.auth.signOut();f&&console.error("登出失敗",f)};return br(()=>{let f=!1;e.auth.onAuthStateChange(async(h,p)=>{const g=p?.user??null,_=u.value?.id!==g?.id;console.log("🔐 [APP] 認證狀態變化:",{event:h,userChanged:_,hasLoadedBoard:f,previousUserId:u.value?.id,newUserId:g?.id,timestamp:new Date().toLocaleTimeString()}),u.value=g,u.value?_&&!f?(console.log("📋 [APP] 用戶登入，開始載入看板資料"),await s.fetchBoard(),f=!0):console.log("📋 [APP] 跳過重複載入看板資料"):(console.log("🚪 [APP] 用戶登出，清空看板資料"),s.board.lists=[],f=!1)})}),(f,h)=>(K(),re("div",null,[H(u)?(K(),re("div",o0,[L("header",i0,[L("div",a0,[L("h1",l0,me(H(nt).board.title),1),L("button",{onClick:h[0]||(h[0]=p=>c.value=!0),class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm font-medium transition-colors duration-200"}," AI 生成任務 ")]),L("div",c0,[L("span",u0,me(H(u).email),1),L("button",{onClick:d,class:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 text-sm"},me(H(nt).login.logoutButton),1)])]),ce(kw)])):(K(),re("div",d0,[L("div",f0,[L("h1",h0,me(H(nt).login.welcomeTitle),1),L("p",p0,me(H(nt).login.welcomeSubtitle),1),L("div",g0,[L("p",m0,me(H(nt).login.googlePrompt),1),L("p",y0,me(H(nt).login.privacyNote),1)]),ce(Iw)])])),ce(Mw,{show:H(r).show,title:H(r).title,message:H(r).message,"confirm-text":H(r).confirmText,"cancel-text":H(r).cancelText,"danger-mode":H(r).dangerMode,onConfirm:H(n),onCancel:H(o)},null,8,["show","title","message","confirm-text","cancel-text","danger-mode","onConfirm","onCancel"]),ce(qw,{show:H(i).show,title:H(i).title,message:H(i).message,placeholder:H(i).placeholder,"confirm-text":H(i).confirmText,"cancel-text":H(i).cancelText,"initial-value":H(i).initialValue,onConfirm:H(a),onCancel:H(l)},null,8,["show","title","message","placeholder","confirm-text","cancel-text","initial-value","onConfirm","onCancel"]),ce(n0,{show:H(c),onClose:h[1]||(h[1]=p=>c.value=!1)},null,8,["show"])]))}}),b0={__name:"nuxt-error-page",props:{error:Object},setup(t){const s=t.error;s.stack&&s.stack.split(`
`).splice(1).map(d=>({text:d.replace("webpack:/","").replace(".vue",".js").trim(),internal:d.includes("node_modules")&&!d.includes(".cache")||d.includes("internal")||d.includes("new Promise")})).map(d=>`<span class="stack${d.internal?" internal":""}">${d.text}</span>`).join(`
`);const r=Number(s.statusCode||500),n=r===404,o=s.statusMessage??(n?"Page Not Found":"Internal Server Error"),i=s.message||s.toString(),a=void 0,c=n?dl(()=>xs(()=>import("./CWewLsqj.js"),__vite__mapDeps([0,1,2]),import.meta.url)):dl(()=>xs(()=>import("./DxEWWFyx.js"),__vite__mapDeps([3,1,4]),import.meta.url));return(d,f)=>(K(),Zt(H(c),Uf(sd({statusCode:H(r),statusMessage:H(o),description:H(i),stack:H(a)})),null,16))}},_0={key:0},Vc={__name:"nuxt-root",setup(t){const e=()=>null,s=Ie(),r=s.deferHydration();if(s.isHydrating){const u=s.hooks.hookOnce("app:error",r);Cs().beforeEach(u)}const n=!1;Lu(kd,Od()),s.hooks.callHookWith(u=>u.map(c=>c()),"vue:setup");const o=Ua(),i=!1,a=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;Ou((u,c,d)=>{if(s.hooks.callHook("vue:error",u,c,d).catch(f=>console.error("[nuxt] Error in `vue:error` hook",f)),a.test(navigator.userAgent))return s.hooks.callHook("app:error",u),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,u),!1;if(Om(u)&&(u.fatal||u.unhandled))return s.runWithContext(()=>xm(u)),!1});const l=!1;return(u,c)=>(K(),Zt(up,{onResolve:H(r)},{default:wo(()=>[H(i)?(K(),re("div",_0)):H(o)?(K(),Zt(H(b0),{key:1,error:H(o)},null,8,["error"])):H(l)?(K(),Zt(H(e),{key:2,context:H(l)},null,8,["context"])):H(n)?(K(),Zt(Lh(H(n)),{key:3})):(K(),Zt(H(v0),{key:4}))]),_:1},8,["onResolve"]))}};let Kc;{let t;Kc=async function(){if(t)return t;const r=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true")?tg(Vc):eg(Vc),n=cm({vueApp:r});async function o(i){await n.callHook("app:error",i),n.payload.error||=Ba(i)}r.config.errorHandler=o,n.hook("app:suspense:resolve",()=>{r.config.errorHandler===o&&(r.config.errorHandler=void 0)});try{await fm(n,c_)}catch(i){o(i)}try{await n.hooks.callHook("app:created",r),await n.hooks.callHook("app:beforeMount",r),r.mount(im),await n.hooks.callHook("app:mounted",r),await nn()}catch(i){o(i)}return r},t=Kc().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{ce as A,wo as B,Ia as C,E0 as D,pm as E,So as F,ws as G,Md as H,Jy as I,zy as J,Cf as _,Ie as a,qa as b,rc as c,Xe as d,ku as e,S0 as f,jh as g,Ii as h,Cm as i,ln as j,_r as k,ko as l,gr as m,Tm as n,br as o,La as p,Ma as q,ie as r,al as s,w0 as t,Cs as u,re as v,Di as w,K as x,L as y,me as z};
